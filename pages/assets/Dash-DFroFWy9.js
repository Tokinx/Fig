import{c as $,o as x,e as j,n as z,u as g,f as J,S as Ne,g as L,w as E,h as je,i as ze,j as mt,m as Y,k as pt,b as S,l as yt,p as vt,v as bt,r as D,q as wt,B as _t,T as Ct,$ as Et,P as kt,X as St,a as y,s as xt,I as Tt,x as Bt,y as ce,d as R,t as q,z as ve,F as Me,A as Pe,C as ne,D as At,E as G,G as Nt,H as Mt,J as Pt,K as $t,L as It,M as Rt,N as Ve,O as Dt,Q as Lt,R as qt,U as Ut}from"./index-BQ6ak-0R.js";import{a as U,b as He,u as Ot,_ as Se}from"./Input-BiZyDoj_.js";import{_ as X}from"./Label-CrUfWkka.js";const Ft={__name:"CardContent",props:{class:{type:String,default:""}},setup(t){const e=t;return(r,s)=>(x(),$("div",{class:z(g(J)("p-6 pt-0",e.class))},[j(r.$slots,"default")],2))}};function ue(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ue=function(e){return typeof e}:ue=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vt(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Je=Vt(function(t,e){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */(function(r,s){t.exports=s()})(jt,function(){return o={},r.m=s=[function(n,a){n.exports=function(i){var l;if(i.nodeName==="SELECT")i.focus(),l=i.value;else if(i.nodeName==="INPUT"||i.nodeName==="TEXTAREA"){var d=i.hasAttribute("readonly");d||i.setAttribute("readonly",""),i.select(),i.setSelectionRange(0,i.value.length),d||i.removeAttribute("readonly"),l=i.value}else{i.hasAttribute("contenteditable")&&i.focus();var c=window.getSelection(),v=document.createRange();v.selectNodeContents(i),c.removeAllRanges(),c.addRange(v),l=c.toString()}return l}},function(n,a){function i(){}i.prototype={on:function(l,d,c){var v=this.e||(this.e={});return(v[l]||(v[l]=[])).push({fn:d,ctx:c}),this},once:function(l,d,c){var v=this;function f(){v.off(l,f),d.apply(c,arguments)}return f._=d,this.on(l,f,c)},emit:function(l){for(var d=[].slice.call(arguments,1),c=((this.e||(this.e={}))[l]||[]).slice(),v=0,f=c.length;v<f;v++)c[v].fn.apply(c[v].ctx,d);return this},off:function(l,d){var c=this.e||(this.e={}),v=c[l],f=[];if(v&&d)for(var u=0,m=v.length;u<m;u++)v[u].fn!==d&&v[u].fn._!==d&&f.push(v[u]);return f.length?c[l]=f:delete c[l],this}},n.exports=i,n.exports.TinyEmitter=i},function(n,a,i){var l=i(3),d=i(4);n.exports=function(c,v,f){if(!c&&!v&&!f)throw new Error("Missing required arguments");if(!l.string(v))throw new TypeError("Second argument must be a String");if(!l.fn(f))throw new TypeError("Third argument must be a Function");if(l.node(c))return b=v,A=f,(w=c).addEventListener(b,A),{destroy:function(){w.removeEventListener(b,A)}};if(l.nodeList(c))return M=c,_=v,k=f,Array.prototype.forEach.call(M,function(N){N.addEventListener(_,k)}),{destroy:function(){Array.prototype.forEach.call(M,function(N){N.removeEventListener(_,k)})}};if(l.string(c))return u=c,m=v,C=f,d(document.body,u,m,C);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var u,m,C,M,_,k,w,b,A}},function(n,a){a.node=function(i){return i!==void 0&&i instanceof HTMLElement&&i.nodeType===1},a.nodeList=function(i){var l=Object.prototype.toString.call(i);return i!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in i&&(i.length===0||a.node(i[0]))},a.string=function(i){return typeof i=="string"||i instanceof String},a.fn=function(i){return Object.prototype.toString.call(i)==="[object Function]"}},function(n,a,i){var l=i(5);function d(c,v,f,u,m){var C=(function(M,_,k,w){return function(b){b.delegateTarget=l(b.target,_),b.delegateTarget&&w.call(M,b)}}).apply(this,arguments);return c.addEventListener(f,C,m),{destroy:function(){c.removeEventListener(f,C,m)}}}n.exports=function(c,v,f,u,m){return typeof c.addEventListener=="function"?d.apply(null,arguments):typeof f=="function"?d.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(C){return d(C,v,f,u,m)}))}},function(n,a){if(typeof Element<"u"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}n.exports=function(l,d){for(;l&&l.nodeType!==9;){if(typeof l.matches=="function"&&l.matches(d))return l;l=l.parentNode}}},function(n,a,i){i.r(a);var l=i(0),d=i.n(l),c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function v(h,p){for(var T=0;T<p.length;T++){var P=p[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}function f(h){(function(p,T){if(!(p instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f),this.resolveOptions(h),this.initSelection()}var u=(function(h,p,T){return p&&v(h.prototype,p),h}(f,[{key:"resolveOptions",value:function(h){var p=0<arguments.length&&h!==void 0?h:{};this.action=p.action,this.container=p.container,this.emitter=p.emitter,this.target=p.target,this.text=p.text,this.trigger=p.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var h=this,p=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return h.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[p?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=T+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=d()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=d()(this.target),this.copyText()}},{key:"copyText",value:function(){var h=void 0;try{h=document.execCommand(this.action)}catch{h=!1}this.handleResult(h)}},{key:"handleResult",value:function(h){this.emitter.emit(h?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(h){var p=0<arguments.length&&h!==void 0?h:"copy";if(this._action=p,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(h){if(h!==void 0){if(!h||(h===void 0?"undefined":c(h))!=="object"||h.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&h.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(h.hasAttribute("readonly")||h.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=h}},get:function(){return this._target}}]),f),m=i(1),C=i.n(m),M=i(2),_=i.n(M),k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},w=function(h,p,T){return p&&b(h.prototype,p),T&&b(h,T),h};function b(h,p){for(var T=0;T<p.length;T++){var P=p[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(h,P.key,P)}}var A=(function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}(N,C.a),w(N,[{key:"resolveOptions",value:function(h){var p=0<arguments.length&&h!==void 0?h:{};this.action=typeof p.action=="function"?p.action:this.defaultAction,this.target=typeof p.target=="function"?p.target:this.defaultTarget,this.text=typeof p.text=="function"?p.text:this.defaultText,this.container=k(p.container)==="object"?p.container:document.body}},{key:"listenClick",value:function(h){var p=this;this.listener=_()(h,"click",function(T){return p.onClick(T)})}},{key:"onClick",value:function(h){var p=h.delegateTarget||h.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u({action:this.action(p),target:this.target(p),text:this.text(p),container:this.container,trigger:p,emitter:this})}},{key:"defaultAction",value:function(h){return I("action",h)}},{key:"defaultTarget",value:function(h){var p=I("target",h);if(p)return document.querySelector(p)}},{key:"defaultText",value:function(h){return I("text",h)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(h){var p=0<arguments.length&&h!==void 0?h:["copy","cut"],T=typeof p=="string"?[p]:p,P=!!document.queryCommandSupported;return T.forEach(function(F){P=P&&!!document.queryCommandSupported(F)}),P}}]),N);function N(h,p){(function(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")})(this,N);var T=function(P,F){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?P:F}(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return T.resolveOptions(p),T.listenClick(h),T}function I(h,p){var T="data-clipboard-"+h;if(p.hasAttribute(T))return p.getAttribute(T)}a.default=A}],r.c=o,r.d=function(n,a,i){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var l in n)r.d(i,l,(function(d){return n[d]}).bind(null,l));return i},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=6).default;function r(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return s[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var s,o})}),Ht=zt(Je);Je.ClipboardJS;function Jt(t,e,r){var s=document.createElement("button"),o=new Ht(s,{text:function(){return t},action:function(){return"copy"},container:ue(e)==="object"?e:document.body});o.on("success",function(n){o.destroy(),r(void 0,n)}),o.on("error",function(n){o.destroy(),r(n,void 0)}),document.body.appendChild(s),s.click(),document.body.removeChild(s)}const Kt={__name:"DropdownMenu",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(t,{emit:e}){const o=Ne(t,e);return(n,a)=>(x(),L(g(mt),je(ze(g(o))),{default:E(()=>[j(n.$slots,"default")]),_:3},16))}},Yt={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(r,s)=>(x(),L(g(pt),Y({class:"outline-none"},e),{default:E(()=>[j(r.$slots,"default")]),_:3},16))}},Qt={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,o=Ne(r,e);return(n,a)=>(x(),L(g(vt),null,{default:E(()=>[S(g(yt),Y({class:[g(J)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r.class)]},g(o)),{default:E(()=>[j(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}},Gt={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},inset:{type:Boolean,required:!1},class:{type:String,required:!1}},setup(t){const e=t;return(r,s)=>(x(),L(g(bt),Y(e,{class:[g(J)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.inset&&"pl-8",e.class)]}),{default:E(()=>[j(r.$slots,"default")]),_:3},16,["class"]))}},Ke=t=>JSON.parse(JSON.stringify(t)),Ye={url:"",slug:"",displayName:"",notes:"",mode:"redirect"},Xt=[{value:"redirect",label:"跳转",description:"302 重定向到目标地址"},{value:"remind",label:"提醒",description:"用户访问时显示目标地址和备注信息"},{value:"cloaking",label:"隐藏",description:"隐藏目标地址，让用户只看到其中的短链接"},{value:"proxy",label:"代理",description:"通过服务器加载目标地址，同时代理子路径"}],B=D({visible:!1,isCreate:!0,formData:Ke(Ye),resolve:()=>{},reject:()=>{}}),be=t=>{t?B.value.resolve():B.value.reject(),B.value.visible=!1};function de(t){const e=Ke(Object.assign({},Ye,t));return B.value.isCreate=!e.creation,B.value.formData=e,B.value.visible=!0,new Promise((r,s)=>{B.value.resolve=r,B.value.reject=s})}var se={},Zt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Qe={},O={};let $e;const Wt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];O.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};O.getSymbolTotalCodewords=function(e){return Wt[e]};O.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};O.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');$e=e};O.isKanjiModeEnabled=function(){return typeof $e<"u"};O.toSJIS=function(e){return $e(e)};var he={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,o){if(t.isValid(s))return s;try{return e(s)}catch{return o}}})(he);function Ge(){this.buffer=[],this.length=0}Ge.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var en=Ge;function ie(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ie.prototype.set=function(t,e,r,s){const o=t*this.size+e;this.data[o]=r,s&&(this.reservedBit[o]=!0)};ie.prototype.get=function(t,e){return this.data[t*this.size+e]};ie.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};ie.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var tn=ie,Xe={};(function(t){const e=O.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const o=Math.floor(s/7)+2,n=e(s),a=n===145?26:Math.ceil((n-13)/(2*o-2))*2,i=[n-7];for(let l=1;l<o-1;l++)i[l]=i[l-1]-a;return i.push(6),i.reverse()},t.getPositions=function(s){const o=[],n=t.getRowColCoords(s),a=n.length;for(let i=0;i<a;i++)for(let l=0;l<a;l++)i===0&&l===0||i===0&&l===a-1||i===a-1&&l===0||o.push([n[i],n[l]]);return o}})(Xe);var Ze={};const nn=O.getSymbolSize,qe=7;Ze.getPositions=function(e){const r=nn(e);return[[0,0],[r-qe,0],[0,r-qe]]};var We={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const n=o.size;let a=0,i=0,l=0,d=null,c=null;for(let v=0;v<n;v++){i=l=0,d=c=null;for(let f=0;f<n;f++){let u=o.get(v,f);u===d?i++:(i>=5&&(a+=e.N1+(i-5)),d=u,i=1),u=o.get(f,v),u===c?l++:(l>=5&&(a+=e.N1+(l-5)),c=u,l=1)}i>=5&&(a+=e.N1+(i-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(o){const n=o.size;let a=0;for(let i=0;i<n-1;i++)for(let l=0;l<n-1;l++){const d=o.get(i,l)+o.get(i,l+1)+o.get(i+1,l)+o.get(i+1,l+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(o){const n=o.size;let a=0,i=0,l=0;for(let d=0;d<n;d++){i=l=0;for(let c=0;c<n;c++)i=i<<1&2047|o.get(d,c),c>=10&&(i===1488||i===93)&&a++,l=l<<1&2047|o.get(c,d),c>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(o){let n=0;const a=o.data.length;for(let l=0;l<a;l++)n+=o.data[l];return Math.abs(Math.ceil(n*100/a/5)-10)*e.N4};function r(s,o,n){switch(s){case t.Patterns.PATTERN000:return(o+n)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return n%3===0;case t.Patterns.PATTERN011:return(o+n)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(n/3))%2===0;case t.Patterns.PATTERN101:return o*n%2+o*n%3===0;case t.Patterns.PATTERN110:return(o*n%2+o*n%3)%2===0;case t.Patterns.PATTERN111:return(o*n%3+(o+n)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(o,n){const a=n.size;for(let i=0;i<a;i++)for(let l=0;l<a;l++)n.isReserved(l,i)||n.xor(l,i,r(o,l,i))},t.getBestMask=function(o,n){const a=Object.keys(t.Patterns).length;let i=0,l=1/0;for(let d=0;d<a;d++){n(d),t.applyMask(d,o);const c=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(d,o),c<l&&(l=c,i=d)}return i}})(We);var me={};const K=he,ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],le=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];me.getBlocksCount=function(e,r){switch(r){case K.L:return ae[(e-1)*4+0];case K.M:return ae[(e-1)*4+1];case K.Q:return ae[(e-1)*4+2];case K.H:return ae[(e-1)*4+3];default:return}};me.getTotalCodewordsCount=function(e,r){switch(r){case K.L:return le[(e-1)*4+0];case K.M:return le[(e-1)*4+1];case K.Q:return le[(e-1)*4+2];case K.H:return le[(e-1)*4+3];default:return}};var et={},pe={};const oe=new Uint8Array(512),fe=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)oe[r]=e,fe[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)oe[r]=oe[r-255]})();pe.log=function(e){if(e<1)throw new Error("log("+e+")");return fe[e]};pe.exp=function(e){return oe[e]};pe.mul=function(e,r){return e===0||r===0?0:oe[fe[e]+fe[r]]};(function(t){const e=pe;t.mul=function(s,o){const n=new Uint8Array(s.length+o.length-1);for(let a=0;a<s.length;a++)for(let i=0;i<o.length;i++)n[a+i]^=e.mul(s[a],o[i]);return n},t.mod=function(s,o){let n=new Uint8Array(s);for(;n.length-o.length>=0;){const a=n[0];for(let l=0;l<o.length;l++)n[l]^=e.mul(o[l],a);let i=0;for(;i<n.length&&n[i]===0;)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(s){let o=new Uint8Array([1]);for(let n=0;n<s;n++)o=t.mul(o,new Uint8Array([1,e.exp(n)]));return o}})(et);const tt=et;function Ie(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Ie.prototype.initialize=function(e){this.degree=e,this.genPoly=tt.generateECPolynomial(this.degree)};Ie.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const s=tt.mod(r,this.genPoly),o=this.degree-s.length;if(o>0){const n=new Uint8Array(this.degree);return n.set(s,o),n}return s};var on=Ie,nt={},Q={},Re={};Re.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var V={};const ot="[0-9]+",rn="[A-Z $%*+\\-./:]+";let re="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";re=re.replace(/u/g,"\\u");const sn="(?:(?![A-Z0-9 $%*+\\-./:]|"+re+`)(?:.|[\r
]))+`;V.KANJI=new RegExp(re,"g");V.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");V.BYTE=new RegExp(sn,"g");V.NUMERIC=new RegExp(ot,"g");V.ALPHANUMERIC=new RegExp(rn,"g");const an=new RegExp("^"+re+"$"),ln=new RegExp("^"+ot+"$"),un=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");V.testKanji=function(e){return an.test(e)};V.testNumeric=function(e){return ln.test(e)};V.testAlphanumeric=function(e){return un.test(e)};(function(t){const e=Re,r=V;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(n,a){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?n.ccBits[0]:a<27?n.ccBits[1]:n.ccBits[2]},t.getBestModeForData=function(n){return r.testNumeric(n)?t.NUMERIC:r.testAlphanumeric(n)?t.ALPHANUMERIC:r.testKanji(n)?t.KANJI:t.BYTE},t.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},t.isValid=function(n){return n&&n.bit&&n.ccBits};function s(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(n,a){if(t.isValid(n))return n;try{return s(n)}catch{return a}}})(Q);(function(t){const e=O,r=me,s=he,o=Q,n=Re,a=7973,i=e.getBCHDigit(a);function l(f,u,m){for(let C=1;C<=40;C++)if(u<=t.getCapacity(C,m,f))return C}function d(f,u){return o.getCharCountIndicator(f,u)+4}function c(f,u){let m=0;return f.forEach(function(C){const M=d(C.mode,u);m+=M+C.getBitsLength()}),m}function v(f,u){for(let m=1;m<=40;m++)if(c(f,m)<=t.getCapacity(m,u,o.MIXED))return m}t.from=function(u,m){return n.isValid(u)?parseInt(u,10):m},t.getCapacity=function(u,m,C){if(!n.isValid(u))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=o.BYTE);const M=e.getSymbolTotalCodewords(u),_=r.getTotalCodewordsCount(u,m),k=(M-_)*8;if(C===o.MIXED)return k;const w=k-d(C,u);switch(C){case o.NUMERIC:return Math.floor(w/10*3);case o.ALPHANUMERIC:return Math.floor(w/11*2);case o.KANJI:return Math.floor(w/13);case o.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(u,m){let C;const M=s.from(m,s.M);if(Array.isArray(u)){if(u.length>1)return v(u,M);if(u.length===0)return 1;C=u[0]}else C=u;return l(C.mode,C.getLength(),M)},t.getEncodedBits=function(u){if(!n.isValid(u)||u<7)throw new Error("Invalid QR Code version");let m=u<<12;for(;e.getBCHDigit(m)-i>=0;)m^=a<<e.getBCHDigit(m)-i;return u<<12|m}})(nt);var rt={};const xe=O,st=1335,cn=21522,Ue=xe.getBCHDigit(st);rt.getEncodedBits=function(e,r){const s=e.bit<<3|r;let o=s<<10;for(;xe.getBCHDigit(o)-Ue>=0;)o^=st<<xe.getBCHDigit(o)-Ue;return(s<<10|o)^cn};var it={};const dn=Q;function Z(t){this.mode=dn.NUMERIC,this.data=t.toString()}Z.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Z.prototype.getLength=function(){return this.data.length};Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)};Z.prototype.write=function(e){let r,s,o;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),o=parseInt(s,10),e.put(o,10);const n=this.data.length-r;n>0&&(s=this.data.substr(r),o=parseInt(s,10),e.put(o,n*3+1))};var fn=Z;const gn=Q,we=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function W(t){this.mode=gn.ALPHANUMERIC,this.data=t}W.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let s=we.indexOf(this.data[r])*45;s+=we.indexOf(this.data[r+1]),e.put(s,11)}this.data.length%2&&e.put(we.indexOf(this.data[r]),6)};var hn=W;const mn=Q;function ee(t){this.mode=mn.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}ee.getBitsLength=function(e){return e*8};ee.prototype.getLength=function(){return this.data.length};ee.prototype.getBitsLength=function(){return ee.getBitsLength(this.data.length)};ee.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var pn=ee;const yn=Q,vn=O;function te(t){this.mode=yn.KANJI,this.data=t}te.getBitsLength=function(e){return e*13};te.prototype.getLength=function(){return this.data.length};te.prototype.getBitsLength=function(){return te.getBitsLength(this.data.length)};te.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=vn.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var bn=te,at={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,s,o){var n={},a={};a[s]=0;var i=e.PriorityQueue.make();i.push(s,0);for(var l,d,c,v,f,u,m,C,M;!i.empty();){l=i.pop(),d=l.value,v=l.cost,f=r[d]||{};for(c in f)f.hasOwnProperty(c)&&(u=f[c],m=v+u,C=a[c],M=typeof a[c]>"u",(M||C>m)&&(a[c]=m,i.push(c,m),n[c]=d))}if(typeof o<"u"&&typeof a[o]>"u"){var _=["Could not find a path from ",s," to ",o,"."].join("");throw new Error(_)}return n},extract_shortest_path_from_predecessor_list:function(r,s){for(var o=[],n=s;n;)o.push(n),r[n],n=r[n];return o.reverse(),o},find_path:function(r,s,o){var n=e.single_source_shortest_paths(r,s,o);return e.extract_shortest_path_from_predecessor_list(n,o)},PriorityQueue:{make:function(r){var s=e.PriorityQueue,o={},n;r=r||{};for(n in s)s.hasOwnProperty(n)&&(o[n]=s[n]);return o.queue=[],o.sorter=r.sorter||s.default_sorter,o},default_sorter:function(r,s){return r.cost-s.cost},push:function(r,s){var o={value:r,cost:s};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(at);var wn=at.exports;(function(t){const e=Q,r=fn,s=hn,o=pn,n=bn,a=V,i=O,l=wn;function d(_){return unescape(encodeURIComponent(_)).length}function c(_,k,w){const b=[];let A;for(;(A=_.exec(w))!==null;)b.push({data:A[0],index:A.index,mode:k,length:A[0].length});return b}function v(_){const k=c(a.NUMERIC,e.NUMERIC,_),w=c(a.ALPHANUMERIC,e.ALPHANUMERIC,_);let b,A;return i.isKanjiModeEnabled()?(b=c(a.BYTE,e.BYTE,_),A=c(a.KANJI,e.KANJI,_)):(b=c(a.BYTE_KANJI,e.BYTE,_),A=[]),k.concat(w,b,A).sort(function(I,h){return I.index-h.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(_,k){switch(k){case e.NUMERIC:return r.getBitsLength(_);case e.ALPHANUMERIC:return s.getBitsLength(_);case e.KANJI:return n.getBitsLength(_);case e.BYTE:return o.getBitsLength(_)}}function u(_){return _.reduce(function(k,w){const b=k.length-1>=0?k[k.length-1]:null;return b&&b.mode===w.mode?(k[k.length-1].data+=w.data,k):(k.push(w),k)},[])}function m(_){const k=[];for(let w=0;w<_.length;w++){const b=_[w];switch(b.mode){case e.NUMERIC:k.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:k.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:k.push([b,{data:b.data,mode:e.BYTE,length:d(b.data)}]);break;case e.BYTE:k.push([{data:b.data,mode:e.BYTE,length:d(b.data)}])}}return k}function C(_,k){const w={},b={start:{}};let A=["start"];for(let N=0;N<_.length;N++){const I=_[N],h=[];for(let p=0;p<I.length;p++){const T=I[p],P=""+N+p;h.push(P),w[P]={node:T,lastCount:0},b[P]={};for(let F=0;F<A.length;F++){const H=A[F];w[H]&&w[H].node.mode===T.mode?(b[H][P]=f(w[H].lastCount+T.length,T.mode)-f(w[H].lastCount,T.mode),w[H].lastCount+=T.length):(w[H]&&(w[H].lastCount=T.length),b[H][P]=f(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,k))}}A=h}for(let N=0;N<A.length;N++)b[A[N]].end=0;return{map:b,table:w}}function M(_,k){let w;const b=e.getBestModeForData(_);if(w=e.from(k,b),w!==e.BYTE&&w.bit<b.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(b));switch(w===e.KANJI&&!i.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new r(_);case e.ALPHANUMERIC:return new s(_);case e.KANJI:return new n(_);case e.BYTE:return new o(_)}}t.fromArray=function(k){return k.reduce(function(w,b){return typeof b=="string"?w.push(M(b,null)):b.data&&w.push(M(b.data,b.mode)),w},[])},t.fromString=function(k,w){const b=v(k,i.isKanjiModeEnabled()),A=m(b),N=C(A,w),I=l.find_path(N.map,"start","end"),h=[];for(let p=1;p<I.length-1;p++)h.push(N.table[I[p]].node);return t.fromArray(u(h))},t.rawSplit=function(k){return t.fromArray(v(k,i.isKanjiModeEnabled()))}})(it);const ye=O,_e=he,_n=en,Cn=tn,En=Xe,kn=Ze,Te=We,Be=me,Sn=on,ge=nt,xn=rt,Tn=Q,Ce=it;function Bn(t,e){const r=t.size,s=kn.getPositions(e);for(let o=0;o<s.length;o++){const n=s[o][0],a=s[o][1];for(let i=-1;i<=7;i++)if(!(n+i<=-1||r<=n+i))for(let l=-1;l<=7;l++)a+l<=-1||r<=a+l||(i>=0&&i<=6&&(l===0||l===6)||l>=0&&l<=6&&(i===0||i===6)||i>=2&&i<=4&&l>=2&&l<=4?t.set(n+i,a+l,!0,!0):t.set(n+i,a+l,!1,!0))}}function An(t){const e=t.size;for(let r=8;r<e-8;r++){const s=r%2===0;t.set(r,6,s,!0),t.set(6,r,s,!0)}}function Nn(t,e){const r=En.getPositions(e);for(let s=0;s<r.length;s++){const o=r[s][0],n=r[s][1];for(let a=-2;a<=2;a++)for(let i=-2;i<=2;i++)a===-2||a===2||i===-2||i===2||a===0&&i===0?t.set(o+a,n+i,!0,!0):t.set(o+a,n+i,!1,!0)}}function Mn(t,e){const r=t.size,s=ge.getEncodedBits(e);let o,n,a;for(let i=0;i<18;i++)o=Math.floor(i/3),n=i%3+r-8-3,a=(s>>i&1)===1,t.set(o,n,a,!0),t.set(n,o,a,!0)}function Ee(t,e,r){const s=t.size,o=xn.getEncodedBits(e,r);let n,a;for(n=0;n<15;n++)a=(o>>n&1)===1,n<6?t.set(n,8,a,!0):n<8?t.set(n+1,8,a,!0):t.set(s-15+n,8,a,!0),n<8?t.set(8,s-n-1,a,!0):n<9?t.set(8,15-n-1+1,a,!0):t.set(8,15-n-1,a,!0);t.set(s-8,8,1,!0)}function Pn(t,e){const r=t.size;let s=-1,o=r-1,n=7,a=0;for(let i=r-1;i>0;i-=2)for(i===6&&i--;;){for(let l=0;l<2;l++)if(!t.isReserved(o,i-l)){let d=!1;a<e.length&&(d=(e[a]>>>n&1)===1),t.set(o,i-l,d),n--,n===-1&&(a++,n=7)}if(o+=s,o<0||r<=o){o-=s,s=-s;break}}}function $n(t,e,r){const s=new _n;r.forEach(function(l){s.put(l.mode.bit,4),s.put(l.getLength(),Tn.getCharCountIndicator(l.mode,t)),l.write(s)});const o=ye.getSymbolTotalCodewords(t),n=Be.getTotalCodewordsCount(t,e),a=(o-n)*8;for(s.getLengthInBits()+4<=a&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const i=(a-s.getLengthInBits())/8;for(let l=0;l<i;l++)s.put(l%2?17:236,8);return In(s,t,e)}function In(t,e,r){const s=ye.getSymbolTotalCodewords(e),o=Be.getTotalCodewordsCount(e,r),n=s-o,a=Be.getBlocksCount(e,r),i=s%a,l=a-i,d=Math.floor(s/a),c=Math.floor(n/a),v=c+1,f=d-c,u=new Sn(f);let m=0;const C=new Array(a),M=new Array(a);let _=0;const k=new Uint8Array(t.buffer);for(let I=0;I<a;I++){const h=I<l?c:v;C[I]=k.slice(m,m+h),M[I]=u.encode(C[I]),m+=h,_=Math.max(_,h)}const w=new Uint8Array(s);let b=0,A,N;for(A=0;A<_;A++)for(N=0;N<a;N++)A<C[N].length&&(w[b++]=C[N][A]);for(A=0;A<f;A++)for(N=0;N<a;N++)w[b++]=M[N][A];return w}function Rn(t,e,r,s){let o;if(Array.isArray(t))o=Ce.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const c=Ce.rawSplit(t);d=ge.getBestVersionForData(c,r)}o=Ce.fromString(t,d||40)}else throw new Error("Invalid data");const n=ge.getBestVersionForData(o,r);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=n;else if(e<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const a=$n(e,r,o),i=ye.getSymbolSize(e),l=new Cn(i);return Bn(l,e),An(l),Nn(l,e),Ee(l,r,0),e>=7&&Mn(l,e),Pn(l,a),isNaN(s)&&(s=Te.getBestMask(l,Ee.bind(null,l,r))),Te.applyMask(s,l),Ee(l,r,s),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:s,segments:o}}Qe.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let s=_e.M,o,n;return typeof r<"u"&&(s=_e.from(r.errorCorrectionLevel,_e.M),o=ge.from(r.version),n=Te.from(r.maskPattern),r.toSJISFunc&&ye.setToSJISFunction(r.toSJISFunc)),Rn(e,o,s,n)};var lt={},De={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let s=r.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+r);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(n){return[n,n]}))),s.length===6&&s.push("F","F");const o=parseInt(s.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const o=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,n=s.width&&s.width>=21?s.width:void 0,a=s.scale||4;return{width:n,scale:n?4:a,margin:o,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,o){return o.width&&o.width>=s+o.margin*2?o.width/(s+o.margin*2):o.scale},t.getImageWidth=function(s,o){const n=t.getScale(s,o);return Math.floor((s+o.margin*2)*n)},t.qrToImageData=function(s,o,n){const a=o.modules.size,i=o.modules.data,l=t.getScale(a,n),d=Math.floor((a+n.margin*2)*l),c=n.margin*l,v=[n.color.light,n.color.dark];for(let f=0;f<d;f++)for(let u=0;u<d;u++){let m=(f*d+u)*4,C=n.color.light;if(f>=c&&u>=c&&f<d-c&&u<d-c){const M=Math.floor((f-c)/l),_=Math.floor((u-c)/l);C=v[i[M*a+_]?1:0]}s[m++]=C.r,s[m++]=C.g,s[m++]=C.b,s[m]=C.a}}})(De);(function(t){const e=De;function r(o,n,a){o.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=a,n.width=a,n.style.height=a+"px",n.style.width=a+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(n,a,i){let l=i,d=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(d=s()),l=e.getOptions(l);const c=e.getImageWidth(n.modules.size,l),v=d.getContext("2d"),f=v.createImageData(c,c);return e.qrToImageData(f.data,n,l),r(v,d,c),v.putImageData(f,0,0),d},t.renderToDataURL=function(n,a,i){let l=i;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const d=t.render(n,a,l),c=l.type||"image/png",v=l.rendererOpts||{};return d.toDataURL(c,v.quality)}})(lt);var ut={};const Dn=De;function Oe(t,e){const r=t.a/255,s=e+'="'+t.hex+'"';return r<1?s+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':s}function ke(t,e,r){let s=t+e;return typeof r<"u"&&(s+=" "+r),s}function Ln(t,e,r){let s="",o=0,n=!1,a=0;for(let i=0;i<t.length;i++){const l=Math.floor(i%e),d=Math.floor(i/e);!l&&!n&&(n=!0),t[i]?(a++,i>0&&l>0&&t[i-1]||(s+=n?ke("M",l+r,.5+d+r):ke("m",o,0),o=0,n=!1),l+1<e&&t[i+1]||(s+=ke("h",a),a=0)):o++}return s}ut.render=function(e,r,s){const o=Dn.getOptions(r),n=e.modules.size,a=e.modules.data,i=n+o.margin*2,l=o.color.light.a?"<path "+Oe(o.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",d="<path "+Oe(o.color.dark,"stroke")+' d="'+Ln(a,n,o.margin)+'"/>',c='viewBox="0 0 '+i+" "+i+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof s=="function"&&s(null,f),f};const qn=Zt,Ae=Qe,ct=lt,Un=ut;function Le(t,e,r,s,o){const n=[].slice.call(arguments,1),a=n.length,i=typeof n[a-1]=="function";if(!i&&!qn())throw new Error("Callback required as last argument");if(i){if(a<2)throw new Error("Too few arguments provided");a===2?(o=r,r=e,e=s=void 0):a===3&&(e.getContext&&typeof o>"u"?(o=s,s=void 0):(o=s,s=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=s=void 0):a===2&&!e.getContext&&(s=r,r=e,e=void 0),new Promise(function(l,d){try{const c=Ae.create(r,s);l(t(c,e,s))}catch(c){d(c)}})}try{const l=Ae.create(r,s);o(null,t(l,e,s))}catch(l){o(l)}}se.create=Ae.create;se.toCanvas=Le.bind(null,ct.render);se.toDataURL=Le.bind(null,ct.renderToDataURL);se.toString=Le.bind(null,function(t,e,r){return Un.render(t,r)});const dt={__name:"Dialog",setup(t){return(e,r)=>(x(),L(g(wt),null,{default:E(()=>[j(e.$slots,"default")]),_:3}))}},ft={__name:"DialogHeader",props:{class:{type:String,required:!1}},setup(t){const e=t;return(r,s)=>(x(),$("div",{class:z(g(J)("flex flex-col space-y-2 text-center sm:text-left",e.class))},[j(r.$slots,"default")],2))}},gt={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(t){const e=t;return(r,s)=>(x(),L(g(_t),Y(e,{class:g(J)("text-lg text-foreground font-semibold leading-none tracking-tight",e.class)}),{default:E(()=>[j(r.$slots,"default")]),_:3},16,["class"]))}},ht={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,o=Ct(e);return(n,a)=>(x(),L(g(Tt),null,{default:E(()=>[S(g(Et),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),S(g(kt),Y({class:g(J)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",r.class)},{...r,...g(o)}),{default:E(()=>[j(n.$slots,"default"),S(g(St),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:E(()=>[S(g(xt),{class:"w-4 h-4"}),a[0]||(a[0]=y("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}},On={class:"space-y-6 py-4"},Fn={class:"space-y-2"},jn={class:"flex gap-2"},zn={class:"flex-1 bg-gray-100 p-2 rounded text-sm"},Vn={class:"flex flex-col items-center space-y-4"},Hn=["src","alt"],Jn={class:"flex gap-2"},Kn={__name:"QRCodeDialog",props:{visible:{type:Boolean,default:!1},shortUrl:{type:String,default:""}},emits:["update:visible"],setup(t,{emit:e}){const r=t,s=e,{toast:o}=Bt(),n=D(""),a=D(256),i=D(!1),l=async()=>{if(r.shortUrl){i.value=!0;try{const f={width:a.value,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"};n.value=await se.toDataURL(r.shortUrl,f)}catch(f){console.error("生成QR码失败:",f),o({title:"生成失败",description:"QR码生成失败，请重试",variant:"destructive"})}finally{i.value=!1}}};ce(()=>r.shortUrl,l,{immediate:!0}),ce(()=>a.value,l);const d=()=>{if(!n.value)return;const f=document.createElement("a");f.download=`qrcode-${r.shortUrl.replace(/[^a-zA-Z0-9]/g,"_")}.png`,f.href=n.value,document.body.appendChild(f),f.click(),document.body.removeChild(f),o({title:"下载成功",description:"QR码已保存到本地"})},c=async()=>{try{await navigator.clipboard.writeText(r.shortUrl),o({title:"复制成功",description:"短链接已复制到剪贴板"})}catch(f){console.error("复制链接失败:",f),o({title:"复制失败",description:"链接复制失败，请手动复制",variant:"destructive"})}},v=()=>{s("update:visible",!1)};return(f,u)=>(x(),L(g(dt),{open:t.visible,"onUpdate:open":v},{default:E(()=>[S(g(ht),{class:"max-w-xl"},{default:E(()=>[S(g(ft),null,{default:E(()=>[S(g(gt),{class:"flex items-center gap-2"},{default:E(()=>u[3]||(u[3]=[y("i",{class:"icon-[material-symbols--qr-code-rounded] text-xl"},null,-1),R(" QR码分享 ",-1)])),_:1,__:[3]})]),_:1}),y("div",On,[y("div",Fn,[S(g(X),null,{default:E(()=>u[4]||(u[4]=[R("短链接",-1)])),_:1,__:[4]}),y("div",jn,[y("code",zn,q(t.shortUrl),1),S(g(U),{variant:"outline",onClick:c,class:"shrink-0"},{default:E(()=>u[5]||(u[5]=[y("i",{class:"icon-[material-symbols--content-copy] mr-1"},null,-1),R(" 复制 ",-1)])),_:1,__:[5]})])]),y("div",Vn,[S(g(He),{class:"p-4 flex justify-center"},{default:E(()=>[S(g(Ft),{class:"p-0"},{default:E(()=>[i.value?(x(),$("div",{key:0,class:"flex items-center justify-center",style:ve({width:a.value+"px",height:a.value+"px"})},u[6]||(u[6]=[y("div",{class:"flex flex-col items-center gap-2"},[y("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-2xl"}),y("span",{class:"text-sm text-gray-500"},"生成中...")],-1)]),4)):n.value?(x(),$("img",{key:1,src:n.value,alt:`QR码: ${t.shortUrl}`,class:"block mx-auto",style:ve({width:a.value+"px",height:a.value+"px"})},null,12,Hn)):(x(),$("div",{key:2,class:"flex items-center justify-center bg-gray-100 rounded",style:ve({width:a.value+"px",height:a.value+"px"})},u[7]||(u[7]=[y("span",{class:"text-gray-500"},"暂无QR码",-1)]),4))]),_:1})]),_:1}),y("div",Jn,[S(g(U),{variant:"outline",size:"sm",onClick:d,disabled:!n.value},{default:E(()=>u[8]||(u[8]=[y("i",{class:"icon-[material-symbols--download] mr-1 text-lg"},null,-1),R(" 下载 ",-1)])),_:1,__:[8]},8,["disabled"]),S(g(U),{variant:"outline",size:"sm",class:z([a.value===128&&"bg-primary text-primary-foreground"]),onClick:u[0]||(u[0]=m=>a.value=128)},{default:E(()=>u[9]||(u[9]=[R(" 小 ",-1)])),_:1,__:[9]},8,["class"]),S(g(U),{variant:"outline",size:"sm",class:z([a.value===256&&"bg-primary text-primary-foreground"]),onClick:u[1]||(u[1]=m=>a.value=256)},{default:E(()=>u[10]||(u[10]=[R(" 中 ",-1)])),_:1,__:[10]},8,["class"]),S(g(U),{variant:"outline",size:"sm",class:z([a.value===512&&"bg-primary text-primary-foreground"]),onClick:u[2]||(u[2]=m=>a.value=512)},{default:E(()=>u[11]||(u[11]=[R(" 大 ",-1)])),_:1,__:[11]},8,["class"])])])])]),_:1})]),_:1},8,["open"]))}},Yn={class:"p-5"},Qn={class:"flex flex-col space-y-2"},Gn={class:"flex flex-col space-y-1 min-w-0 flex-1"},Xn={class:"flex items-center justify-between"},Zn={class:"font-semibold truncate text-blue-500 hover:underline"},Wn={class:"flex items-center space-x-1 ml-3"},eo={key:0,class:"icon-[material-symbols--content-copy-outline-rounded] h-4 w-4"},to={key:1,class:"icon-[material-symbols--check] h-4 w-4"},no={key:2,class:"icon-[material-symbols--close] h-4 w-4"},oo={class:"flex items-center text-xs text-muted-foreground space-x-1"},ro={class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},so={key:0,class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},io={__name:"SlugCard",props:{item:{type:Object,required:!0}},emits:["refresh"],setup(t,{emit:e}){const r=e,o=D(t.item),n=`${location.protocol}//${location.host}/${o.value.slug}`,a=D(null),i=async()=>{Jt(n,void 0,(f,u)=>{a.value=!f}),setTimeout(()=>{a.value=null},1e3)},l=D(!1),d=[{name:"Edit",icon:"icon-[material-symbols--edit]",operate:"edit"},{name:"QR Code",icon:"icon-[material-symbols--qr-code]",operate:"qr-code"},{name:"Duplicate",icon:"icon-[material-symbols--content-copy]",operate:"duplicate"},{name:"Delete",icon:"icon-[material-symbols--delete]",operate:"delete",class:"!text-destructive hover:!bg-destructive hover:!text-destructive-foreground"}],c=()=>{r("refresh"),G({title:"操作成功",description:`短链接 ${o.value.slug} 已更新`})},v=async f=>{switch(f){case"edit":de({...o.value,value:void 0,key:void 0}).then(c).catch(()=>{});break;case"duplicate":de({...o.value,value:void 0,key:void 0,creation:void 0,slug:`${o.value.slug}-copy`}).then(c).catch(()=>{});break;case"qr-code":l.value=!0;break;case"delete":fetch("/api/?action=delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:o.value.slug})}).then(u=>u.json()).then(u=>{console.log(u),u.code===0?(G({title:"删除成功",description:`短链接 ${o.value.slug} 已删除`}),r("refresh")):G({title:"删除失败",description:u.msg||"删除操作失败，请重试",variant:"destructive"})}).catch(()=>{G({title:"删除失败",description:"网络错误，请重试",variant:"destructive"})});break;default:At({title:"Error",description:"Unknown operate"});break}};return(f,u)=>(x(),L(g(He),{class:"transition-all duration-200 rounded-xl shadow-sm hover:shadow-md border-border"},{default:E(()=>[y("div",Yn,[y("div",Qn,[y("div",Gn,[y("div",Xn,[y("h3",Zn,[y("a",{href:n,target:"_blank"},q(o.value.displayName||o.value.slug),1)]),y("div",Wn,[S(g(U),{variant:"ghost",size:"icon",onClick:i,class:z(["h-6 w-6 shrink-0 text-muted-foreground",a.value&&"!text-green-600 !bg-green-50"])},{default:E(()=>[a.value==null?(x(),$("i",eo)):a.value?(x(),$("i",to)):(x(),$("i",no))]),_:1},8,["class"]),S(g(Kt),null,{default:E(()=>[S(g(Yt),{"as-child":""},{default:E(()=>[S(g(U),{variant:"ghost",size:"icon",class:"h-6 w-6 shrink-0 text-muted-foreground hover:text-foreground"},{default:E(()=>u[2]||(u[2]=[y("i",{class:"icon-[material-symbols--more-vert] h-4 w-4"},null,-1)])),_:1,__:[2]})]),_:1}),S(g(Qt),{align:"end",class:"shadow-sm"},{default:E(()=>[(x(),$(Me,null,Pe(d,m=>S(g(Gt),{key:m.operate,class:z(["flex items-center gap-2 cursor-pointer text-muted-foreground",m.class]),onClick:C=>v(m.operate)},{default:E(()=>[y("i",{class:z(m.icon+" h-4 w-4")},null,2),y("span",null,q(m.name),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})])]),y("p",{class:"text-xs text-muted-foreground truncate",onClick:u[0]||(u[0]=m=>v("edit"))},q(o.value.url),1)]),y("div",oo,[y("span",ro,q(o.value.mode),1),o.value.displayName?(x(),$("span",so,q(o.value.slug),1)):ne("",!0)])])]),S(Kn,{visible:l.value,"onUpdate:visible":u[1]||(u[1]=m=>l.value=m),"short-url":n},null,8,["visible"])]),_:1}))}},Fe={__name:"Textarea",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,o=Ot(r,"modelValue",e,{passive:!0,defaultValue:r.defaultValue});return(n,a)=>Nt((x(),$("textarea",{"onUpdate:modelValue":a[0]||(a[0]=i=>Pt(o)?o.value=i:null),class:z(g(J)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.$attrs.class??""))},null,2)),[[Mt,g(o)]])}},ao={__name:"Tabs",props:{defaultValue:{type:String,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const o=Ne(t,e);return(n,a)=>(x(),L(g($t),je(ze(g(o))),{default:E(()=>[j(n.$slots,"default")]),_:3},16))}},lo={__name:"TabsTrigger",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(t){const e=t;return(r,s)=>(x(),L(g(It),Y(e,{class:g(J)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e.class)}),{default:E(()=>[j(r.$slots,"default")]),_:3},16,["class"]))}},uo={__name:"TabsList",props:{loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(t){const e=t;return(r,s)=>(x(),L(g(Rt),Y(e,{class:g(J)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e.class)}),{default:E(()=>[j(r.$slots,"default")]),_:3},16,["class"]))}},co={class:"space-y-6"},fo={class:"space-y-4"},go={class:"space-y-2"},ho={class:"grid gap-4 grid-cols-1 sm:grid-cols-2"},mo={class:"space-y-2"},po={class:"flex mt-2 gap-2"},yo={class:"flex w-full relative"},vo={class:"flex items-center h-9 px-3 rounded-md border border-input rounded-r-none text-sm shadow-sm bg-slate-100"},bo={key:0,class:"icon-[material-symbols--autorenew-outline-rounded] text-base"},wo={key:1,class:"icon-[material-symbols--progress-activity] animate-spin text-base"},_o={class:"space-y-2"},Co={class:"space-y-2"},Eo={class:"flex gap-2"},ko={class:"space-y-2"},So={class:"flex items-center justify-end gap-3 pt-4"},xo={key:0,class:"icon-[material-symbols--refresh] animate-spin mr-2"},To={__name:"CreateLinkDialog",setup(t){const e=location.host,r=D({randomize:!1,create:!1}),s=async()=>{r.value.randomize=!0,fetch("/api/?action=randomize",{method:"POST",headers:{"Content-Type":"application/json"}}).then(i=>i.json()).then(({data:i})=>{setTimeout(()=>{B.value.formData.slug=i},500)}).finally(()=>{setTimeout(()=>{r.value.randomize=!1},500)})},o=i=>{B.value.formData.mode=i};ce(()=>B.value.visible,i=>{i&&B.value.isCreate&&!B.value.formData.slug&&Dt(()=>{s()})});const n=async()=>{r.value.create=!0,fetch("/api/?action=save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B.value.formData)}).then(i=>i.json()).then(i=>{console.log(i),i.code===0?(G({title:B.value.formData.creation?"更新成功":"创建成功",description:`短链接 ${B.value.formData.slug} ${B.value.formData.creation?"已更新":"已创建"}`}),be(!0)):(G({title:B.value.formData.creation?"更新失败":"创建失败",description:i.msg||"操作失败，请重试",variant:"destructive"}),console.error("Error creating link:",i.msg))}).catch(i=>{G({title:"操作失败",description:"网络错误，请检查连接后重试",variant:"destructive"}),console.error("Network error:",i)}).finally(()=>{r.value.create=!1})},a=()=>B.value.formData.url&&B.value.formData.url.trim();return(i,l)=>(x(),L(g(dt),{open:g(B).visible,"onUpdate:open":l[5]||(l[5]=d=>!d&&g(be)(!1))},{default:E(()=>[S(g(ht),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:E(()=>[S(g(ft),null,{default:E(()=>[S(g(gt),{class:"text-xl font-semibold"},{default:E(()=>[R(q(g(B).formData.creation?"编辑短链接":"创建短链接"),1)]),_:1})]),_:1}),y("div",co,[y("div",fo,[y("div",go,[S(g(X),{for:"url",class:"text-sm font-medium"},{default:E(()=>l[6]||(l[6]=[R("目标链接 *",-1)])),_:1,__:[6]}),S(g(Fe),{id:"url",modelValue:g(B).formData.url,"onUpdate:modelValue":l[0]||(l[0]=d=>g(B).formData.url=d),placeholder:"https://example.com",class:"resize-none",rows:"2",disabled:r.value.create},null,8,["modelValue","disabled"])]),y("div",ho,[y("div",mo,[S(g(X),null,{default:E(()=>l[7]||(l[7]=[R("短链接",-1)])),_:1,__:[7]}),y("div",po,[y("div",yo,[y("div",vo,q(g(e)),1),S(g(Se),{type:"text",class:z(["rounded-l-none ml-[-1px]",!g(B).isCreate&&"bg-slate-100"]),modelValue:g(B).formData.slug,"onUpdate:modelValue":l[1]||(l[1]=d=>g(B).formData.slug=d),placeholder:"短链接",disabled:!g(B).isCreate,required:"",pattern:"[a-zA-Z0-9_\\-.]{6,24}"},null,8,["class","modelValue","disabled"]),S(g(U),{type:"button",variant:"outline",size:"icon",class:z(["absolute top-1/2 right-2 -translate-y-1/2 w-6 h-6 flex-shrink-0 active:scale-95",!g(B).isCreate&&"bg-slate-100"]),disabled:!g(B).isCreate,onClick:Ve(s,["prevent"])},{default:E(()=>[r.value.randomize?(x(),$("i",wo)):(x(),$("i",bo))]),_:1},8,["class","disabled"])])])]),y("div",_o,[S(g(X),{for:"displayName",class:"text-sm font-medium"},{default:E(()=>l[8]||(l[8]=[R("显示名称",-1)])),_:1,__:[8]}),S(g(Se),{id:"displayName",modelValue:g(B).formData.displayName,"onUpdate:modelValue":l[2]||(l[2]=d=>g(B).formData.displayName=d),placeholder:"为您的短链接添加一个便于识别的名称",disabled:r.value.create},null,8,["modelValue","disabled"])])]),y("div",Co,[S(g(X),{for:"mode",class:"text-sm font-medium"},{default:E(()=>l[9]||(l[9]=[R("跳转模式",-1)])),_:1,__:[9]}),y("div",Eo,[S(g(ao),{"default-value":g(B).formData.mode,class:"w-full"},{default:E(()=>[S(g(uo),{class:"grid w-full grid-cols-4"},{default:E(()=>[(x(!0),$(Me,null,Pe(g(Xt),d=>(x(),L(g(lo),{key:d.value,value:d.value,onClick:c=>o(d.value)},{default:E(()=>[R(q(d.label),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1},8,["default-value"])])]),y("div",ko,[S(g(X),{for:"notes",class:"text-sm font-medium"},{default:E(()=>l[10]||(l[10]=[R("备注",-1)])),_:1,__:[10]}),S(g(Fe),{id:"notes",modelValue:g(B).formData.notes,"onUpdate:modelValue":l[3]||(l[3]=d=>g(B).formData.notes=d),placeholder:"为这个短链接添加一些备注信息...",class:"flex-1",rows:"8",disabled:r.value.create},null,8,["modelValue","disabled"])])]),y("div",So,[S(g(U),{variant:"outline",onClick:l[4]||(l[4]=d=>g(be)(!1)),disabled:r.value.create},{default:E(()=>l[11]||(l[11]=[R(" 取消 ",-1)])),_:1,__:[11]},8,["disabled"]),S(g(U),{onClick:n,disabled:!a()||r.value.create,class:"min-w-[100px]"},{default:E(()=>[r.value.create?(x(),$("i",xo)):ne("",!0),R(" "+q(g(B).formData.creation?"更新":"创建"),1)]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["open"]))}},Bo={class:"w-full"},Ao={key:0,class:"mb-6 p-4 bg-muted/50 rounded-lg"},No={class:"flex items-center justify-between"},Mo={class:"text-sm text-muted-foreground"},Po={class:"font-medium text-foreground"},$o={class:"font-medium text-foreground"},Io={key:1,class:"mb-6 text-center text-muted-foreground"},Ro={key:2,class:"text-center py-24"},Do={class:"max-w-md mx-auto space-y-6"},Lo={class:"space-y-2"},qo={class:"text-xl font-semibold tracking-tight"},Uo={class:"text-muted-foreground"},Oo={key:0},Fo={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},jo={key:4,class:"mt-8 text-center"},zo={key:0,class:"flex items-center justify-center gap-2 py-4 text-muted-foreground"},Vo={key:1,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Ho={key:2,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Jo={__name:"SlugItems",setup(t,{expose:e}){const r=D(!1),s=D(!1),o=D([]),n=D({count:0,page:1,rows:10}),a=D(""),i=D(!0),l=async(f="")=>{const u=Math.random().toString(36).substring(2);r.value=!0,n.value.page=1,o.value=[],i.value=!0;const m={rows:n.value.rows,page:n.value.page};f&&(m.search=f),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(C=>C.json()).then(({data:C})=>{const{count:M,results:_}=C||{};n.value.count=M;const k=(_||[]).map(w=>{let b={};try{b=JSON.parse(w.value)}catch(A){console.log(A)}return{...w,...b,oid:u+w.key}});o.value=k,i.value=k.length===n.value.rows&&o.value.length<M}).finally(()=>{r.value=!1})},d=async()=>{if(s.value||!i.value)return;s.value=!0,n.value.page+=1;const f={rows:n.value.rows,page:n.value.page};a.value&&(f.search=a.value),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then(u=>u.json()).then(({data:u})=>{const{results:m}=u||{},C=Math.random().toString(36).substring(2),M=(m||[]).map(_=>{let k={};try{k=JSON.parse(_.value)}catch(w){console.log(w)}return{..._,...k,oid:C+_.key}});M.length>0?(o.value.push(...M),i.value=M.length===n.value.rows&&o.value.length<n.value.count):i.value=!1}).finally(()=>{s.value=!1})},c=f=>{a.value=f,l(f)},v=()=>{const{scrollTop:f,scrollHeight:u,clientHeight:m}=document.documentElement;f+m>=u-200&&i.value&&!s.value&&!r.value&&d()};return Lt(()=>{l(),window.addEventListener("scroll",v)}),qt(()=>{window.removeEventListener("scroll",v)}),e({refresh:l,search:c}),(f,u)=>(x(),$("div",Bo,[a.value?(x(),$("div",Ao,[y("div",No,[y("div",Mo,[u[1]||(u[1]=R(' 正在搜索 "',-1)),y("span",Po,q(a.value),1),u[2]||(u[2]=R('"，找到 ',-1)),y("span",$o,q(n.value.count),1),u[3]||(u[3]=R(" 条结果 ",-1))])])])):ne("",!0),r.value?(x(),$("div",Io,u[4]||(u[4]=[y("div",{class:"flex items-center justify-center gap-2"},[y("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"}),y("span",null,"搜索中...")],-1)]))):o.value.length===0?(x(),$("div",Ro,[y("div",Do,[u[6]||(u[6]=y("div",{class:"w-20 h-20 mx-auto rounded-full bg-muted flex items-center justify-center"},[y("i",{class:"icon-[material-symbols--link] h-10 w-10 text-muted-foreground"})],-1)),y("div",Lo,[y("h3",qo,q(a.value?"没有找到匹配的结果":"还没有短链接"),1),y("p",Uo,q(a.value?"尝试使用其他关键词搜索":"点击下方按钮创建你的第一个短链接"),1)]),a.value?ne("",!0):(x(),$("div",Oo,[S(g(U),{onClick:g(de),class:"gap-2"},{default:E(()=>u[5]||(u[5]=[y("i",{class:"icon-[material-symbols--add] h-4 w-4"},null,-1),R(" 创建短链接 ",-1)])),_:1,__:[5]},8,["onClick"])]))])])):(x(),$("div",Fo,[(x(!0),$(Me,null,Pe(o.value,m=>(x(),L(io,Y({key:m.oid},{ref_for:!0},{item:m},{onRefresh:u[0]||(u[0]=()=>l(a.value))}),null,16))),128))])),o.value.length>0?(x(),$("div",jo,[s.value?(x(),$("div",zo,u[7]||(u[7]=[y("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"},null,-1),y("span",null,"正在加载更多...",-1)]))):i.value?(x(),$("div",Ho,u[9]||(u[9]=[y("i",{class:"icon-[material-symbols--keyboard-arrow-down] h-4 w-4 mr-1"},null,-1),R(" 向下滚动加载更多 ",-1)]))):(x(),$("div",Vo,[u[8]||(u[8]=y("i",{class:"icon-[material-symbols--check-circle] h-4 w-4 mr-1"},null,-1)),R(" 已显示全部 "+q(o.value.length)+" 条记录 ",1)]))])):ne("",!0),S(To)]))}},Ko={class:"min-h-screen bg-background"},Yo={class:"container px-4"},Qo={class:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"},Go={class:"flex h-16 items-center justify-between"},Xo={class:"text-xl font-semibold tracking-tight"},Zo={class:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1"},Wo={class:"flex items-center gap-3"},er={class:"container px-4 py-6"},rr={__name:"Dash",setup(t){const e=location.host,r=D(null),s=D(!1),o=D(""),n=D(""),a=()=>{de().then(()=>{r.value&&r.value.refresh(o.value.trim())}).catch(()=>{})},i=()=>{r.value&&o.value.trim()!==n.value&&(n.value=o.value.trim(),r.value.search(n.value))},l=()=>{o.value="",n.value="",r.value&&r.value.search("")};return ce(o,d=>{!d.trim()&&n.value&&l()}),(d,c)=>(x(),$("div",Ko,[y("div",Yo,[y("div",Qo,[y("div",Go,[y("h1",Xo,q(g(e)),1),y("form",{class:"relative w-[100%] max-w-80 mx-2",onSubmit:Ve(i,["prevent"])},[S(g(Se),{id:"search",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=v=>o.value=v),onFocus:c[1]||(c[1]=v=>s.value=!0),onBlur:c[2]||(c[2]=v=>s.value=!1),onKeydown:Ut(i,["enter"]),placeholder:"搜索短链接...",autocomplete:"off"},null,8,["modelValue"]),y("div",Zo,[o.value?(x(),L(g(U),{key:0,type:"button",variant:"ghost",size:"icon",class:"h-6 w-6",onClick:l},{default:E(()=>c[3]||(c[3]=[y("i",{class:"icon-[material-symbols--close] h-4 w-4"},null,-1)])),_:1,__:[3]})):(x(),L(g(U),{key:1,type:"button",variant:"ghost",size:"icon",class:"h-6 w-6",onClick:i},{default:E(()=>c[4]||(c[4]=[y("i",{class:"icon-[material-symbols--search] h-5 w-5"},null,-1)])),_:1,__:[4]}))])],32),y("div",Wo,[S(g(U),{onClick:a,class:"gap-2 shrink-0 px-2 sm:px-4"},{default:E(()=>c[5]||(c[5]=[y("i",{class:"icon-[material-symbols--add] text-xl"},null,-1),y("span",{class:"hidden sm:inline"},"创建短链接",-1)])),_:1,__:[5]})])])])]),y("main",er,[S(Jo,{ref_key:"table",ref:r},null,512)])]))}};export{rr as default};
