import{o as w,c as E,a as y,p as Ht,e as K,w as M,f as ae,g as st,h as Rt,u as d,i as Yl,l as Nl,j as ye,m as me,b as k,k as Ll,q as Bl,n as J,s as Rl,G as Fl,X as jl,Y as Hl,Z as ql,r as W,B as Vl,v as zl,x as Ul,y as Wl,z as Kl,A as Gl,D as Zl,C as Jl,E as Xl,F as Ql,H as pe,d as U,t as Z,I as kt,J as eu,R as tu,L as nu,V as ru,K as ce,M as we,N as X,O as au,P as It,Q as ka,S as su,T as bt,U as Ca,W as T,_ as $e,$ as rt,a0 as qt,a1 as Yt,a2 as sr,a3 as jn,a4 as No,a5 as Hn,a6 as xr,a7 as ou,a8 as Lo,a9 as fr,aa as Bo,ab as sa,ac as iu,ad as lu,ae as ds,af as uu,ag as cu,ah as du,ai as fu}from"./index-mhBJPxje.js";import{_ as vu}from"./Separator-JtkXqo4T.js";import{a as he,b as Nt,_ as _t,u as Ro}from"./Input-nlkeXxJo.js";import{_ as Le}from"./Label-BVevo-H1.js";function pu(e,t){return w(),E("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:"currentColor"})])}function hu(e,t){return w(),E("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:"currentColor"})])}const mu={__name:"Tooltip",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const a=Ht(e,t);return(s,o)=>(w(),K(d(Yl),st(Rt(d(a))),{default:M(()=>[ae(s.$slots,"default")]),_:3},16))}},gu={__name:"TooltipContent",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const a=Ht(e,t);return(s,o)=>(w(),K(d(Ll),null,{default:M(()=>[k(d(Nl),me({...d(a),...s.$attrs},{class:d(ye)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.$attrs.class??"")}),{default:M(()=>[ae(s.$slots,"default")]),_:3},16,["class"])]),_:3}))}},yu={__name:"TooltipTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(Bl),me(t,{class:""}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16))}},Tn={__name:"CardHeader",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(w(),E("div",{class:J(d(ye)("flex flex-col space-y-1.5 p-6",t.class))},[ae(n.$slots,"default")],2))}},Sn={__name:"CardTitle",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(w(),E("h3",{class:J(d(ye)("font-semibold leading-none tracking-tight",t.class))},[ae(n.$slots,"default")],2))}},oa={__name:"CardDescription",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(w(),E("p",{class:J(d(ye)("text-sm text-muted-foreground",t.class))},[ae(n.$slots,"default")],2))}},Xt={__name:"CardContent",props:{class:{type:String,default:""}},setup(e){const t=e;return(n,r)=>(w(),E("div",{class:J(d(ye)("p-6 pt-0",t.class))},[ae(n.$slots,"default")],2))}};function or(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?or=function(t){return typeof t}:or=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wu(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Fo=wu(function(e,t){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */(function(n,r){e.exports=r()})(bu,function(){return a={},n.m=r=[function(s,o){s.exports=function(i){var l;if(i.nodeName==="SELECT")i.focus(),l=i.value;else if(i.nodeName==="INPUT"||i.nodeName==="TEXTAREA"){var u=i.hasAttribute("readonly");u||i.setAttribute("readonly",""),i.select(),i.setSelectionRange(0,i.value.length),u||i.removeAttribute("readonly"),l=i.value}else{i.hasAttribute("contenteditable")&&i.focus();var c=window.getSelection(),v=document.createRange();v.selectNodeContents(i),c.removeAllRanges(),c.addRange(v),l=c.toString()}return l}},function(s,o){function i(){}i.prototype={on:function(l,u,c){var v=this.e||(this.e={});return(v[l]||(v[l]=[])).push({fn:u,ctx:c}),this},once:function(l,u,c){var v=this;function p(){v.off(l,p),u.apply(c,arguments)}return p._=u,this.on(l,p,c)},emit:function(l){for(var u=[].slice.call(arguments,1),c=((this.e||(this.e={}))[l]||[]).slice(),v=0,p=c.length;v<p;v++)c[v].fn.apply(c[v].ctx,u);return this},off:function(l,u){var c=this.e||(this.e={}),v=c[l],p=[];if(v&&u)for(var f=0,g=v.length;f<g;f++)v[f].fn!==u&&v[f].fn._!==u&&p.push(v[f]);return p.length?c[l]=p:delete c[l],this}},s.exports=i,s.exports.TinyEmitter=i},function(s,o,i){var l=i(3),u=i(4);s.exports=function(c,v,p){if(!c&&!v&&!p)throw new Error("Missing required arguments");if(!l.string(v))throw new TypeError("Second argument must be a String");if(!l.fn(p))throw new TypeError("Third argument must be a Function");if(l.node(c))return D=v,O=p,(x=c).addEventListener(D,O),{destroy:function(){x.removeEventListener(D,O)}};if(l.nodeList(c))return _=c,m=v,C=p,Array.prototype.forEach.call(_,function(I){I.addEventListener(m,C)}),{destroy:function(){Array.prototype.forEach.call(_,function(I){I.removeEventListener(m,C)})}};if(l.string(c))return f=c,g=v,b=p,u(document.body,f,g,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var f,g,b,_,m,C,x,D,O}},function(s,o){o.node=function(i){return i!==void 0&&i instanceof HTMLElement&&i.nodeType===1},o.nodeList=function(i){var l=Object.prototype.toString.call(i);return i!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in i&&(i.length===0||o.node(i[0]))},o.string=function(i){return typeof i=="string"||i instanceof String},o.fn=function(i){return Object.prototype.toString.call(i)==="[object Function]"}},function(s,o,i){var l=i(5);function u(c,v,p,f,g){var b=(function(_,m,C,x){return function(D){D.delegateTarget=l(D.target,m),D.delegateTarget&&x.call(_,D)}}).apply(this,arguments);return c.addEventListener(p,b,g),{destroy:function(){c.removeEventListener(p,b,g)}}}s.exports=function(c,v,p,f,g){return typeof c.addEventListener=="function"?u.apply(null,arguments):typeof p=="function"?u.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(b){return u(b,v,p,f,g)}))}},function(s,o){if(typeof Element<"u"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}s.exports=function(l,u){for(;l&&l.nodeType!==9;){if(typeof l.matches=="function"&&l.matches(u))return l;l=l.parentNode}}},function(s,o,i){i.r(o);var l=i(0),u=i.n(l),c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function v($,S){for(var L=0;L<S.length;L++){var F=S[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}function p($){(function(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")})(this,p),this.resolveOptions($),this.initSelection()}var f=(function($,S,L){return S&&v($.prototype,S),L&&v($,L),$}(p,[{key:"resolveOptions",value:function($){var S=0<arguments.length&&$!==void 0?$:{};this.action=S.action,this.container=S.container,this.emitter=S.emitter,this.target=S.target,this.text=S.text,this.trigger=S.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var $=this,S=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return $.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[S?"right":"left"]="-9999px";var L=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=L+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=u()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=u()(this.target),this.copyText()}},{key:"copyText",value:function(){var $=void 0;try{$=document.execCommand(this.action)}catch{$=!1}this.handleResult($)}},{key:"handleResult",value:function($){this.emitter.emit($?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function($){var S=0<arguments.length&&$!==void 0?$:"copy";if(this._action=S,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function($){if($!==void 0){if(!$||($===void 0?"undefined":c($))!=="object"||$.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&$.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&($.hasAttribute("readonly")||$.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=$}},get:function(){return this._target}}]),p),g=i(1),b=i.n(g),_=i(2),m=i.n(_),C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},x=function($,S,L){return S&&D($.prototype,S),L&&D($,L),$};function D($,S){for(var L=0;L<S.length;L++){var F=S[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}var O=(function($,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);$.prototype=Object.create(S&&S.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf($,S):$.__proto__=S)}(I,b.a),x(I,[{key:"resolveOptions",value:function($){var S=0<arguments.length&&$!==void 0?$:{};this.action=typeof S.action=="function"?S.action:this.defaultAction,this.target=typeof S.target=="function"?S.target:this.defaultTarget,this.text=typeof S.text=="function"?S.text:this.defaultText,this.container=C(S.container)==="object"?S.container:document.body}},{key:"listenClick",value:function($){var S=this;this.listener=m()($,"click",function(L){return S.onClick(L)})}},{key:"onClick",value:function($){var S=$.delegateTarget||$.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f({action:this.action(S),target:this.target(S),text:this.text(S),container:this.container,trigger:S,emitter:this})}},{key:"defaultAction",value:function($){return N("action",$)}},{key:"defaultTarget",value:function($){var S=N("target",$);if(S)return document.querySelector(S)}},{key:"defaultText",value:function($){return N("text",$)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function($){var S=0<arguments.length&&$!==void 0?$:["copy","cut"],L=typeof S=="string"?[S]:S,F=!!document.queryCommandSupported;return L.forEach(function(R){F=F&&!!document.queryCommandSupported(R)}),F}}]),I);function I($,S){(function(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")})(this,I);var L=function(F,R){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?F:R}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return L.resolveOptions(S),L.listenClick($),L}function N($,S){var L="data-clipboard-"+$;if(S.hasAttribute(L))return S.getAttribute(L)}o.default=O}],n.c=a,n.d=function(s,o,i){n.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:i})},n.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},n.t=function(s,o){if(1&o&&(s=n(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)n.d(i,l,(function(u){return s[u]}).bind(null,l));return i},n.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(o,"a",o),o},n.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},n.p="",n(n.s=6).default;function n(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r,a})}),$u=_u(Fo);Fo.ClipboardJS;function Du(e,t,n){var r=document.createElement("button"),a=new $u(r,{text:function(){return e},action:function(){return"copy"},container:or(t)==="object"?t:document.body});a.on("success",function(s){a.destroy(),n(void 0,s)}),a.on("error",function(s){a.destroy(),n(s,void 0)}),document.body.appendChild(r),r.click(),document.body.removeChild(r)}const ku={__name:"DropdownMenu",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const a=Ht(e,t);return(s,o)=>(w(),K(d(Rl),st(Rt(d(a))),{default:M(()=>[ae(s.$slots,"default")]),_:3},16))}},Cu={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(Fl),me({class:"outline-none"},t),{default:M(()=>[ae(n.$slots,"default")]),_:3},16))}},Mu={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,a=Ht(n,t);return(s,o)=>(w(),K(d(Hl),null,{default:M(()=>[k(d(jl),me({class:[d(ye)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)]},d(a)),{default:M(()=>[ae(s.$slots,"default")]),_:3},16,["class"])]),_:3}))}},xu={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},inset:{type:Boolean,required:!1},class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(ql),me(t,{class:[d(ye)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",t.class)]}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16,["class"]))}},jo=e=>JSON.parse(JSON.stringify(e)),Ho={url:"",slug:"",displayName:"",notes:"",mode:"redirect",values:{number:"",password:"",expires:"",message:""},enabledNumber:!1,enabledPassword:!1,enabledExpires:!1},Tu=[{value:"redirect",label:"跳转",description:"302 重定向到目标地址"},{value:"remind",label:"提醒",description:"用户可自行决定是否打开目标链接"},{value:"cloaking",label:"隐藏",description:"隐藏目标地址，让用户只看到其中的短链接"},{value:"proxy",label:"代理",description:"通过服务器加载目标地址并显示"}],z=W({visible:!1,isCreate:!0,formData:jo(Ho),resolve:()=>{},reject:()=>{}}),zr=e=>{e?z.value.resolve():z.value.reject(),z.value.visible=!1};function vr(e){const t=jo(Object.assign({},Ho,e));return z.value.isCreate=!t.creation,z.value.formData=t,z.value.visible=!0,new Promise((n,r)=>{z.value.resolve=n,z.value.reject=r})}var qn={},Su=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qo={},Ie={};let Ma;const Pu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ie.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ie.getSymbolTotalCodewords=function(t){return Pu[t]};Ie.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Ie.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ma=t};Ie.isKanjiModeEnabled=function(){return typeof Ma<"u"};Ie.toSJIS=function(t){return Ma(t)};var Tr={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,a){if(e.isValid(r))return r;try{return t(r)}catch{return a}}})(Tr);function Vo(){this.buffer=[],this.length=0}Vo.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ou=Vo;function Vn(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Vn.prototype.set=function(e,t,n,r){const a=e*this.size+t;this.data[a]=n,r&&(this.reservedBit[a]=!0)};Vn.prototype.get=function(e,t){return this.data[e*this.size+t]};Vn.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Vn.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Eu=Vn,zo={};(function(e){const t=Ie.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*a-2))*2,i=[s-7];for(let l=1;l<a-1;l++)i[l]=i[l-1]-o;return i.push(6),i.reverse()},e.getPositions=function(r){const a=[],s=e.getRowColCoords(r),o=s.length;for(let i=0;i<o;i++)for(let l=0;l<o;l++)i===0&&l===0||i===0&&l===o-1||i===o-1&&l===0||a.push([s[i],s[l]]);return a}})(zo);var Uo={};const Au=Ie.getSymbolSize,fs=7;Uo.getPositions=function(t){const n=Au(t);return[[0,0],[n-fs,0],[0,n-fs]]};var Wo={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const s=a.size;let o=0,i=0,l=0,u=null,c=null;for(let v=0;v<s;v++){i=l=0,u=c=null;for(let p=0;p<s;p++){let f=a.get(v,p);f===u?i++:(i>=5&&(o+=t.N1+(i-5)),u=f,i=1),f=a.get(p,v),f===c?l++:(l>=5&&(o+=t.N1+(l-5)),c=f,l=1)}i>=5&&(o+=t.N1+(i-5)),l>=5&&(o+=t.N1+(l-5))}return o},e.getPenaltyN2=function(a){const s=a.size;let o=0;for(let i=0;i<s-1;i++)for(let l=0;l<s-1;l++){const u=a.get(i,l)+a.get(i,l+1)+a.get(i+1,l)+a.get(i+1,l+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const s=a.size;let o=0,i=0,l=0;for(let u=0;u<s;u++){i=l=0;for(let c=0;c<s;c++)i=i<<1&2047|a.get(u,c),c>=10&&(i===1488||i===93)&&o++,l=l<<1&2047|a.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let s=0;const o=a.data.length;for(let l=0;l<o;l++)s+=a.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,a,s){switch(r){case e.Patterns.PATTERN000:return(a+s)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(a+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return a*s%2+a*s%3===0;case e.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case e.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(a,s){const o=s.size;for(let i=0;i<o;i++)for(let l=0;l<o;l++)s.isReserved(l,i)||s.xor(l,i,n(a,l,i))},e.getBestMask=function(a,s){const o=Object.keys(e.Patterns).length;let i=0,l=1/0;for(let u=0;u<o;u++){s(u),e.applyMask(u,a);const c=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),c<l&&(l=c,i=u)}return i}})(Wo);var Sr={};const Dt=Tr,Qn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],er=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Sr.getBlocksCount=function(t,n){switch(n){case Dt.L:return Qn[(t-1)*4+0];case Dt.M:return Qn[(t-1)*4+1];case Dt.Q:return Qn[(t-1)*4+2];case Dt.H:return Qn[(t-1)*4+3];default:return}};Sr.getTotalCodewordsCount=function(t,n){switch(n){case Dt.L:return er[(t-1)*4+0];case Dt.M:return er[(t-1)*4+1];case Dt.Q:return er[(t-1)*4+2];case Dt.H:return er[(t-1)*4+3];default:return}};var Ko={},Pr={};const En=new Uint8Array(512),pr=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)En[n]=t,pr[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)En[n]=En[n-255]})();Pr.log=function(t){if(t<1)throw new Error("log("+t+")");return pr[t]};Pr.exp=function(t){return En[t]};Pr.mul=function(t,n){return t===0||n===0?0:En[pr[t]+pr[n]]};(function(e){const t=Pr;e.mul=function(r,a){const s=new Uint8Array(r.length+a.length-1);for(let o=0;o<r.length;o++)for(let i=0;i<a.length;i++)s[o+i]^=t.mul(r[o],a[i]);return s},e.mod=function(r,a){let s=new Uint8Array(r);for(;s.length-a.length>=0;){const o=s[0];for(let l=0;l<a.length;l++)s[l]^=t.mul(a[l],o);let i=0;for(;i<s.length&&s[i]===0;)i++;s=s.slice(i)}return s},e.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let s=0;s<r;s++)a=e.mul(a,new Uint8Array([1,t.exp(s)]));return a}})(Ko);const Go=Ko;function xa(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}xa.prototype.initialize=function(t){this.degree=t,this.genPoly=Go.generateECPolynomial(this.degree)};xa.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Go.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(r,a),s}return r};var Iu=xa,Zo={},Mt={},Ta={};Ta.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Qe={};const Jo="[0-9]+",Yu="[A-Z $%*+\\-./:]+";let Yn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Yn=Yn.replace(/u/g,"\\u");const Nu="(?:(?![A-Z0-9 $%*+\\-./:]|"+Yn+`)(?:.|[\r
]))+`;Qe.KANJI=new RegExp(Yn,"g");Qe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Qe.BYTE=new RegExp(Nu,"g");Qe.NUMERIC=new RegExp(Jo,"g");Qe.ALPHANUMERIC=new RegExp(Yu,"g");const Lu=new RegExp("^"+Yn+"$"),Bu=new RegExp("^"+Jo+"$"),Ru=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Qe.testKanji=function(t){return Lu.test(t)};Qe.testNumeric=function(t){return Bu.test(t)};Qe.testAlphanumeric=function(t){return Ru.test(t)};(function(e){const t=Ta,n=Qe;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(Mt);(function(e){const t=Ie,n=Sr,r=Tr,a=Mt,s=Ta,o=7973,i=t.getBCHDigit(o);function l(p,f,g){for(let b=1;b<=40;b++)if(f<=e.getCapacity(b,g,p))return b}function u(p,f){return a.getCharCountIndicator(p,f)+4}function c(p,f){let g=0;return p.forEach(function(b){const _=u(b.mode,f);g+=_+b.getBitsLength()}),g}function v(p,f){for(let g=1;g<=40;g++)if(c(p,g)<=e.getCapacity(g,f,a.MIXED))return g}e.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},e.getCapacity=function(f,g,b){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=a.BYTE);const _=t.getSymbolTotalCodewords(f),m=n.getTotalCodewordsCount(f,g),C=(_-m)*8;if(b===a.MIXED)return C;const x=C-u(b,f);switch(b){case a.NUMERIC:return Math.floor(x/10*3);case a.ALPHANUMERIC:return Math.floor(x/11*2);case a.KANJI:return Math.floor(x/13);case a.BYTE:default:return Math.floor(x/8)}},e.getBestVersionForData=function(f,g){let b;const _=r.from(g,r.M);if(Array.isArray(f)){if(f.length>1)return v(f,_);if(f.length===0)return 1;b=f[0]}else b=f;return l(b.mode,b.getLength(),_)},e.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;t.getBCHDigit(g)-i>=0;)g^=o<<t.getBCHDigit(g)-i;return f<<12|g}})(Zo);var Xo={};const ia=Ie,Qo=1335,Fu=21522,vs=ia.getBCHDigit(Qo);Xo.getEncodedBits=function(t,n){const r=t.bit<<3|n;let a=r<<10;for(;ia.getBCHDigit(a)-vs>=0;)a^=Qo<<ia.getBCHDigit(a)-vs;return(r<<10|a)^Fu};var ei={};const ju=Mt;function nn(e){this.mode=ju.NUMERIC,this.data=e.toString()}nn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};nn.prototype.getLength=function(){return this.data.length};nn.prototype.getBitsLength=function(){return nn.getBitsLength(this.data.length)};nn.prototype.write=function(t){let n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),t.put(a,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),a=parseInt(r,10),t.put(a,s*3+1))};var Hu=nn;const qu=Mt,Ur=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function rn(e){this.mode=qu.ALPHANUMERIC,this.data=e}rn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};rn.prototype.getLength=function(){return this.data.length};rn.prototype.getBitsLength=function(){return rn.getBitsLength(this.data.length)};rn.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ur.indexOf(this.data[n])*45;r+=Ur.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Ur.indexOf(this.data[n]),6)};var Vu=rn;const zu=Mt;function an(e){this.mode=zu.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}an.getBitsLength=function(t){return t*8};an.prototype.getLength=function(){return this.data.length};an.prototype.getBitsLength=function(){return an.getBitsLength(this.data.length)};an.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Uu=an;const Wu=Mt,Ku=Ie;function sn(e){this.mode=Wu.KANJI,this.data=e}sn.getBitsLength=function(t){return t*13};sn.prototype.getLength=function(){return this.data.length};sn.prototype.getBitsLength=function(){return sn.getBitsLength(this.data.length)};sn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Ku.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Gu=sn,ti={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,a){var s={},o={};o[r]=0;var i=t.PriorityQueue.make();i.push(r,0);for(var l,u,c,v,p,f,g,b,_;!i.empty();){l=i.pop(),u=l.value,v=l.cost,p=n[u]||{};for(c in p)p.hasOwnProperty(c)&&(f=p[c],g=v+f,b=o[c],_=typeof o[c]>"u",(_||b>g)&&(o[c]=g,i.push(c,g),s[c]=u))}if(typeof a<"u"&&typeof o[a]>"u"){var m=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],s=r;s;)a.push(s),n[s],s=n[s];return a.reverse(),a},find_path:function(n,r,a){var s=t.single_source_shortest_paths(n,r,a);return t.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,a={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(ti);var Zu=ti.exports;(function(e){const t=Mt,n=Hu,r=Vu,a=Uu,s=Gu,o=Qe,i=Ie,l=Zu;function u(m){return unescape(encodeURIComponent(m)).length}function c(m,C,x){const D=[];let O;for(;(O=m.exec(x))!==null;)D.push({data:O[0],index:O.index,mode:C,length:O[0].length});return D}function v(m){const C=c(o.NUMERIC,t.NUMERIC,m),x=c(o.ALPHANUMERIC,t.ALPHANUMERIC,m);let D,O;return i.isKanjiModeEnabled()?(D=c(o.BYTE,t.BYTE,m),O=c(o.KANJI,t.KANJI,m)):(D=c(o.BYTE_KANJI,t.BYTE,m),O=[]),C.concat(x,D,O).sort(function(N,$){return N.index-$.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function p(m,C){switch(C){case t.NUMERIC:return n.getBitsLength(m);case t.ALPHANUMERIC:return r.getBitsLength(m);case t.KANJI:return s.getBitsLength(m);case t.BYTE:return a.getBitsLength(m)}}function f(m){return m.reduce(function(C,x){const D=C.length-1>=0?C[C.length-1]:null;return D&&D.mode===x.mode?(C[C.length-1].data+=x.data,C):(C.push(x),C)},[])}function g(m){const C=[];for(let x=0;x<m.length;x++){const D=m[x];switch(D.mode){case t.NUMERIC:C.push([D,{data:D.data,mode:t.ALPHANUMERIC,length:D.length},{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.ALPHANUMERIC:C.push([D,{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.KANJI:C.push([D,{data:D.data,mode:t.BYTE,length:u(D.data)}]);break;case t.BYTE:C.push([{data:D.data,mode:t.BYTE,length:u(D.data)}])}}return C}function b(m,C){const x={},D={start:{}};let O=["start"];for(let I=0;I<m.length;I++){const N=m[I],$=[];for(let S=0;S<N.length;S++){const L=N[S],F=""+I+S;$.push(F),x[F]={node:L,lastCount:0},D[F]={};for(let R=0;R<O.length;R++){const j=O[R];x[j]&&x[j].node.mode===L.mode?(D[j][F]=p(x[j].lastCount+L.length,L.mode)-p(x[j].lastCount,L.mode),x[j].lastCount+=L.length):(x[j]&&(x[j].lastCount=L.length),D[j][F]=p(L.length,L.mode)+4+t.getCharCountIndicator(L.mode,C))}}O=$}for(let I=0;I<O.length;I++)D[O[I]].end=0;return{map:D,table:x}}function _(m,C){let x;const D=t.getBestModeForData(m);if(x=t.from(C,D),x!==t.BYTE&&x.bit<D.bit)throw new Error('"'+m+'" cannot be encoded with mode '+t.toString(x)+`.
 Suggested mode is: `+t.toString(D));switch(x===t.KANJI&&!i.isKanjiModeEnabled()&&(x=t.BYTE),x){case t.NUMERIC:return new n(m);case t.ALPHANUMERIC:return new r(m);case t.KANJI:return new s(m);case t.BYTE:return new a(m)}}e.fromArray=function(C){return C.reduce(function(x,D){return typeof D=="string"?x.push(_(D,null)):D.data&&x.push(_(D.data,D.mode)),x},[])},e.fromString=function(C,x){const D=v(C,i.isKanjiModeEnabled()),O=g(D),I=b(O,x),N=l.find_path(I.map,"start","end"),$=[];for(let S=1;S<N.length-1;S++)$.push(I.table[N[S]].node);return e.fromArray(f($))},e.rawSplit=function(C){return e.fromArray(v(C,i.isKanjiModeEnabled()))}})(ei);const Or=Ie,Wr=Tr,Ju=Ou,Xu=Eu,Qu=zo,ec=Uo,la=Wo,ua=Sr,tc=Iu,hr=Zo,nc=Xo,rc=Mt,Kr=ei;function ac(e,t){const n=e.size,r=ec.getPositions(t);for(let a=0;a<r.length;a++){const s=r[a][0],o=r[a][1];for(let i=-1;i<=7;i++)if(!(s+i<=-1||n<=s+i))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(i>=0&&i<=6&&(l===0||l===6)||l>=0&&l<=6&&(i===0||i===6)||i>=2&&i<=4&&l>=2&&l<=4?e.set(s+i,o+l,!0,!0):e.set(s+i,o+l,!1,!0))}}function sc(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function oc(e,t){const n=Qu.getPositions(t);for(let r=0;r<n.length;r++){const a=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let i=-2;i<=2;i++)o===-2||o===2||i===-2||i===2||o===0&&i===0?e.set(a+o,s+i,!0,!0):e.set(a+o,s+i,!1,!0)}}function ic(e,t){const n=e.size,r=hr.getEncodedBits(t);let a,s,o;for(let i=0;i<18;i++)a=Math.floor(i/3),s=i%3+n-8-3,o=(r>>i&1)===1,e.set(a,s,o,!0),e.set(s,a,o,!0)}function Gr(e,t,n){const r=e.size,a=nc.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(a>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function lc(e,t){const n=e.size;let r=-1,a=n-1,s=7,o=0;for(let i=n-1;i>0;i-=2)for(i===6&&i--;;){for(let l=0;l<2;l++)if(!e.isReserved(a,i-l)){let u=!1;o<t.length&&(u=(t[o]>>>s&1)===1),e.set(a,i-l,u),s--,s===-1&&(o++,s=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function uc(e,t,n){const r=new Ju;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),rc.getCharCountIndicator(l.mode,e)),l.write(r)});const a=Or.getSymbolTotalCodewords(e),s=ua.getTotalCodewordsCount(e,t),o=(a-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const i=(o-r.getLengthInBits())/8;for(let l=0;l<i;l++)r.put(l%2?17:236,8);return cc(r,e,t)}function cc(e,t,n){const r=Or.getSymbolTotalCodewords(t),a=ua.getTotalCodewordsCount(t,n),s=r-a,o=ua.getBlocksCount(t,n),i=r%o,l=o-i,u=Math.floor(r/o),c=Math.floor(s/o),v=c+1,p=u-c,f=new tc(p);let g=0;const b=new Array(o),_=new Array(o);let m=0;const C=new Uint8Array(e.buffer);for(let N=0;N<o;N++){const $=N<l?c:v;b[N]=C.slice(g,g+$),_[N]=f.encode(b[N]),g+=$,m=Math.max(m,$)}const x=new Uint8Array(r);let D=0,O,I;for(O=0;O<m;O++)for(I=0;I<o;I++)O<b[I].length&&(x[D++]=b[I][O]);for(O=0;O<p;O++)for(I=0;I<o;I++)x[D++]=_[I][O];return x}function dc(e,t,n,r){let a;if(Array.isArray(e))a=Kr.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const c=Kr.rawSplit(e);u=hr.getBestVersionForData(c,n)}a=Kr.fromString(e,u||40)}else throw new Error("Invalid data");const s=hr.getBestVersionForData(a,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=uc(t,n,a),i=Or.getSymbolSize(t),l=new Xu(i);return ac(l,t),sc(l),oc(l,t),Gr(l,n,0),t>=7&&ic(l,t),lc(l,o),isNaN(r)&&(r=la.getBestMask(l,Gr.bind(null,l,n))),la.applyMask(r,l),Gr(l,n,r),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:r,segments:a}}qo.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Wr.M,a,s;return typeof n<"u"&&(r=Wr.from(n.errorCorrectionLevel,Wr.M),a=hr.from(n.version),s=la.from(n.maskPattern),n.toSJISFunc&&Or.setToSJISFunction(n.toSJISFunc)),dc(t,a,r,s)};var ni={},Sa={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:a,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},e.getImageWidth=function(r,a){const s=e.getScale(r,a);return Math.floor((r+a.margin*2)*s)},e.qrToImageData=function(r,a,s){const o=a.modules.size,i=a.modules.data,l=e.getScale(o,s),u=Math.floor((o+s.margin*2)*l),c=s.margin*l,v=[s.color.light,s.color.dark];for(let p=0;p<u;p++)for(let f=0;f<u;f++){let g=(p*u+f)*4,b=s.color.light;if(p>=c&&f>=c&&p<u-c&&f<u-c){const _=Math.floor((p-c)/l),m=Math.floor((f-c)/l);b=v[i[_*o+m]?1:0]}r[g++]=b.r,r[g++]=b.g,r[g++]=b.b,r[g]=b.a}}})(Sa);(function(e){const t=Sa;function n(a,s,o){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,i){let l=i,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=r()),l=t.getOptions(l);const c=t.getImageWidth(s.modules.size,l),v=u.getContext("2d"),p=v.createImageData(c,c);return t.qrToImageData(p.data,s,l),n(v,u,c),v.putImageData(p,0,0),u},e.renderToDataURL=function(s,o,i){let l=i;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=e.render(s,o,l),c=l.type||"image/png",v=l.rendererOpts||{};return u.toDataURL(c,v.quality)}})(ni);var ri={};const fc=Sa;function ps(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Zr(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function vc(e,t,n){let r="",a=0,s=!1,o=0;for(let i=0;i<e.length;i++){const l=Math.floor(i%t),u=Math.floor(i/t);!l&&!s&&(s=!0),e[i]?(o++,i>0&&l>0&&e[i-1]||(r+=s?Zr("M",l+n,.5+u+n):Zr("m",a,0),a=0,s=!1),l+1<t&&e[i+1]||(r+=Zr("h",o),o=0)):a++}return r}ri.render=function(t,n,r){const a=fc.getOptions(n),s=t.modules.size,o=t.modules.data,i=s+a.margin*2,l=a.color.light.a?"<path "+ps(a.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",u="<path "+ps(a.color.dark,"stroke")+' d="'+vc(o,s,a.margin)+'"/>',c='viewBox="0 0 '+i+" "+i+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,p),p};const pc=Su,ca=qo,ai=ni,hc=ri;function Pa(e,t,n,r,a){const s=[].slice.call(arguments,1),o=s.length,i=typeof s[o-1]=="function";if(!i&&!pc())throw new Error("Callback required as last argument");if(i){if(o<2)throw new Error("Too few arguments provided");o===2?(a=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(l,u){try{const c=ca.create(n,r);l(e(c,t,r))}catch(c){u(c)}})}try{const l=ca.create(n,r);a(null,e(l,t,r))}catch(l){a(l)}}qn.create=ca.create;qn.toCanvas=Pa.bind(null,ai.render);qn.toDataURL=Pa.bind(null,ai.renderToDataURL);qn.toString=Pa.bind(null,function(e,t,n){return hc.render(e,n)});const Oa={__name:"Dialog",setup(e){return(t,n)=>(w(),K(d(Vl),null,{default:M(()=>[ae(t.$slots,"default")]),_:3}))}},Ea={__name:"DialogHeader",props:{class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),E("div",{class:J(d(ye)("flex flex-col space-y-2 text-center sm:text-left",t.class))},[ae(n.$slots,"default")],2))}},Aa={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(zl),me(t,{class:d(ye)("text-lg text-foreground font-semibold leading-none tracking-tight",t.class)}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16,["class"]))}},mc={__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(Ul),me(t,{class:d(ye)("text-muted-foreground text-sm",t.class)}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16,["class"]))}},gc=y("span",{class:"sr-only"},"Close",-1),Ia={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,a=Wl(t);return(s,o)=>(w(),K(d(Xl),null,{default:M(()=>[k(d(Kl),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),k(d(Gl),me({class:d(ye)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",n.class)},{...n,...d(a)}),{default:M(()=>[ae(s.$slots,"default"),k(d(Zl),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:M(()=>[k(d(Jl),{class:"w-4 h-4"}),gc]),_:1})]),_:3},16,["class"])]),_:3}))}},yc=y("i",{class:"icon-[material-symbols--qr-code-rounded] text-xl"},null,-1),bc={class:"space-y-6 py-4"},_c={class:"space-y-2"},wc={class:"flex gap-2"},$c={class:"flex-1 bg-gray-100 p-2 rounded text-sm"},Dc=y("i",{class:"icon-[material-symbols--content-copy] mr-1"},null,-1),kc={class:"flex flex-col items-center space-y-4"},Cc=y("div",{class:"flex flex-col items-center gap-2"},[y("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-2xl"}),y("span",{class:"text-sm text-gray-500"},"生成中...")],-1),Mc=[Cc],xc=["src","alt"],Tc=y("span",{class:"text-gray-500"},"暂无QR码",-1),Sc=[Tc],Pc={class:"flex gap-2"},Oc=y("i",{class:"icon-[material-symbols--download] mr-1 text-lg"},null,-1),Ec={__name:"QRCodeDialog",props:{visible:{type:Boolean,default:!1},shortUrl:{type:String,default:""}},emits:["update:visible"],setup(e,{emit:t}){const n=e,r=t,{toast:a}=Ql(),s=W(""),o=W(256),i=W(!1),l=async()=>{if(n.shortUrl){i.value=!0;try{const p={width:o.value,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"};s.value=await qn.toDataURL(n.shortUrl,p)}catch(p){console.error("生成QR码失败:",p),a({title:"生成失败",description:"QR码生成失败，请重试",variant:"destructive"})}finally{i.value=!1}}};pe(()=>n.shortUrl,l,{immediate:!0}),pe(()=>o.value,l);const u=()=>{if(!s.value)return;const p=document.createElement("a");p.download=`qrcode-${n.shortUrl.replace(/[^a-zA-Z0-9]/g,"_")}.png`,p.href=s.value,document.body.appendChild(p),p.click(),document.body.removeChild(p),a({title:"下载成功",description:"QR码已保存到本地"})},c=async()=>{try{await navigator.clipboard.writeText(n.shortUrl),a({title:"复制成功",description:"短链接已复制到剪贴板"})}catch(p){console.error("复制链接失败:",p),a({title:"复制失败",description:"链接复制失败，请手动复制",variant:"destructive"})}},v=()=>{r("update:visible",!1)};return(p,f)=>(w(),K(d(Oa),{open:e.visible,"onUpdate:open":v},{default:M(()=>[k(d(Ia),{class:"max-w-xl"},{default:M(()=>[k(d(Ea),null,{default:M(()=>[k(d(Aa),{class:"flex items-center gap-2"},{default:M(()=>[yc,U(" QR码分享 ")]),_:1})]),_:1}),y("div",bc,[y("div",_c,[k(d(Le),null,{default:M(()=>[U("短链接")]),_:1}),y("div",wc,[y("code",$c,Z(e.shortUrl),1),k(d(he),{variant:"outline",onClick:c,class:"shrink-0"},{default:M(()=>[Dc,U(" 复制 ")]),_:1})])]),y("div",kc,[k(d(Nt),{class:"p-4 flex justify-center"},{default:M(()=>[k(d(Xt),{class:"p-0"},{default:M(()=>[i.value?(w(),E("div",{key:0,class:"flex items-center justify-center",style:kt({width:o.value+"px",height:o.value+"px"})},Mc,4)):s.value?(w(),E("img",{key:1,src:s.value,alt:`QR码: ${e.shortUrl}`,class:"block mx-auto",style:kt({width:o.value+"px",height:o.value+"px"})},null,12,xc)):(w(),E("div",{key:2,class:"flex items-center justify-center bg-gray-100 rounded",style:kt({width:o.value+"px",height:o.value+"px"})},Sc,4))]),_:1})]),_:1}),y("div",Pc,[k(d(he),{variant:"outline",size:"sm",onClick:u,disabled:!s.value},{default:M(()=>[Oc,U(" 下载 ")]),_:1},8,["disabled"]),k(d(he),{variant:"outline",size:"sm",class:J([o.value===128&&"bg-primary text-primary-foreground"]),onClick:f[0]||(f[0]=g=>o.value=128)},{default:M(()=>[U(" 小 ")]),_:1},8,["class"]),k(d(he),{variant:"outline",size:"sm",class:J([o.value===256&&"bg-primary text-primary-foreground"]),onClick:f[1]||(f[1]=g=>o.value=256)},{default:M(()=>[U(" 中 ")]),_:1},8,["class"]),k(d(he),{variant:"outline",size:"sm",class:J([o.value===512&&"bg-primary text-primary-foreground"]),onClick:f[2]||(f[2]=g=>o.value=512)},{default:M(()=>[U(" 大 ")]),_:1},8,["class"])])])])]),_:1})]),_:1},8,["open"]))}},da={__name:"Badge",props:{variant:{type:null,required:!1}},setup(e){return(t,n)=>(w(),E("div",{class:J(d(ye)(d(Ac)({variant:e.variant}),t.$attrs.class??""))},[ae(t.$slots,"default")],2))}},Ac=eu("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Ic={__name:"Tabs",props:{defaultValue:{type:String,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=Ht(e,t);return(s,o)=>(w(),K(d(tu),st(Rt(d(a))),{default:M(()=>[ae(s.$slots,"default")]),_:3},16))}},Yc={__name:"TabsTrigger",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(nu),me(t,{class:d(ye)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t.class)}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16,["class"]))}},Nc={__name:"TabsList",props:{loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(ru),me(t,{class:d(ye)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t.class)}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16,["class"]))}},Lc=y("i",{class:"icon-[material-symbols--analytics-outline]"},null,-1),Bc={class:"space-y-6"},Rc=y("i",{class:"icon-[material-symbols--date-range] text-blue-600"},null,-1),Fc={class:"grid grid-cols-2 gap-4"},jc={class:"space-y-2"},Hc={class:"space-y-2"},qc={key:0,class:"icon-[material-symbols--progress-activity] animate-spin mr-2"},Vc={key:1,class:"icon-[material-symbols--search] mr-2"},zc={key:1,class:"flex items-center justify-center py-8"},Uc=y("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-2xl mr-2"},null,-1),Wc=y("span",null,"加载统计数据中...",-1),Kc=[Uc,Wc],Gc={key:2,class:"space-y-4"},Zc=y("i",{class:"icon-[material-symbols--summarize] text-blue-600"},null,-1),Jc={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xc={class:"flex items-center space-x-3"},Qc=y("div",{class:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100"},[y("i",{class:"icon-[material-symbols--mouse] text-blue-600"})],-1),ed={class:"text-xl font-bold"},td=y("p",{class:"text-sm text-gray-600"},"总点击数",-1),nd={class:"flex items-center space-x-3"},rd=y("div",{class:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-100"},[y("i",{class:"icon-[material-symbols--schedule] text-green-600"})],-1),ad={class:"text-xl font-bold"},sd=y("p",{class:"text-sm text-gray-600"},"统计周期",-1),od=y("i",{class:"icon-[material-symbols--trending-up] text-green-600"},null,-1),id={class:"space-y-2"},ld={class:"text-sm text-gray-600"},ud={class:"font-medium"},cd=y("i",{class:"icon-[material-symbols--trending-up] text-green-600"},null,-1),dd=y("div",{class:"text-center py-8 text-gray-500"},[y("i",{class:"icon-[material-symbols--timeline] text-3xl mb-2"}),y("p",null,"暂无点击数据")],-1),fd={key:2,class:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},vd=y("div",{class:"flex items-start gap-2"},[y("i",{class:"icon-[material-symbols--info] text-yellow-600 text-sm mt-0.5"}),y("div",{class:"text-sm text-yellow-800"},[y("p",{class:"font-medium"},"使用基础统计数据"),y("p",{class:"text-xs mt-1"},"显示数据库中的准确点击计数")])],-1),pd=[vd],hd={key:3,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},md=y("div",{class:"flex items-start gap-2"},[y("i",{class:"icon-[material-symbols--analytics] text-green-600 text-sm mt-0.5"}),y("div",{class:"text-sm text-green-800"},[y("p",{class:"font-medium"},"Analytics Engine 统计模式"),y("p",{class:"text-xs mt-1"},"基于真实访问数据和智能算法的精确统计分析")])],-1),gd=[md],yd={class:"flex justify-end gap-2"},bd={key:0,class:"icon-[material-symbols--progress-activity] animate-spin mr-2"},_d={key:1,class:"icon-[material-symbols--refresh] mr-2"},wd={__name:"AnalyticsDialog",props:{visible:{type:Boolean,default:!1},slug:{type:String,required:!0}},emits:["update:visible"],setup(e,{emit:t}){const n=e,r=t,a=W(!1),s=W({slug:"",timeRange:"24h",totalClicks:0,timeline:[],fallback:!1}),o=W("24h"),i=W(""),l=W(""),u=()=>{const _=new Date,m=new Date(_.getTime()-30*24*60*60*1e3);l.value=_.toISOString().split("T")[0],i.value=m.toISOString().split("T")[0]},c=[{value:"24h",label:"24小时"},{value:"7d",label:"7天"},{value:"30d",label:"30天"},{value:"custom",label:"自定义"}],v=async(_="24h",m=null,C=null)=>{if(n.slug){a.value=!0;try{const x={slug:n.slug,timeRange:_};_==="custom"&&m&&C&&(x.startDate=m,x.endDate=C);const O=await(await fetch("/api/?action=analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();O.code===0&&(s.value=O.data)}catch(x){console.error("Failed to fetch analytics:",x)}finally{a.value=!1}}},p=_=>{o.value=_,_!=="custom"&&v(_)},f=()=>{if(!i.value||!l.value){alert("请选择开始和结束日期");return}if(new Date(i.value)>new Date(l.value)){alert("开始日期不能晚于结束日期");return}v("custom",i.value,l.value)};pe(()=>n.visible,_=>{_&&(u(),v(o.value))});const g=_=>!_||_.length===0?[]:_.map(m=>({time:new Date(m.hour).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),clicks:m.clicks})),b=()=>{if(o.value==="custom"&&s.value.startTime&&s.value.endTime){const m=new Date(s.value.startTime).toLocaleDateString("zh-CN"),C=new Date(s.value.endTime).toLocaleDateString("zh-CN");return`${m} - ${C}`}const _=c.find(m=>m.value===o.value);return _?_.label:o.value};return(_,m)=>(w(),K(d(Oa),{open:e.visible,"onUpdate:open":m[4]||(m[4]=C=>r("update:visible",C))},{default:M(()=>[k(d(Ia),{class:"max-w-2xl max-h-[80vh] overflow-y-auto"},{default:M(()=>[k(d(Ea),null,{default:M(()=>[k(d(Aa),{class:"flex items-center gap-2"},{default:M(()=>[Lc,U(" 统计详情 ")]),_:1}),k(d(mc),null,{default:M(()=>[U(' 短链接 "'+Z(e.slug)+'" 的详细统计数据 ',1)]),_:1})]),_:1}),y("div",Bc,[k(d(Ic),{"model-value":o.value,"onUpdate:modelValue":p},{default:M(()=>[k(d(Nc),{class:"grid w-full grid-cols-4"},{default:M(()=>[(w(),E(ce,null,we(c,C=>k(d(Yc),{key:C.value,value:C.value},{default:M(()=>[U(Z(C.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value"]),o.value==="custom"?(w(),K(d(Nt),{key:0,class:"border-blue-200 bg-blue-50/50"},{default:M(()=>[k(d(Tn),{class:"pb-3"},{default:M(()=>[k(d(Sn),{class:"text-sm flex items-center gap-2"},{default:M(()=>[Rc,U(" 自定义日期范围 ")]),_:1}),k(d(oa),{class:"text-xs"},{default:M(()=>[U(" 选择您想要查看统计数据的时间范围（最多支持30天） ")]),_:1})]),_:1}),k(d(Xt),{class:"space-y-4"},{default:M(()=>[y("div",Fc,[y("div",jc,[k(d(Le),{for:"start-date",class:"text-sm font-medium"},{default:M(()=>[U("开始日期")]),_:1}),k(d(_t),{id:"start-date",type:"date",modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=C=>i.value=C),class:"text-sm"},null,8,["modelValue"])]),y("div",Hc,[k(d(Le),{for:"end-date",class:"text-sm font-medium"},{default:M(()=>[U("结束日期")]),_:1}),k(d(_t),{id:"end-date",type:"date",modelValue:l.value,"onUpdate:modelValue":m[1]||(m[1]=C=>l.value=C),class:"text-sm"},null,8,["modelValue"])])]),k(d(he),{onClick:f,disabled:a.value||!i.value||!l.value,class:"w-full",size:"sm"},{default:M(()=>[a.value?(w(),E("i",qc)):(w(),E("i",Vc)),U(" 查询统计数据 ")]),_:1},8,["disabled"])]),_:1})]),_:1})):X("",!0),a.value?(w(),E("div",zc,Kc)):(w(),E("div",Gc,[k(d(Nt),null,{default:M(()=>[k(d(Tn),null,{default:M(()=>[k(d(Sn),{class:"text-lg flex items-center gap-2"},{default:M(()=>[Zc,U(" 总览 "),s.value.fallback?(w(),K(d(da),{key:0,variant:"secondary",class:"ml-2"},{default:M(()=>[U(" 基础统计 ")]),_:1})):s.value.dataSource==="analytics_engine"?(w(),K(d(da),{key:1,variant:"outline",class:"ml-2"},{default:M(()=>[U(" Analytics Engine ")]),_:1})):X("",!0)]),_:1})]),_:1}),k(d(Xt),null,{default:M(()=>[y("div",Jc,[y("div",Xc,[Qc,y("div",null,[y("p",ed,Z(s.value.totalClicks.toLocaleString()),1),td])]),y("div",nd,[rd,y("div",null,[y("p",ad,Z(b()),1),sd])])])]),_:1})]),_:1}),!s.value.fallback&&s.value.timeline&&s.value.timeline.length>0?(w(),K(d(Nt),{key:0},{default:M(()=>[k(d(Tn),null,{default:M(()=>[k(d(Sn),{class:"text-lg flex items-center gap-2"},{default:M(()=>[od,U(" 点击趋势 ")]),_:1}),k(d(oa),null,{default:M(()=>[U(" 基于总点击数生成的合理时间分布 ")]),_:1})]),_:1}),k(d(Xt),null,{default:M(()=>[y("div",id,[(w(!0),E(ce,null,we(g(s.value.timeline),(C,x)=>(w(),E("div",{key:x,class:"flex items-center justify-between py-2 px-3 rounded-lg border"},[y("span",ld,Z(C.time),1),y("span",ud,Z(C.clicks)+" 次点击",1)]))),128))])]),_:1})]),_:1})):s.value.fallback?X("",!0):(w(),K(d(Nt),{key:1},{default:M(()=>[k(d(Tn),null,{default:M(()=>[k(d(Sn),{class:"text-lg flex items-center gap-2"},{default:M(()=>[cd,U(" 点击趋势 ")]),_:1})]),_:1}),k(d(Xt),null,{default:M(()=>[dd]),_:1})]),_:1})),s.value.fallback?(w(),E("div",fd,pd)):s.value.dataSource==="analytics_engine"?(w(),E("div",hd,gd)):X("",!0)])),y("div",yd,[k(d(he),{variant:"outline",onClick:m[2]||(m[2]=C=>r("update:visible",!1))},{default:M(()=>[U(" 关闭 ")]),_:1}),k(d(he),{onClick:m[3]||(m[3]=C=>v(o.value)),disabled:a.value},{default:M(()=>[a.value?(w(),E("i",bd)):(w(),E("i",_d)),U(" 刷新 ")]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["open"]))}},$d={class:"w-full p-5"},Dd={class:"flex flex-col gap-2"},kd={class:"flex gap-2"},Cd={class:"flex items-center text-lg font-semibold gap-2"},Md={key:0,class:"text-sm text-slate-400 font-normal"},xd={class:"ml-auto flex items-center gap-2"},Td={key:0,class:"icon-[material-symbols--file-copy-outline-rounded]"},Sd={key:1,class:"icon-[material-symbols--done-rounded] text-base"},Pd={key:2,class:"icon-[material-symbols--remove-rounded] text-base"},Od=y("i",{class:"icon-[material-symbols--more-horiz]"},null,-1),Ed={class:"flex items-center text-xs text-slate-400 gap-2"},Ad=y("li",null,"·",-1),Id={class:"capitalize"},Yd={key:0},Nd={key:1,class:"flex items-center gap-1"},Ld=y("i",{class:"icon-[material-symbols--mouse] text-xs"},null,-1),Bd={key:2},Rd={key:3},Fd=y("i",{class:"icon-[material-symbols--sticky-note-2-outline] text-sm text-blue-500 hover:text-blue-600 cursor-help"},null,-1),jd={class:"max-w-xs"},Hd={class:"text-xs text-slate-400 w-full text-ellipsis overflow-hidden text-nowrap"},qd={__name:"SlugCard",props:{item:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=t,a=W(e.item),s=`${location.protocol}//${location.host}/${a.value.slug}`,o=W(null),i=async()=>{Du(s,void 0,(f,g)=>{o.value=!f}),setTimeout(()=>{o.value=null},1e3)},l=W(!1),u=W(!1),c=[{name:"Edit",icon:"icon-[material-symbols--drive-file-rename-outline-outline-rounded]",operate:"edit"},{name:"Analytics",icon:"icon-[material-symbols--analytics-outline]",operate:"analytics"},{name:"QR Code",icon:"icon-[material-symbols--qr-code-rounded]",operate:"qr-code"},{name:"Duplicate",icon:"icon-[material-symbols--file-copy-outline-rounded]",operate:"duplicate"},{name:"Delete",icon:"icon-[material-symbols--delete-outline-rounded]",operate:"delete",class:"text-red-500 hover:!bg-red-500 hover:!text-white"}],v=()=>{n("refresh"),It({title:"操作成功",description:`短链接 ${a.value.slug} 已更新`})},p=async(f,g)=>{switch(f){case"edit":vr({...a.value,value:void 0,key:void 0}).then(v).catch(()=>{});break;case"duplicate":vr({...a.value,value:void 0,key:void 0,creation:void 0,slug:`${a.value.slug}-copy`}).then(v).catch(()=>{});break;case"qr-code":l.value=!0;break;case"analytics":u.value=!0;break;case"delete":fetch("/api/?action=delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:a.value.slug})}).then(b=>b.json()).then(b=>{console.log(b),b.code===0?(It({title:"删除成功",description:`短链接 ${a.value.slug} 已删除`}),n("refresh")):It({title:"删除失败",description:b.msg||"删除操作失败，请重试",variant:"destructive"})}).catch(()=>{It({title:"删除失败",description:"网络错误，请重试",variant:"destructive"})});break;default:au({title:"Error",description:"Unknown operate"});break}};return(f,g)=>(w(),K(d(Nt),{class:"shadow-sm"},{default:M(()=>[y("div",$d,[y("div",Dd,[y("div",kd,[y("h3",Cd,[y("a",{href:s,target:"_blank",class:"text-blue-500 hover:underline"},Z(a.value.displayName||a.value.slug),1),a.value.displayName?(w(),E("span",Md," ("+Z(a.value.slug)+") ",1)):X("",!0)]),y("div",xd,[k(d(he),{variant:"ghost",size:"icon",class:J(["w-7 h-7 text-slate-600",o.value&&"!bg-green-100 !text-green-500"]),onClick:i},{default:M(()=>[o.value==null?(w(),E("i",Td)):o.value?(w(),E("i",Sd)):(w(),E("i",Pd))]),_:1},8,["class"]),k(d(ku),null,{default:M(()=>[k(d(Cu),{"as-child":""},{default:M(()=>[k(d(he),{variant:"outline",size:"icon",class:"w-7 h-7 text-slate-600"},{default:M(()=>[Od]),_:1})]),_:1}),k(d(Mu),null,{default:M(()=>[(w(),E(ce,null,we(c,b=>k(d(xu),{key:b.operate,class:J([b.class,"gap-2 cursor-pointer"]),onClick:_=>p(b.operate,b.value)},{default:M(()=>[y("i",{class:J(b.icon)},null,2),U(" "+Z(b.name),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})])]),y("ul",Ed,[y("li",null,Z(new Date(a.value.creation*1e3).toLocaleDateString()),1),Ad,y("li",Id,Z(a.value.mode),1),a.value.clicks?(w(),E("li",Yd,"·")):X("",!0),a.value.clicks?(w(),E("li",Nd,[Ld,U(" "+Z(a.value.clicks||0)+" Clicks ",1)])):X("",!0),a.value.notes?(w(),E("li",Bd,"·")):X("",!0),a.value.notes?(w(),E("li",Rd,[k(d(mu),null,{default:M(()=>[k(d(yu),null,{default:M(()=>[Fd]),_:1}),k(d(gu),null,{default:M(()=>[y("p",jd,Z(a.value.notes),1)]),_:1})]),_:1})])):X("",!0)]),y("div",Hd,Z(a.value.url),1)])]),k(Ec,{visible:l.value,"onUpdate:visible":g[0]||(g[0]=b=>l.value=b),"short-url":s},null,8,["visible"]),k(wd,{visible:u.value,"onUpdate:visible":g[1]||(g[1]=b=>u.value=b),slug:a.value.slug},null,8,["visible","slug"])]),_:1}))}},hs={__name:"Textarea",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=Ro(n,"modelValue",t,{passive:!0,defaultValue:n.defaultValue});return(s,o)=>ka((w(),E("textarea",{"onUpdate:modelValue":o[0]||(o[0]=i=>bt(a)?a.value=i:null),class:J(d(ye)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s.$attrs.class??""))},null,2)),[[su,d(a)]])}};var Se="top",je="bottom",He="right",Pe="left",Ya="auto",zn=[Se,je,He,Pe],on="start",Nn="end",Vd="clippingParents",si="viewport",kn="popper",zd="reference",ms=zn.reduce(function(e,t){return e.concat([t+"-"+on,t+"-"+Nn])},[]),oi=[].concat(zn,[Ya]).reduce(function(e,t){return e.concat([t,t+"-"+on,t+"-"+Nn])},[]),Ud="beforeRead",Wd="read",Kd="afterRead",Gd="beforeMain",Zd="main",Jd="afterMain",Xd="beforeWrite",Qd="write",ef="afterWrite",tf=[Ud,Wd,Kd,Gd,Zd,Jd,Xd,Qd,ef];function Xe(e){return e?(e.nodeName||"").toLowerCase():null}function Ae(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ft(e){var t=Ae(e).Element;return e instanceof t||e instanceof Element}function Re(e){var t=Ae(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Na(e){if(typeof ShadowRoot>"u")return!1;var t=Ae(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nf(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},s=t.elements[n];!Re(s)||!Xe(s)||(Object.assign(s.style,r),Object.keys(a).forEach(function(o){var i=a[o];i===!1?s.removeAttribute(o):s.setAttribute(o,i===!0?"":i)}))})}function rf(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),i=o.reduce(function(l,u){return l[u]="",l},{});!Re(a)||!Xe(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(l){a.removeAttribute(l)}))})}}const af={name:"applyStyles",enabled:!0,phase:"write",fn:nf,effect:rf,requires:["computeStyles"]};function Je(e){return e.split("-")[0]}var Bt=Math.max,mr=Math.min,ln=Math.round;function fa(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ii(){return!/^((?!chrome|android).)*safari/i.test(fa())}function un(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&Re(e)&&(a=e.offsetWidth>0&&ln(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ln(r.height)/e.offsetHeight||1);var o=Ft(e)?Ae(e):window,i=o.visualViewport,l=!ii()&&n,u=(r.left+(l&&i?i.offsetLeft:0))/a,c=(r.top+(l&&i?i.offsetTop:0))/s,v=r.width/a,p=r.height/s;return{width:v,height:p,top:c,right:u+v,bottom:c+p,left:u,x:u,y:c}}function La(e){var t=un(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function li(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Na(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ot(e){return Ae(e).getComputedStyle(e)}function sf(e){return["table","td","th"].indexOf(Xe(e))>=0}function xt(e){return((Ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function Er(e){return Xe(e)==="html"?e:e.assignedSlot||e.parentNode||(Na(e)?e.host:null)||xt(e)}function gs(e){return!Re(e)||ot(e).position==="fixed"?null:e.offsetParent}function of(e){var t=/firefox/i.test(fa()),n=/Trident/i.test(fa());if(n&&Re(e)){var r=ot(e);if(r.position==="fixed")return null}var a=Er(e);for(Na(a)&&(a=a.host);Re(a)&&["html","body"].indexOf(Xe(a))<0;){var s=ot(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Un(e){for(var t=Ae(e),n=gs(e);n&&sf(n)&&ot(n).position==="static";)n=gs(n);return n&&(Xe(n)==="html"||Xe(n)==="body"&&ot(n).position==="static")?t:n||of(e)||t}function Ba(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function An(e,t,n){return Bt(e,mr(t,n))}function lf(e,t,n){var r=An(e,t,n);return r>n?n:r}function ui(){return{top:0,right:0,bottom:0,left:0}}function ci(e){return Object.assign({},ui(),e)}function di(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var uf=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,ci(typeof t!="number"?t:di(t,zn))};function cf(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,i=Je(n.placement),l=Ba(i),u=[Pe,He].indexOf(i)>=0,c=u?"height":"width";if(!(!s||!o)){var v=uf(a.padding,n),p=La(s),f=l==="y"?Se:Pe,g=l==="y"?je:He,b=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],m=Un(s),C=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,x=b/2-_/2,D=v[f],O=C-p[c]-v[g],I=C/2-p[c]/2+x,N=An(D,I,O),$=l;n.modifiersData[r]=(t={},t[$]=N,t.centerOffset=N-I,t)}}function df(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||li(t.elements.popper,a)&&(t.elements.arrow=a))}const ff={name:"arrow",enabled:!0,phase:"main",fn:cf,effect:df,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cn(e){return e.split("-")[1]}var vf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pf(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:ln(n*a)/a||0,y:ln(r*a)/a||0}}function ys(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,i=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,v=e.isFixed,p=o.x,f=p===void 0?0:p,g=o.y,b=g===void 0?0:g,_=typeof c=="function"?c({x:f,y:b}):{x:f,y:b};f=_.x,b=_.y;var m=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),x=Pe,D=Se,O=window;if(u){var I=Un(n),N="clientHeight",$="clientWidth";if(I===Ae(n)&&(I=xt(n),ot(I).position!=="static"&&i==="absolute"&&(N="scrollHeight",$="scrollWidth")),I=I,a===Se||(a===Pe||a===He)&&s===Nn){D=je;var S=v&&I===O&&O.visualViewport?O.visualViewport.height:I[N];b-=S-r.height,b*=l?1:-1}if(a===Pe||(a===Se||a===je)&&s===Nn){x=He;var L=v&&I===O&&O.visualViewport?O.visualViewport.width:I[$];f-=L-r.width,f*=l?1:-1}}var F=Object.assign({position:i},u&&vf),R=c===!0?pf({x:f,y:b},Ae(n)):{x:f,y:b};if(f=R.x,b=R.y,l){var j;return Object.assign({},F,(j={},j[D]=C?"0":"",j[x]=m?"0":"",j.transform=(O.devicePixelRatio||1)<=1?"translate("+f+"px, "+b+"px)":"translate3d("+f+"px, "+b+"px, 0)",j))}return Object.assign({},F,(t={},t[D]=C?b+"px":"",t[x]=m?f+"px":"",t.transform="",t))}function hf(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,i=n.roundOffsets,l=i===void 0?!0:i,u={placement:Je(t.placement),variation:cn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ys(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ys(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const mf={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hf,data:{}};var tr={passive:!0};function gf(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=a===void 0?!0:a,o=r.resize,i=o===void 0?!0:o,l=Ae(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,tr)}),i&&l.addEventListener("resize",n.update,tr),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,tr)}),i&&l.removeEventListener("resize",n.update,tr)}}const yf={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gf,data:{}};var bf={left:"right",right:"left",bottom:"top",top:"bottom"};function ir(e){return e.replace(/left|right|bottom|top/g,function(t){return bf[t]})}var _f={start:"end",end:"start"};function bs(e){return e.replace(/start|end/g,function(t){return _f[t]})}function Ra(e){var t=Ae(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Fa(e){return un(xt(e)).left+Ra(e).scrollLeft}function wf(e,t){var n=Ae(e),r=xt(e),a=n.visualViewport,s=r.clientWidth,o=r.clientHeight,i=0,l=0;if(a){s=a.width,o=a.height;var u=ii();(u||!u&&t==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:i+Fa(e),y:l}}function $f(e){var t,n=xt(e),r=Ra(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=Bt(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Bt(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-r.scrollLeft+Fa(e),l=-r.scrollTop;return ot(a||n).direction==="rtl"&&(i+=Bt(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:i,y:l}}function ja(e){var t=ot(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function fi(e){return["html","body","#document"].indexOf(Xe(e))>=0?e.ownerDocument.body:Re(e)&&ja(e)?e:fi(Er(e))}function In(e,t){var n;t===void 0&&(t=[]);var r=fi(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ae(r),o=a?[s].concat(s.visualViewport||[],ja(r)?r:[]):r,i=t.concat(o);return a?i:i.concat(In(Er(o)))}function va(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Df(e,t){var n=un(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function _s(e,t,n){return t===si?va(wf(e,n)):Ft(t)?Df(t,n):va($f(xt(e)))}function kf(e){var t=In(Er(e)),n=["absolute","fixed"].indexOf(ot(e).position)>=0,r=n&&Re(e)?Un(e):e;return Ft(r)?t.filter(function(a){return Ft(a)&&li(a,r)&&Xe(a)!=="body"}):[]}function Cf(e,t,n,r){var a=t==="clippingParents"?kf(e):[].concat(t),s=[].concat(a,[n]),o=s[0],i=s.reduce(function(l,u){var c=_s(e,u,r);return l.top=Bt(c.top,l.top),l.right=mr(c.right,l.right),l.bottom=mr(c.bottom,l.bottom),l.left=Bt(c.left,l.left),l},_s(e,o,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function vi(e){var t=e.reference,n=e.element,r=e.placement,a=r?Je(r):null,s=r?cn(r):null,o=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,l;switch(a){case Se:l={x:o,y:t.y-n.height};break;case je:l={x:o,y:t.y+t.height};break;case He:l={x:t.x+t.width,y:i};break;case Pe:l={x:t.x-n.width,y:i};break;default:l={x:t.x,y:t.y}}var u=a?Ba(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case on:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Nn:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Ln(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,i=n.boundary,l=i===void 0?Vd:i,u=n.rootBoundary,c=u===void 0?si:u,v=n.elementContext,p=v===void 0?kn:v,f=n.altBoundary,g=f===void 0?!1:f,b=n.padding,_=b===void 0?0:b,m=ci(typeof _!="number"?_:di(_,zn)),C=p===kn?zd:kn,x=e.rects.popper,D=e.elements[g?C:p],O=Cf(Ft(D)?D:D.contextElement||xt(e.elements.popper),l,c,o),I=un(e.elements.reference),N=vi({reference:I,element:x,strategy:"absolute",placement:a}),$=va(Object.assign({},x,N)),S=p===kn?$:I,L={top:O.top-S.top+m.top,bottom:S.bottom-O.bottom+m.bottom,left:O.left-S.left+m.left,right:S.right-O.right+m.right},F=e.modifiersData.offset;if(p===kn&&F){var R=F[a];Object.keys(L).forEach(function(j){var te=[He,je].indexOf(j)>=0?1:-1,V=[Se,je].indexOf(j)>=0?"y":"x";L[j]+=R[V]*te})}return L}function Mf(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,o=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?oi:l,c=cn(r),v=c?i?ms:ms.filter(function(g){return cn(g)===c}):zn,p=v.filter(function(g){return u.indexOf(g)>=0});p.length===0&&(p=v);var f=p.reduce(function(g,b){return g[b]=Ln(e,{placement:b,boundary:a,rootBoundary:s,padding:o})[Je(b)],g},{});return Object.keys(f).sort(function(g,b){return f[g]-f[b]})}function xf(e){if(Je(e)===Ya)return[];var t=ir(e);return[bs(e),t,bs(t)]}function Tf(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,i=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,v=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,g=f===void 0?!0:f,b=n.allowedAutoPlacements,_=t.options.placement,m=Je(_),C=m===_,x=l||(C||!g?[ir(_)]:xf(_)),D=[_].concat(x).reduce(function(ne,fe){return ne.concat(Je(fe)===Ya?Mf(t,{placement:fe,boundary:c,rootBoundary:v,padding:u,flipVariations:g,allowedAutoPlacements:b}):fe)},[]),O=t.rects.reference,I=t.rects.popper,N=new Map,$=!0,S=D[0],L=0;L<D.length;L++){var F=D[L],R=Je(F),j=cn(F)===on,te=[Se,je].indexOf(R)>=0,V=te?"width":"height",ee=Ln(t,{placement:F,boundary:c,rootBoundary:v,altBoundary:p,padding:u}),se=te?j?He:Pe:j?je:Se;O[V]>I[V]&&(se=ir(se));var ge=ir(se),le=[];if(s&&le.push(ee[R]<=0),i&&le.push(ee[se]<=0,ee[ge]<=0),le.every(function(ne){return ne})){S=F,$=!1;break}N.set(F,le)}if($)for(var Y=g?3:1,Q=function(fe){var be=D.find(function(ve){var _e=N.get(ve);if(_e)return _e.slice(0,fe).every(function(Oe){return Oe})});if(be)return S=be,"break"},q=Y;q>0;q--){var de=Q(q);if(de==="break")break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}}const Sf={name:"flip",enabled:!0,phase:"main",fn:Tf,requiresIfExists:["offset"],data:{_skip:!1}};function ws(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function $s(e){return[Se,He,je,Pe].some(function(t){return e[t]>=0})}function Pf(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=Ln(t,{elementContext:"reference"}),i=Ln(t,{altBoundary:!0}),l=ws(o,r),u=ws(i,a,s),c=$s(l),v=$s(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":v})}const Of={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pf};function Ef(e,t,n){var r=Je(e),a=[Pe,Se].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],i=s[1];return o=o||0,i=(i||0)*a,[Pe,He].indexOf(r)>=0?{x:i,y:o}:{x:o,y:i}}function Af(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=a===void 0?[0,0]:a,o=oi.reduce(function(c,v){return c[v]=Ef(v,t.rects,s),c},{}),i=o[t.placement],l=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const If={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Af};function Yf(e){var t=e.state,n=e.name;t.modifiersData[n]=vi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Nf={name:"popperOffsets",enabled:!0,phase:"read",fn:Yf,data:{}};function Lf(e){return e==="x"?"y":"x"}function Bf(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,i=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,v=n.padding,p=n.tether,f=p===void 0?!0:p,g=n.tetherOffset,b=g===void 0?0:g,_=Ln(t,{boundary:l,rootBoundary:u,padding:v,altBoundary:c}),m=Je(t.placement),C=cn(t.placement),x=!C,D=Ba(m),O=Lf(D),I=t.modifiersData.popperOffsets,N=t.rects.reference,$=t.rects.popper,S=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,L=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(I){if(s){var j,te=D==="y"?Se:Pe,V=D==="y"?je:He,ee=D==="y"?"height":"width",se=I[D],ge=se+_[te],le=se-_[V],Y=f?-$[ee]/2:0,Q=C===on?N[ee]:$[ee],q=C===on?-$[ee]:-N[ee],de=t.elements.arrow,ne=f&&de?La(de):{width:0,height:0},fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ui(),be=fe[te],ve=fe[V],_e=An(0,N[ee],ne[ee]),Oe=x?N[ee]/2-Y-_e-be-L.mainAxis:Q-_e-be-L.mainAxis,nt=x?-N[ee]/2+Y+_e+ve+L.mainAxis:q+_e+ve+L.mainAxis,qe=t.elements.arrow&&Un(t.elements.arrow),Ye=qe?D==="y"?qe.clientTop||0:qe.clientLeft||0:0,Ne=(j=F==null?void 0:F[D])!=null?j:0,dt=se+Oe-Ne-Ye,Wt=se+nt-Ne,Ke=An(f?mr(ge,dt):ge,se,f?Bt(le,Wt):le);I[D]=Ke,R[D]=Ke-se}if(i){var St,Pt=D==="x"?Se:Pe,Ot=D==="x"?je:He,Ve=I[O],ft=O==="y"?"height":"width",vt=Ve+_[Pt],pt=Ve-_[Ot],ht=[Se,Pe].indexOf(m)!==-1,mt=(St=F==null?void 0:F[O])!=null?St:0,gt=ht?vt:Ve-N[ft]-$[ft]-mt+L.altAxis,Et=ht?Ve+N[ft]+$[ft]-mt-L.altAxis:pt,Kt=f&&ht?lf(gt,Ve,Et):An(f?gt:vt,Ve,f?Et:pt);I[O]=Kt,R[O]=Kt-Ve}t.modifiersData[r]=R}}const Rf={name:"preventOverflow",enabled:!0,phase:"main",fn:Bf,requiresIfExists:["offset"]};function Ff(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jf(e){return e===Ae(e)||!Re(e)?Ra(e):Ff(e)}function Hf(e){var t=e.getBoundingClientRect(),n=ln(t.width)/e.offsetWidth||1,r=ln(t.height)/e.offsetHeight||1;return n!==1||r!==1}function qf(e,t,n){n===void 0&&(n=!1);var r=Re(t),a=Re(t)&&Hf(t),s=xt(t),o=un(e,a,n),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Xe(t)!=="body"||ja(s))&&(i=jf(t)),Re(t)?(l=un(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Fa(s))),{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function Vf(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function a(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(i){if(!n.has(i)){var l=t.get(i);l&&a(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||a(s)}),r}function zf(e){var t=Vf(e);return tf.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Uf(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Wf(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Ds={placement:"bottom",modifiers:[],strategy:"absolute"};function ks(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Kf(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,s=a===void 0?Ds:a;return function(i,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ds,s),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},v=[],p=!1,f={state:c,setOptions:function(m){var C=typeof m=="function"?m(c.options):m;b(),c.options=Object.assign({},s,c.options,C),c.scrollParents={reference:Ft(i)?In(i):i.contextElement?In(i.contextElement):[],popper:In(l)};var x=zf(Wf([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(D){return D.enabled}),g(),f.update()},forceUpdate:function(){if(!p){var m=c.elements,C=m.reference,x=m.popper;if(ks(C,x)){c.rects={reference:qf(C,Un(x),c.options.strategy==="fixed"),popper:La(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var D=0;D<c.orderedModifiers.length;D++){if(c.reset===!0){c.reset=!1,D=-1;continue}var O=c.orderedModifiers[D],I=O.fn,N=O.options,$=N===void 0?{}:N,S=O.name;typeof I=="function"&&(c=I({state:c,options:$,name:S,instance:f})||c)}}}},update:Uf(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){b(),p=!0}};if(!ks(i,l))return f;f.setOptions(u).then(function(_){!p&&u.onFirstUpdate&&u.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var m=_.name,C=_.options,x=C===void 0?{}:C,D=_.effect;if(typeof D=="function"){var O=D({state:c,name:m,instance:f,options:x}),I=function(){};v.push(O||I)}})}function b(){v.forEach(function(_){return _()}),v=[]}return f}}var Gf=[yf,Nf,mf,af,If,Sf,Rf,ff,Of],Zf=Kf({defaultModifiers:Gf}),Jf=Object.defineProperty,Xf=(e,t,n)=>t in e?Jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t,n)=>(Xf(e,typeof t!="symbol"?t+"":t,n),n),nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf=Object.prototype,ev=Qf.hasOwnProperty;function tv(e,t){return e!=null&&ev.call(e,t)}var nv=tv,rv=Array.isArray,Ue=rv,av=typeof nr=="object"&&nr&&nr.Object===Object&&nr,hi=av,sv=hi,ov=typeof self=="object"&&self&&self.Object===Object&&self,iv=sv||ov||Function("return this")(),et=iv,lv=et,uv=lv.Symbol,Ar=uv,Cs=Ar,mi=Object.prototype,cv=mi.hasOwnProperty,dv=mi.toString,Cn=Cs?Cs.toStringTag:void 0;function fv(e){var t=cv.call(e,Cn),n=e[Cn];try{e[Cn]=void 0;var r=!0}catch{}var a=dv.call(e);return r&&(t?e[Cn]=n:delete e[Cn]),a}var vv=fv,pv=Object.prototype,hv=pv.toString;function mv(e){return hv.call(e)}var gv=mv,Ms=Ar,yv=vv,bv=gv,_v="[object Null]",wv="[object Undefined]",xs=Ms?Ms.toStringTag:void 0;function $v(e){return e==null?e===void 0?wv:_v:xs&&xs in Object(e)?yv(e):bv(e)}var tt=$v;function Dv(e){return e!=null&&typeof e=="object"}var We=Dv,kv=tt,Cv=We,Mv="[object Symbol]";function xv(e){return typeof e=="symbol"||Cv(e)&&kv(e)==Mv}var Ha=xv,Tv=Ue,Sv=Ha,Pv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ov=/^\w*$/;function Ev(e,t){if(Tv(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Sv(e)?!0:Ov.test(e)||!Pv.test(e)||t!=null&&e in Object(t)}var qa=Ev;function Av(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ut=Av,Iv=tt,Yv=ut,Nv="[object AsyncFunction]",Lv="[object Function]",Bv="[object GeneratorFunction]",Rv="[object Proxy]";function Fv(e){if(!Yv(e))return!1;var t=Iv(e);return t==Lv||t==Bv||t==Nv||t==Rv}var Vt=Fv,jv=et,Hv=jv["__core-js_shared__"],qv=Hv,Jr=qv,Ts=function(){var e=/[^.]+$/.exec(Jr&&Jr.keys&&Jr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vv(e){return!!Ts&&Ts in e}var zv=Vv,Uv=Function.prototype,Wv=Uv.toString;function Kv(e){if(e!=null){try{return Wv.call(e)}catch{}try{return e+""}catch{}}return""}var gi=Kv,Gv=Vt,Zv=zv,Jv=ut,Xv=gi,Qv=/[\\^$.*+?()[\]{}|]/g,ep=/^\[object .+?Constructor\]$/,tp=Function.prototype,np=Object.prototype,rp=tp.toString,ap=np.hasOwnProperty,sp=RegExp("^"+rp.call(ap).replace(Qv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function op(e){if(!Jv(e)||Zv(e))return!1;var t=Gv(e)?sp:ep;return t.test(Xv(e))}var ip=op;function lp(e,t){return e==null?void 0:e[t]}var up=lp,cp=ip,dp=up;function fp(e,t){var n=dp(e,t);return cp(n)?n:void 0}var zt=fp,vp=zt,pp=vp(Object,"create"),Ir=pp,Ss=Ir;function hp(){this.__data__=Ss?Ss(null):{},this.size=0}var mp=hp;function gp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yp=gp,bp=Ir,_p="__lodash_hash_undefined__",wp=Object.prototype,$p=wp.hasOwnProperty;function Dp(e){var t=this.__data__;if(bp){var n=t[e];return n===_p?void 0:n}return $p.call(t,e)?t[e]:void 0}var kp=Dp,Cp=Ir,Mp=Object.prototype,xp=Mp.hasOwnProperty;function Tp(e){var t=this.__data__;return Cp?t[e]!==void 0:xp.call(t,e)}var Sp=Tp,Pp=Ir,Op="__lodash_hash_undefined__";function Ep(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pp&&t===void 0?Op:t,this}var Ap=Ep,Ip=mp,Yp=yp,Np=kp,Lp=Sp,Bp=Ap;function vn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vn.prototype.clear=Ip;vn.prototype.delete=Yp;vn.prototype.get=Np;vn.prototype.has=Lp;vn.prototype.set=Bp;var Rp=vn;function Fp(){this.__data__=[],this.size=0}var jp=Fp;function Hp(e,t){return e===t||e!==e&&t!==t}var pn=Hp,qp=pn;function Vp(e,t){for(var n=e.length;n--;)if(qp(e[n][0],t))return n;return-1}var Yr=Vp,zp=Yr,Up=Array.prototype,Wp=Up.splice;function Kp(e){var t=this.__data__,n=zp(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Wp.call(t,n,1),--this.size,!0}var Gp=Kp,Zp=Yr;function Jp(e){var t=this.__data__,n=Zp(t,e);return n<0?void 0:t[n][1]}var Xp=Jp,Qp=Yr;function eh(e){return Qp(this.__data__,e)>-1}var th=eh,nh=Yr;function rh(e,t){var n=this.__data__,r=nh(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ah=rh,sh=jp,oh=Gp,ih=Xp,lh=th,uh=ah;function hn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hn.prototype.clear=sh;hn.prototype.delete=oh;hn.prototype.get=ih;hn.prototype.has=lh;hn.prototype.set=uh;var Nr=hn,ch=zt,dh=et,fh=ch(dh,"Map"),Va=fh,Ps=Rp,vh=Nr,ph=Va;function hh(){this.size=0,this.__data__={hash:new Ps,map:new(ph||vh),string:new Ps}}var mh=hh;function gh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yh=gh,bh=yh;function _h(e,t){var n=e.__data__;return bh(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Lr=_h,wh=Lr;function $h(e){var t=wh(this,e).delete(e);return this.size-=t?1:0,t}var Dh=$h,kh=Lr;function Ch(e){return kh(this,e).get(e)}var Mh=Ch,xh=Lr;function Th(e){return xh(this,e).has(e)}var Sh=Th,Ph=Lr;function Oh(e,t){var n=Ph(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Eh=Oh,Ah=mh,Ih=Dh,Yh=Mh,Nh=Sh,Lh=Eh;function mn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mn.prototype.clear=Ah;mn.prototype.delete=Ih;mn.prototype.get=Yh;mn.prototype.has=Nh;mn.prototype.set=Lh;var za=mn,yi=za,Bh="Expected a function";function Ua(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Bh);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new(Ua.Cache||yi),n}Ua.Cache=yi;var Rh=Ua,Fh=Rh,jh=500;function Hh(e){var t=Fh(e,function(r){return n.size===jh&&n.clear(),r}),n=t.cache;return t}var qh=Hh,Vh=qh,zh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uh=/\\(\\)?/g,Wh=Vh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zh,function(n,r,a,s){t.push(a?s.replace(Uh,"$1"):r||n)}),t}),Kh=Wh;function Gh(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Zh=Gh,Os=Ar,Jh=Zh,Xh=Ue,Qh=Ha,em=1/0,Es=Os?Os.prototype:void 0,As=Es?Es.toString:void 0;function bi(e){if(typeof e=="string")return e;if(Xh(e))return Jh(e,bi)+"";if(Qh(e))return As?As.call(e):"";var t=e+"";return t=="0"&&1/e==-em?"-0":t}var tm=bi,nm=tm;function rm(e){return e==null?"":nm(e)}var am=rm,sm=Ue,om=qa,im=Kh,lm=am;function um(e,t){return sm(e)?e:om(e,t)?[e]:im(lm(e))}var _i=um,cm=tt,dm=We,fm="[object Arguments]";function vm(e){return dm(e)&&cm(e)==fm}var pm=vm,Is=pm,hm=We,wi=Object.prototype,mm=wi.hasOwnProperty,gm=wi.propertyIsEnumerable,ym=Is(function(){return arguments}())?Is:function(e){return hm(e)&&mm.call(e,"callee")&&!gm.call(e,"callee")},Wa=ym,bm=9007199254740991,_m=/^(?:0|[1-9]\d*)$/;function wm(e,t){var n=typeof e;return t=t??bm,!!t&&(n=="number"||n!="symbol"&&_m.test(e))&&e>-1&&e%1==0&&e<t}var Ka=wm,$m=9007199254740991;function Dm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$m}var Ga=Dm,km=Ha,Cm=1/0;function Mm(e){if(typeof e=="string"||km(e))return e;var t=e+"";return t=="0"&&1/e==-Cm?"-0":t}var Br=Mm,xm=_i,Tm=Wa,Sm=Ue,Pm=Ka,Om=Ga,Em=Br;function Am(e,t,n){t=xm(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var o=Em(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=a?s:(a=e==null?0:e.length,!!a&&Om(a)&&Pm(o,a)&&(Sm(e)||Tm(e)))}var $i=Am,Im=nv,Ym=$i;function Nm(e,t){return e!=null&&Ym(e,t,Im)}var Di=Nm,Lm=tt,Bm=We,Rm="[object Date]";function Fm(e){return Bm(e)&&Lm(e)==Rm}var jm=Fm;function Hm(e){return function(t){return e(t)}}var ki=Hm,Bn={},qm={get exports(){return Bn},set exports(e){Bn=e}};(function(e,t){var n=hi,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s&&n.process,i=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=i})(qm,Bn);var Vm=jm,zm=ki,Ys=Bn,Ns=Ys&&Ys.isDate,Um=Ns?zm(Ns):Vm,Wm=Um,Km=tt,Gm=Ue,Zm=We,Jm="[object String]";function Xm(e){return typeof e=="string"||!Gm(e)&&Zm(e)&&Km(e)==Jm}var Ge=Xm;function Qm(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ci=Qm,eg=Nr;function tg(){this.__data__=new eg,this.size=0}var ng=tg;function rg(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ag=rg;function sg(e){return this.__data__.get(e)}var og=sg;function ig(e){return this.__data__.has(e)}var lg=ig,ug=Nr,cg=Va,dg=za,fg=200;function vg(e,t){var n=this.__data__;if(n instanceof ug){var r=n.__data__;if(!cg||r.length<fg-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dg(r)}return n.set(e,t),this.size=n.size,this}var pg=vg,hg=Nr,mg=ng,gg=ag,yg=og,bg=lg,_g=pg;function gn(e){var t=this.__data__=new hg(e);this.size=t.size}gn.prototype.clear=mg;gn.prototype.delete=gg;gn.prototype.get=yg;gn.prototype.has=bg;gn.prototype.set=_g;var Za=gn,wg="__lodash_hash_undefined__";function $g(e){return this.__data__.set(e,wg),this}var Dg=$g;function kg(e){return this.__data__.has(e)}var Cg=kg,Mg=za,xg=Dg,Tg=Cg;function gr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Mg;++t<n;)this.add(e[t])}gr.prototype.add=gr.prototype.push=xg;gr.prototype.has=Tg;var Sg=gr;function Pg(e,t){return e.has(t)}var Og=Pg,Eg=Sg,Ag=Ci,Ig=Og,Yg=1,Ng=2;function Lg(e,t,n,r,a,s){var o=n&Yg,i=e.length,l=t.length;if(i!=l&&!(o&&l>i))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var v=-1,p=!0,f=n&Ng?new Eg:void 0;for(s.set(e,t),s.set(t,e);++v<i;){var g=e[v],b=t[v];if(r)var _=o?r(b,g,v,t,e,s):r(g,b,v,e,t,s);if(_!==void 0){if(_)continue;p=!1;break}if(f){if(!Ag(t,function(m,C){if(!Ig(f,C)&&(g===m||a(g,m,n,r,s)))return f.push(C)})){p=!1;break}}else if(!(g===b||a(g,b,n,r,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var Mi=Lg,Bg=et,Rg=Bg.Uint8Array,xi=Rg;function Fg(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var jg=Fg;function Hg(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var qg=Hg,Ls=Ar,Bs=xi,Vg=pn,zg=Mi,Ug=jg,Wg=qg,Kg=1,Gg=2,Zg="[object Boolean]",Jg="[object Date]",Xg="[object Error]",Qg="[object Map]",ey="[object Number]",ty="[object RegExp]",ny="[object Set]",ry="[object String]",ay="[object Symbol]",sy="[object ArrayBuffer]",oy="[object DataView]",Rs=Ls?Ls.prototype:void 0,Xr=Rs?Rs.valueOf:void 0;function iy(e,t,n,r,a,s,o){switch(n){case oy:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sy:return!(e.byteLength!=t.byteLength||!s(new Bs(e),new Bs(t)));case Zg:case Jg:case ey:return Vg(+e,+t);case Xg:return e.name==t.name&&e.message==t.message;case ty:case ry:return e==t+"";case Qg:var i=Ug;case ny:var l=r&Kg;if(i||(i=Wg),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=Gg,o.set(e,t);var c=zg(i(e),i(t),r,a,s,o);return o.delete(e),c;case ay:if(Xr)return Xr.call(e)==Xr.call(t)}return!1}var ly=iy;function uy(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var cy=uy,dy=cy,fy=Ue;function vy(e,t,n){var r=t(e);return fy(e)?r:dy(r,n(e))}var py=vy;function hy(e,t){for(var n=-1,r=e==null?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}var my=hy;function gy(){return[]}var yy=gy,by=my,_y=yy,wy=Object.prototype,$y=wy.propertyIsEnumerable,Fs=Object.getOwnPropertySymbols,Dy=Fs?function(e){return e==null?[]:(e=Object(e),by(Fs(e),function(t){return $y.call(e,t)}))}:_y,ky=Dy;function Cy(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var My=Cy,dn={},xy={get exports(){return dn},set exports(e){dn=e}};function Ty(){return!1}var Sy=Ty;(function(e,t){var n=et,r=Sy,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,i=o?n.Buffer:void 0,l=i?i.isBuffer:void 0,u=l||r;e.exports=u})(xy,dn);var Py=tt,Oy=Ga,Ey=We,Ay="[object Arguments]",Iy="[object Array]",Yy="[object Boolean]",Ny="[object Date]",Ly="[object Error]",By="[object Function]",Ry="[object Map]",Fy="[object Number]",jy="[object Object]",Hy="[object RegExp]",qy="[object Set]",Vy="[object String]",zy="[object WeakMap]",Uy="[object ArrayBuffer]",Wy="[object DataView]",Ky="[object Float32Array]",Gy="[object Float64Array]",Zy="[object Int8Array]",Jy="[object Int16Array]",Xy="[object Int32Array]",Qy="[object Uint8Array]",e1="[object Uint8ClampedArray]",t1="[object Uint16Array]",n1="[object Uint32Array]",ie={};ie[Ky]=ie[Gy]=ie[Zy]=ie[Jy]=ie[Xy]=ie[Qy]=ie[e1]=ie[t1]=ie[n1]=!0;ie[Ay]=ie[Iy]=ie[Uy]=ie[Yy]=ie[Wy]=ie[Ny]=ie[Ly]=ie[By]=ie[Ry]=ie[Fy]=ie[jy]=ie[Hy]=ie[qy]=ie[Vy]=ie[zy]=!1;function r1(e){return Ey(e)&&Oy(e.length)&&!!ie[Py(e)]}var a1=r1,s1=a1,o1=ki,js=Bn,Hs=js&&js.isTypedArray,i1=Hs?o1(Hs):s1,Ja=i1,l1=My,u1=Wa,c1=Ue,d1=dn,f1=Ka,v1=Ja,p1=Object.prototype,h1=p1.hasOwnProperty;function m1(e,t){var n=c1(e),r=!n&&u1(e),a=!n&&!r&&d1(e),s=!n&&!r&&!a&&v1(e),o=n||r||a||s,i=o?l1(e.length,String):[],l=i.length;for(var u in e)(t||h1.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||f1(u,l)))&&i.push(u);return i}var Ti=m1,g1=Object.prototype;function y1(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||g1;return e===n}var Xa=y1;function b1(e,t){return function(n){return e(t(n))}}var Si=b1,_1=Si,w1=_1(Object.keys,Object),$1=w1,D1=Xa,k1=$1,C1=Object.prototype,M1=C1.hasOwnProperty;function x1(e){if(!D1(e))return k1(e);var t=[];for(var n in Object(e))M1.call(e,n)&&n!="constructor"&&t.push(n);return t}var T1=x1,S1=Vt,P1=Ga;function O1(e){return e!=null&&P1(e.length)&&!S1(e)}var Wn=O1,E1=Ti,A1=T1,I1=Wn;function Y1(e){return I1(e)?E1(e):A1(e)}var Qa=Y1,N1=py,L1=ky,B1=Qa;function R1(e){return N1(e,B1,L1)}var F1=R1,qs=F1,j1=1,H1=Object.prototype,q1=H1.hasOwnProperty;function V1(e,t,n,r,a,s){var o=n&j1,i=qs(e),l=i.length,u=qs(t),c=u.length;if(l!=c&&!o)return!1;for(var v=l;v--;){var p=i[v];if(!(o?p in t:q1.call(t,p)))return!1}var f=s.get(e),g=s.get(t);if(f&&g)return f==t&&g==e;var b=!0;s.set(e,t),s.set(t,e);for(var _=o;++v<l;){p=i[v];var m=e[p],C=t[p];if(r)var x=o?r(C,m,p,t,e,s):r(m,C,p,e,t,s);if(!(x===void 0?m===C||a(m,C,n,r,s):x)){b=!1;break}_||(_=p=="constructor")}if(b&&!_){var D=e.constructor,O=t.constructor;D!=O&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof O=="function"&&O instanceof O)&&(b=!1)}return s.delete(e),s.delete(t),b}var z1=V1,U1=zt,W1=et,K1=U1(W1,"DataView"),G1=K1,Z1=zt,J1=et,X1=Z1(J1,"Promise"),Q1=X1,e0=zt,t0=et,n0=e0(t0,"Set"),r0=n0,a0=zt,s0=et,o0=a0(s0,"WeakMap"),i0=o0,pa=G1,ha=Va,ma=Q1,ga=r0,ya=i0,Pi=tt,yn=gi,Vs="[object Map]",l0="[object Object]",zs="[object Promise]",Us="[object Set]",Ws="[object WeakMap]",Ks="[object DataView]",u0=yn(pa),c0=yn(ha),d0=yn(ma),f0=yn(ga),v0=yn(ya),At=Pi;(pa&&At(new pa(new ArrayBuffer(1)))!=Ks||ha&&At(new ha)!=Vs||ma&&At(ma.resolve())!=zs||ga&&At(new ga)!=Us||ya&&At(new ya)!=Ws)&&(At=function(e){var t=Pi(e),n=t==l0?e.constructor:void 0,r=n?yn(n):"";if(r)switch(r){case u0:return Ks;case c0:return Vs;case d0:return zs;case f0:return Us;case v0:return Ws}return t});var p0=At,Qr=Za,h0=Mi,m0=ly,g0=z1,Gs=p0,Zs=Ue,Js=dn,y0=Ja,b0=1,Xs="[object Arguments]",Qs="[object Array]",rr="[object Object]",_0=Object.prototype,eo=_0.hasOwnProperty;function w0(e,t,n,r,a,s){var o=Zs(e),i=Zs(t),l=o?Qs:Gs(e),u=i?Qs:Gs(t);l=l==Xs?rr:l,u=u==Xs?rr:u;var c=l==rr,v=u==rr,p=l==u;if(p&&Js(e)){if(!Js(t))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new Qr),o||y0(e)?h0(e,t,n,r,a,s):m0(e,t,l,n,r,a,s);if(!(n&b0)){var f=c&&eo.call(e,"__wrapped__"),g=v&&eo.call(t,"__wrapped__");if(f||g){var b=f?e.value():e,_=g?t.value():t;return s||(s=new Qr),a(b,_,n,r,s)}}return p?(s||(s=new Qr),g0(e,t,n,r,a,s)):!1}var $0=w0,D0=$0,to=We;function Oi(e,t,n,r,a){return e===t?!0:e==null||t==null||!to(e)&&!to(t)?e!==e&&t!==t:D0(e,t,n,r,Oi,a)}var Ei=Oi,k0=Za,C0=Ei,M0=1,x0=2;function T0(e,t,n,r){var a=n.length,s=a,o=!r;if(e==null)return!s;for(e=Object(e);a--;){var i=n[a];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<s;){i=n[a];var l=i[0],u=e[l],c=i[1];if(o&&i[2]){if(u===void 0&&!(l in e))return!1}else{var v=new k0;if(r)var p=r(u,c,l,e,t,v);if(!(p===void 0?C0(c,u,M0|x0,r,v):p))return!1}}return!0}var S0=T0,P0=ut;function O0(e){return e===e&&!P0(e)}var Ai=O0,E0=Ai,A0=Qa;function I0(e){for(var t=A0(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,E0(a)]}return t}var Y0=I0;function N0(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Ii=N0,L0=S0,B0=Y0,R0=Ii;function F0(e){var t=B0(e);return t.length==1&&t[0][2]?R0(t[0][0],t[0][1]):function(n){return n===e||L0(n,e,t)}}var j0=F0,H0=_i,q0=Br;function V0(e,t){t=H0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[q0(t[n++])];return n&&n==r?e:void 0}var Yi=V0,z0=Yi;function U0(e,t,n){var r=e==null?void 0:z0(e,t);return r===void 0?n:r}var Lt=U0;function W0(e,t){return e!=null&&t in Object(e)}var K0=W0,G0=K0,Z0=$i;function J0(e,t){return e!=null&&Z0(e,t,G0)}var X0=J0,Q0=Ei,eb=Lt,tb=X0,nb=qa,rb=Ai,ab=Ii,sb=Br,ob=1,ib=2;function lb(e,t){return nb(e)&&rb(t)?ab(sb(e),t):function(n){var r=eb(n,e);return r===void 0&&r===t?tb(n,e):Q0(t,r,ob|ib)}}var ub=lb;function cb(e){return e}var es=cb;function db(e){return function(t){return t==null?void 0:t[e]}}var fb=db,vb=Yi;function pb(e){return function(t){return vb(t,e)}}var hb=pb,mb=fb,gb=hb,yb=qa,bb=Br;function _b(e){return yb(e)?mb(bb(e)):gb(e)}var wb=_b,$b=j0,Db=ub,kb=es,Cb=Ue,Mb=wb;function xb(e){return typeof e=="function"?e:e==null?kb:typeof e=="object"?Cb(e)?Db(e[0],e[1]):$b(e):Mb(e)}var Ni=xb;function Tb(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(n(s[l],l,s)===!1)break}return t}}var Sb=Tb,Pb=Sb,Ob=Pb(),Li=Ob,Eb=Li,Ab=Qa;function Ib(e,t){return e&&Eb(e,t,Ab)}var Bi=Ib,Yb=Wn;function Nb(e,t){return function(n,r){if(n==null)return n;if(!Yb(n))return e(n,r);for(var a=n.length,s=t?a:-1,o=Object(n);(t?s--:++s<a)&&r(o[s],s,o)!==!1;);return n}}var Lb=Nb,Bb=Bi,Rb=Lb,Fb=Rb(Bb),jb=Fb,Hb=jb;function qb(e,t){var n;return Hb(e,function(r,a,s){return n=t(r,a,s),!n}),!!n}var Vb=qb,zb=pn,Ub=Wn,Wb=Ka,Kb=ut;function Gb(e,t,n){if(!Kb(n))return!1;var r=typeof t;return(r=="number"?Ub(n)&&Wb(t,n.length):r=="string"&&t in n)?zb(n[t],e):!1}var ts=Gb,Zb=Ci,Jb=Ni,Xb=Vb,Qb=Ue,e_=ts;function t_(e,t,n){var r=Qb(e)?Zb:Xb;return n&&e_(e,t,n)&&(t=void 0),r(e,Jb(t))}var n_=t_,r_=tt,a_=We,s_="[object Boolean]";function o_(e){return e===!0||e===!1||a_(e)&&r_(e)==s_}var i_=o_,l_=tt,u_=We,c_="[object Number]";function d_(e){return typeof e=="number"||u_(e)&&l_(e)==c_}var ze=d_,f_=zt,v_=function(){try{var e=f_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ri=v_,no=Ri;function p_(e,t,n){t=="__proto__"&&no?no(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Rr=p_,h_=Rr,m_=pn,g_=Object.prototype,y_=g_.hasOwnProperty;function b_(e,t,n){var r=e[t];(!(y_.call(e,t)&&m_(r,n))||n===void 0&&!(t in e))&&h_(e,t,n)}var __=b_,w_=Rr,$_=Bi,D_=Ni;function k_(e,t){var n={};return t=D_(t),$_(e,function(r,a,s){w_(n,a,t(r,a,s))}),n}var C_=k_;function M_(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Fi=M_,x_=Fi,ro=Math.max;function T_(e,t,n){return t=ro(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=ro(r.length-t,0),o=Array(s);++a<s;)o[a]=r[t+a];a=-1;for(var i=Array(t+1);++a<t;)i[a]=r[a];return i[t]=n(o),x_(e,this,i)}}var S_=T_;function P_(e){return function(){return e}}var O_=P_,E_=O_,ao=Ri,A_=es,I_=ao?function(e,t){return ao(e,"toString",{configurable:!0,enumerable:!1,value:E_(t),writable:!0})}:A_,Y_=I_,N_=800,L_=16,B_=Date.now;function R_(e){var t=0,n=0;return function(){var r=B_(),a=L_-(r-n);if(n=r,a>0){if(++t>=N_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var F_=R_,j_=Y_,H_=F_,q_=H_(j_),V_=q_,z_=es,U_=S_,W_=V_;function K_(e,t){return W_(U_(e,t,z_),e+"")}var ns=K_;function G_(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Z_=G_,J_=ut,X_=Xa,Q_=Z_,ew=Object.prototype,tw=ew.hasOwnProperty;function nw(e){if(!J_(e))return Q_(e);var t=X_(e),n=[];for(var r in e)r=="constructor"&&(t||!tw.call(e,r))||n.push(r);return n}var rw=nw,aw=Ti,sw=rw,ow=Wn;function iw(e){return ow(e)?aw(e,!0):sw(e)}var rs=iw,lw=ns,uw=pn,cw=ts,dw=rs,ji=Object.prototype,fw=ji.hasOwnProperty,vw=lw(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&cw(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],o=dw(s),i=-1,l=o.length;++i<l;){var u=o[i],c=e[u];(c===void 0||uw(c,ji[u])&&!fw.call(e,u))&&(e[u]=s[u])}return e}),so=vw,pw=Rr,hw=pn;function mw(e,t,n){(n!==void 0&&!hw(e[t],n)||n===void 0&&!(t in e))&&pw(e,t,n)}var Hi=mw,yr={},gw={get exports(){return yr},set exports(e){yr=e}};(function(e,t){var n=et,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s?n.Buffer:void 0,i=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var v=u.length,p=i?i(v):new u.constructor(v);return u.copy(p),p}e.exports=l})(gw,yr);var oo=xi;function yw(e){var t=new e.constructor(e.byteLength);return new oo(t).set(new oo(e)),t}var bw=yw,_w=bw;function ww(e,t){var n=t?_w(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $w=ww;function Dw(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var kw=Dw,Cw=ut,io=Object.create,Mw=function(){function e(){}return function(t){if(!Cw(t))return{};if(io)return io(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),xw=Mw,Tw=Si,Sw=Tw(Object.getPrototypeOf,Object),qi=Sw,Pw=xw,Ow=qi,Ew=Xa;function Aw(e){return typeof e.constructor=="function"&&!Ew(e)?Pw(Ow(e)):{}}var Iw=Aw,Yw=Wn,Nw=We;function Lw(e){return Nw(e)&&Yw(e)}var Bw=Lw,Rw=tt,Fw=qi,jw=We,Hw="[object Object]",qw=Function.prototype,Vw=Object.prototype,Vi=qw.toString,zw=Vw.hasOwnProperty,Uw=Vi.call(Object);function Ww(e){if(!jw(e)||Rw(e)!=Hw)return!1;var t=Fw(e);if(t===null)return!0;var n=zw.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Vi.call(n)==Uw}var Kw=Ww;function Gw(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var zi=Gw,Zw=__,Jw=Rr;function Xw(e,t,n,r){var a=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var i=t[s],l=r?r(n[i],e[i],i,n,e):void 0;l===void 0&&(l=e[i]),a?Jw(n,i,l):Zw(n,i,l)}return n}var Qw=Xw,e$=Qw,t$=rs;function n$(e){return e$(e,t$(e))}var r$=n$,lo=Hi,a$=yr,s$=$w,o$=kw,i$=Iw,uo=Wa,co=Ue,l$=Bw,u$=dn,c$=Vt,d$=ut,f$=Kw,v$=Ja,fo=zi,p$=r$;function h$(e,t,n,r,a,s,o){var i=fo(e,n),l=fo(t,n),u=o.get(l);if(u){lo(e,n,u);return}var c=s?s(i,l,n+"",e,t,o):void 0,v=c===void 0;if(v){var p=co(l),f=!p&&u$(l),g=!p&&!f&&v$(l);c=l,p||f||g?co(i)?c=i:l$(i)?c=o$(i):f?(v=!1,c=a$(l,!0)):g?(v=!1,c=s$(l,!0)):c=[]:f$(l)||uo(l)?(c=i,uo(i)?c=p$(i):(!d$(i)||c$(i))&&(c=i$(l))):v=!1}v&&(o.set(l,c),a(c,l,r,s,o),o.delete(l)),lo(e,n,c)}var m$=h$,g$=Za,y$=Hi,b$=Li,_$=m$,w$=ut,$$=rs,D$=zi;function Ui(e,t,n,r,a){e!==t&&b$(t,function(s,o){if(a||(a=new g$),w$(s))_$(e,t,o,n,Ui,r,a);else{var i=r?r(D$(e,o),s,o+"",e,t,a):void 0;i===void 0&&(i=s),y$(e,o,i)}},$$)}var Wi=Ui,k$=Wi,vo=ut;function Ki(e,t,n,r,a,s){return vo(e)&&vo(t)&&(s.set(t,e),k$(e,t,void 0,Ki,s),s.delete(t)),e}var C$=Ki,M$=ns,x$=ts;function T$(e){return M$(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,o&&x$(n[0],n[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++r<a;){var i=n[r];i&&e(t,i,r,s)}return t})}var S$=T$,P$=Wi,O$=S$,E$=O$(function(e,t,n,r){P$(e,t,n,r)}),A$=E$,I$=Fi,Y$=ns,N$=C$,L$=A$,B$=Y$(function(e){return e.push(void 0,N$),I$(L$,void 0,e)}),Rn=B$;function R$(e){return e&&e.length?e[0]:void 0}var Gi=R$;function F$(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Qt=F$;const j$=e=>Object.prototype.toString.call(e).slice(8,-1),en=e=>Wm(e)&&!isNaN(e.getTime()),it=e=>j$(e)==="Object",Zi=Di,po=(e,t)=>n_(t,n=>Di(e,n)),re=(e,t,n="0")=>{for(e=e!=null?String(e):"",t=t||2;e.length<t;)e=`${n}${e}`;return e},Fe=e=>Array.isArray(e),at=e=>Fe(e)&&e.length>0,br=e=>e==null?null:document&&Ge(e)?document.querySelector(e):e.$el??e,wt=(e,t,n,r=void 0)=>{e.removeEventListener(t,n,r)},$t=(e,t,n,r=void 0)=>(e.addEventListener(t,n,r),()=>wt(e,t,n,r)),lr=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),ar=(e,t)=>{(e.key===" "||e.key==="Enter")&&(t(e),e.preventDefault())},Ji=(e,...t)=>{const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n},Xi=(e,t)=>{const n={};return t.forEach(r=>{r in e&&(n[r]=e[r])}),n};function H$(e,t,n){return Math.min(Math.max(e,t),n)}var _r={},q$={get exports(){return _r},set exports(e){_r=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var a=Number(r);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(q$,_r);const V$=pi(_r);var wr={},z$={get exports(){return wr},set exports(e){wr=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),r.getTime()-a.getTime()}e.exports=t.default})(z$,wr);const ho=pi(wr);function U$(e,t){var n=Z$(t);return n.formatToParts?K$(n,e):G$(n,e)}var W$={year:0,month:1,day:2,hour:3,minute:4,second:5};function K$(e,t){try{for(var n=e.formatToParts(t),r=[],a=0;a<n.length;a++){var s=W$[n[a].type];s>=0&&(r[s]=parseInt(n[a].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function G$(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var ea={};function Z$(e){if(!ea[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";ea[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ea[e]}function Qi(e,t,n,r,a,s,o){var i=new Date(0);return i.setUTCFullYear(e,t,n),i.setUTCHours(r,a,s,o),i}var mo=36e5,J$=6e4,ta={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function X$(e,t,n){var r,a;if(!e||(r=ta.timezoneZ.exec(e),r))return 0;var s;if(r=ta.timezoneHH.exec(e),r)return s=parseInt(r[1],10),go(s)?-(s*mo):NaN;if(r=ta.timezoneHHMM.exec(e),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return go(s,o)?(a=Math.abs(s)*mo+o*J$,s>0?-a:a):NaN}if(t2(e)){t=new Date(t||Date.now());var i=n?t:Q$(t),l=ba(i,e),u=n?l:e2(t,l,e);return-u}return NaN}function Q$(e){return Qi(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ba(e,t){var n=U$(e,t),r=Qi(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),a=e.getTime(),s=a%1e3;return a-=s>=0?s:1e3+s,r-a}function e2(e,t,n){var r=e.getTime(),a=r-t,s=ba(new Date(a),n);if(t===s)return t;a-=s-t;var o=ba(new Date(a),n);return s===o?s:Math.max(s,o)}function go(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var yo={};function t2(e){if(yo[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),yo[e]=!0,!0}catch{return!1}}var n2=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const r2=n2;var na=36e5,bo=6e4,a2=2,xe={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:r2};function s2(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?a2:V$(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=o2(e),s=i2(a.date,r),o=s.year,i=s.restDateString,l=l2(i,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,v;if(a.time&&(c=u2(a.time),isNaN(c)))return new Date(NaN);if(a.timeZone||n.timeZone){if(v=X$(a.timeZone||n.timeZone,new Date(u+c)),isNaN(v))return new Date(NaN)}else v=ho(new Date(u+c)),v=ho(new Date(u+c+v));return new Date(u+c+v)}else return new Date(NaN)}function o2(e){var t={},n=xe.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=xe.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var a=xe.timeZone.exec(r);a?(t.time=r.replace(a[1],""),t.timeZone=a[1].trim()):t.time=r}return t}function i2(e,t){var n=xe.YYY[t],r=xe.YYYYY[t],a;if(a=xe.YYYY.exec(e)||r.exec(e),a){var s=a[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(a=xe.YY.exec(e)||n.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function l2(e,t){if(t===null)return null;var n,r,a,s;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=xe.MM.exec(e),n)return r=new Date(0),a=parseInt(n[1],10)-1,wo(t,a)?(r.setUTCFullYear(t,a),r):new Date(NaN);if(n=xe.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return f2(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=xe.MMDD.exec(e),n){r=new Date(0),a=parseInt(n[1],10)-1;var i=parseInt(n[2],10);return wo(t,a,i)?(r.setUTCFullYear(t,a,i),r):new Date(NaN)}if(n=xe.Www.exec(e),n)return s=parseInt(n[1],10)-1,$o(t,s)?_o(t,s):new Date(NaN);if(n=xe.WwwD.exec(e),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return $o(t,s,l)?_o(t,s,l):new Date(NaN)}return null}function u2(e){var t,n,r;if(t=xe.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),ra(n)?n%24*na:NaN;if(t=xe.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),ra(n,r)?n%24*na+r*bo:NaN;if(t=xe.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return ra(n,r,a)?n%24*na+r*bo+a*1e3:NaN}return null}function _o(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,s=t*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}var c2=[31,28,31,30,31,30,31,31,30,31,30,31],d2=[31,29,31,30,31,30,31,31,30,31,30,31];function el(e){return e%400===0||e%4===0&&e%100!==0}function wo(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=el(e);if(r&&n>d2[t]||!r&&n>c2[t])return!1}return!0}function f2(e,t){if(t<1)return!1;var n=el(e);return!(n&&t>366||!n&&t>365)}function $o(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function ra(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ur(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ur=function(n){return typeof n}:ur=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ur(e)}function ct(e){ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ur(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var v2={};function as(){return v2}function jt(e,t){var n,r,a,s,o,i,l,u;ke(1,arguments);var c=as(),v=bn((n=(r=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(e),f=p.getDay(),g=(f<v?7:0)+f-v;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function Do(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var p2=6048e5;function h2(e,t,n){ke(2,arguments);var r=jt(e,n),a=jt(t,n),s=r.getTime()-Do(r),o=a.getTime()-Do(a);return Math.round((s-o)/p2)}function m2(e){ke(1,arguments);var t=ct(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function g2(e){ke(1,arguments);var t=ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function y2(e,t){return ke(1,arguments),h2(m2(e),g2(e),t)+1}function b2(e,t){var n,r,a,s,o,i,l,u;ke(1,arguments);var c=ct(e),v=c.getFullYear(),p=as(),f=bn((n=(r=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(v+1,0,f),g.setHours(0,0,0,0);var b=jt(g,t),_=new Date(0);_.setFullYear(v,0,f),_.setHours(0,0,0,0);var m=jt(_,t);return c.getTime()>=b.getTime()?v+1:c.getTime()>=m.getTime()?v:v-1}function _2(e,t){var n,r,a,s,o,i,l,u;ke(1,arguments);var c=as(),v=bn((n=(r=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(i=o.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=b2(e,t),f=new Date(0);f.setFullYear(p,0,v),f.setHours(0,0,0,0);var g=jt(f,t);return g}var w2=6048e5;function $2(e,t){ke(1,arguments);var n=ct(e),r=jt(n,t).getTime()-_2(n,t).getTime();return Math.round(r/w2)+1}function $r(e){return ke(1,arguments),jt(e,{weekStartsOn:1})}function D2(e){ke(1,arguments);var t=ct(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=$r(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=$r(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function k2(e){ke(1,arguments);var t=D2(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=$r(n);return r}var C2=6048e5;function M2(e){ke(1,arguments);var t=ct(e),n=$r(t).getTime()-k2(t).getTime();return Math.round(n/C2)+1}function Me(e,t){ke(2,arguments);var n=ct(e),r=bn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Dr(e,t){ke(2,arguments);var n=ct(e),r=bn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var a=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function ko(e,t){ke(2,arguments);var n=bn(t);return Dr(e,n*12)}const x2={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function T2({monthComps:e,prevMonthComps:t,nextMonthComps:n},r){const a=[],{firstDayOfWeek:s,firstWeekday:o,isoWeeknumbers:i,weeknumbers:l,numDays:u,numWeeks:c}=e,v=o+(o<s?De:0)-s;let p=!0,f=!1,g=!1,b=0;const _=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let m=t.numDays-v+1,C=t.numDays-m+1,x=Math.floor((m-1)/De+1),D=1,O=t.numWeeks,I=1,N=t.month,$=t.year;const S=new Date,L=S.getDate(),F=S.getMonth()+1,R=S.getFullYear();for(let j=1;j<=_D;j++){for(let te=1,V=s;te<=De;te++,V+=V===De?1-De:1){p&&V===o&&(m=1,C=e.numDays,x=Math.floor((m-1)/De+1),D=Math.floor((u-m)/De+1),O=1,I=c,N=e.month,$=e.year,p=!1,f=!0);const ee=r.getDateFromParams($,N,m,0,0,0,0),se=r.getDateFromParams($,N,m,12,0,0,0),ge=r.getDateFromParams($,N,m,23,59,59,999),le=ee,Y=`${re($,4)}-${re(N,2)}-${re(m,2)}`,Q=te,q=De-te,de=l[j-1],ne=i[j-1],fe=m===L&&N===F&&$===R,be=f&&m===1,ve=f&&m===u,_e=j===1,Oe=j===c,nt=te===1,qe=te===De,Ye=fl($,N,m);a.push({locale:r,id:Y,position:++b,label:m.toString(),ariaLabel:_.format(new Date($,N-1,m)),day:m,dayFromEnd:C,weekday:V,weekdayPosition:Q,weekdayPositionFromEnd:q,weekdayOrdinal:x,weekdayOrdinalFromEnd:D,week:O,weekFromEnd:I,weekPosition:j,weeknumber:de,isoWeeknumber:ne,month:N,year:$,date:le,startDate:ee,endDate:ge,noonDate:se,dayIndex:Ye,isToday:fe,isFirstDay:be,isLastDay:ve,isDisabled:!f,isFocusable:!f,isFocused:!1,inMonth:f,inPrevMonth:p,inNextMonth:g,onTop:_e,onBottom:Oe,onLeft:nt,onRight:qe,classes:[`id-${Y}`,`day-${m}`,`day-from-end-${C}`,`weekday-${V}`,`weekday-position-${Q}`,`weekday-ordinal-${x}`,`weekday-ordinal-from-end-${D}`,`week-${O}`,`week-from-end-${I}`,{"is-today":fe,"is-first-day":be,"is-last-day":ve,"in-month":f,"in-prev-month":p,"in-next-month":g,"on-top":_e,"on-bottom":Oe,"on-left":nt,"on-right":qe}]}),f&&ve?(f=!1,g=!0,m=1,C=u,x=1,D=Math.floor((u-m)/De+1),O=1,I=n.numWeeks,N=n.month,$=n.year):(m++,C--,x=Math.floor((m-1)/De+1),D=Math.floor((u-m)/De+1))}O++,I--}return a}function S2(e,t,n,r){const a=e.reduce((s,o,i)=>{const l=Math.floor(i/7);let u=s[l];return u||(u={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:t?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},s[l]=u),u.days.push(o),s},Array(e.length/De));return a.forEach(s=>{const o=s.days[0],i=s.days[s.days.length-1];o.month===i.month?s.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===i.year?s.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(i.date,"MMM YYYY")}`:s.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(i.date,"MMM YYYY")}`}),a}function P2(e,t){return e.days.map(n=>({label:t.formatDate(n.date,t.masks.weekdays),weekday:n.weekday}))}function O2(e,t){return`${t}.${re(e,2)}`}function tl(e,t,n){return Xi(n.getDateParts(n.toDate(e)),x2[t])}function nl({day:e,week:t,month:n,year:r},a,s,o){if(s==="daily"&&e){const i=new Date(r,n-1,e),l=Me(i,a);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(s==="weekly"&&t){const l=o.getMonthParts(n,r).firstDayOfMonth,u=Me(l,(t-1+a)*7),c=o.getDateParts(u);return{week:c.week,month:c.month,year:c.year}}else{const i=new Date(r,n-1,1),l=Dr(i,a);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Ze(e){return e!=null&&e.month!=null&&e.year!=null}function _a(e,t){return!Ze(e)||!Ze(t)?!1:(e=e,t=t,e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:e.day&&t.day&&e.day!==t.day?e.day<t.day:!1)}function kr(e,t){return!Ze(e)||!Ze(t)?!1:(e=e,t=t,e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:e.day&&t.day&&e.day!==t.day?e.day>t.day:!1)}function E2(e,t,n){return(e||!1)&&!_a(e,t)&&!kr(e,n)}function A2(e,t){return!e&&t||e&&!t?!1:!e&&!t?!0:(e=e,t=t,e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day)}function I2(e,t,n,r){if(!Ze(e)||!Ze(t))return[];const a=[];for(;!kr(e,t);)a.push(e),e=nl(e,1,n,r);return a}function rl(e){const{day:t,week:n,month:r,year:a}=e;let s=`${a}-${re(r,2)}`;return n&&(s=`${s}-w${n}`),t&&(s=`${s}-${re(t,2)}`),s}function Y2(e,t){const{month:n,year:r,showWeeknumbers:a,showIsoWeeknumbers:s}=e,o=new Date(r,n-1,15),i=t.getMonthParts(n,r),l=t.getPrevMonthParts(n,r),u=t.getNextMonthParts(n,r),c=T2({monthComps:i,prevMonthComps:l,nextMonthComps:u},t),v=S2(c,a,s,t),p=P2(v[0],t);return{id:rl(e),month:n,year:r,monthTitle:t.formatDate(o,t.masks.title),shortMonthLabel:t.formatDate(o,"MMM"),monthLabel:t.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:i,prevMonthComps:l,nextMonthComps:u,days:c,weeks:v,weekdays:p}}function N2(e,t){const{day:n,week:r,view:a,trimWeeks:s}=e,o={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(a){case"daily":{let i=o.days.find(u=>u.inMonth);n?i=o.days.find(u=>u.day===n&&u.inMonth)||i:r&&(i=o.days.find(u=>u.week===r&&u.inMonth));const l=o.weeks[i.week-1];o.viewWeeks=[l],o.viewDays=[i],o.week=i.week,o.weekTitle=l.title,o.day=i.day,o.dayTitle=i.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const i=o.weeks[o.week-1];o.viewWeeks=[i],o.viewDays=i.days,o.weekTitle=i.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,s?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class Co{constructor(t,n,r){H(this,"keys",[]),H(this,"store",{}),this.size=t,this.createKey=n,this.createItem=r}get(...t){const n=this.createKey(...t);return this.store[n]}getOrSet(...t){const n=this.createKey(...t);if(this.store[n])return this.store[n];const r=this.createItem(...t);if(this.keys.length>=this.size){const a=this.keys.shift();a!=null&&delete this.store[a]}return this.keys.push(n),this.store[n]=r,r}}class tn{constructor(t,n=new Cr){H(this,"order"),H(this,"locale"),H(this,"start",null),H(this,"end",null),H(this,"repeat",null);var r;this.locale=n;const{start:a,end:s,span:o,order:i,repeat:l}=t;en(a)&&(this.start=n.getDateParts(a)),en(s)?this.end=n.getDateParts(s):this.start!=null&&o&&(this.end=n.getDateParts(Me(this.start.date,o-1))),this.order=i??0,l&&(this.repeat=new Mr({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(t,n){return(Fe(t)?t:[t]).filter(r=>r).map(r=>tn.from(r,n))}static from(t,n){if(t instanceof tn)return t;const r={start:null,end:null};return t!=null&&(Fe(t)?(r.start=t[0]??null,r.end=t[1]??null):it(t)?Object.assign(r,t):(r.start=t,r.end=t)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new tn(r,n)}get opts(){const{order:t,locale:n}=this;return{order:t,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:t,end:n}=this;return t&&n&&t.year===n.year&&t.month===n.month&&t.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(t){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===t.dayIndex||!!((r=this.repeat)!=null&&r.passes(t))}intersectsDay(t){return this.intersectsDayRange(t,t)}intersectsRange(t){var n,r;return this.intersectsDayRange(((n=t.start)==null?void 0:n.dayIndex)??-1/0,((r=t.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(t,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<t)}}class L2{constructor(){H(this,"records",{})}render(t,n,r){var a,s,o,i;let l=null;const u=r[0].dayIndex,c=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(v=>{var p,f;if(n.startsOnDay(v)){const g=n.daySpan<1/0?n.daySpan:1;l={startDay:v.dayIndex,startTime:((p=n.start)==null?void 0:p.time)??0,endDay:v.dayIndex+g-1,endTime:((f=n.end)==null?void 0:f.time)??cr},this.getRangeRecords(t).push(l)}}):n.intersectsDayRange(u,c)&&(l={startDay:((a=n.start)==null?void 0:a.dayIndex)??-1/0,startTime:((s=n.start)==null?void 0:s.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((i=n.end)==null?void 0:i.time)??1/0},this.getRangeRecords(t).push(l)),l}getRangeRecords(t){let n=this.records[t.key];return n||(n={ranges:[],data:t},this.records[t.key]=n),n.ranges}getCell(t,n){return this.getCells(n).find(s=>s.data.key===t)}cellExists(t,n){const r=this.records[t];return r==null?!1:r.ranges.some(a=>a.startDay<=n&&a.endDay>=n)}getCells(t){const n=Object.values(this.records),r=[],{dayIndex:a}=t;return n.forEach(({data:s,ranges:o})=>{o.filter(i=>i.startDay<=a&&i.endDay>=a).forEach(i=>{const l=a===i.startDay,u=a===i.endDay,c=l?i.startTime:0,v=new Date(t.startDate.getTime()+c),p=u?i.endTime:cr,f=new Date(t.endDate.getTime()+p),g=c===0&&p===cr,b=s.order||0;r.push({...i,data:s,onStart:l,onEnd:u,startTime:c,startDate:v,endTime:p,endDate:f,allDay:g,order:b})})}),r.sort((s,o)=>s.order-o.order),r}}const lt={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};lt.en=lt["en-US"];lt.es=lt["es-ES"];lt.no=lt.nb;lt.zh=lt["zh-CN"];const B2=Object.entries(lt).reduce((e,[t,{dow:n,L:r}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:r}},e),{}),R2="MMMM YYYY",F2="W",j2="MMM",H2="h A",q2=["L","YYYY-MM-DD","YYYY/MM/DD"],V2=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],z2=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],U2=["h:mm A"],W2=["HH:mm"],K2="WWW, MMM D, YYYY",G2=["L","YYYY-MM-DD","YYYY/MM/DD"],Z2="iso",J2="YYYY-MM-DDTHH:mm:ss.SSSZ",X2={title:R2,weekdays:F2,navMonths:j2,hours:H2,input:q2,inputDateTime:V2,inputDateTime24hr:z2,inputTime:U2,inputTime24hr:W2,dayPopover:K2,data:G2,model:Z2,iso:J2},Q2=300,eD=60,tD=80,nD={maxSwipeTime:Q2,minHorizontalSwipeDistance:eD,maxVerticalSwipeDistance:tD},rD={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:nD,masks:X2,locales:B2,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},wa=Ca(rD),aD=T(()=>C_(wa.locales,e=>(e.masks=Rn(e.masks,wa.masks),e))),Ct=e=>typeof window<"u"&&Zi(window.__vcalendar__,e)?Lt(window.__vcalendar__,e):Lt(wa,e),sD=12,oD=5;function iD(e,t){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Ge(e)?r=e:Zi(e,"id")&&(r=e.id),r=(r||n).toLowerCase();const a=Object.keys(t),s=l=>a.find(u=>u.toLowerCase()===l);r=s(r)||s(r.substring(0,2))||n;const o={...t["en-IE"],...t[r],id:r,monthCacheSize:sD,pageCacheSize:oD};return it(e)?Rn(e,o):o}class Cr{constructor(t=void 0,n){H(this,"id"),H(this,"daysInWeek"),H(this,"firstDayOfWeek"),H(this,"masks"),H(this,"timezone"),H(this,"hourLabels"),H(this,"dayNames"),H(this,"dayNamesShort"),H(this,"dayNamesShorter"),H(this,"dayNamesNarrow"),H(this,"monthNames"),H(this,"monthNamesShort"),H(this,"relativeTimeNames"),H(this,"amPm",["am","pm"]),H(this,"monthCache"),H(this,"pageCache");const{id:r,firstDayOfWeek:a,masks:s,monthCacheSize:o,pageCacheSize:i}=iD(t,aD.value);this.monthCache=new Co(o,SD,PD),this.pageCache=new Co(i,rl,Y2),this.id=r,this.daysInWeek=De,this.firstDayOfWeek=H$(a,1,De),this.masks=s,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=aa("long",this.id),this.dayNamesShort=aa("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=aa("narrow",this.id),this.monthNames=Oo("long",this.id),this.monthNamesShort=Oo("short",this.id),this.relativeTimeNames=AD(this.id)}formatDate(t,n){return BD(t,n,this)}parseDate(t,n){return Eo(t,n,this)}toDate(t,n={}){const r=new Date(NaN);let a=r;const{fillDate:s,mask:o,patch:i,rules:l}=n;if(ze(t)?(n.type="number",a=new Date(+t)):Ge(t)?(n.type="string",a=t?Eo(t,o||"iso",this):r):en(t)?(n.type="date",a=new Date(t.getTime())):ss(t)&&(n.type="object",a=this.getDateFromParts(t)),a&&(i||l)){let u=this.getDateParts(a);if(i&&s!=null){const c=this.getDateParts(this.toDate(s));u=this.getDateParts(this.toDate({...c,...Xi(u,bD[i])}))}l&&(u=LD(u,l)),a=this.getDateFromParts(u)}return a||r}toDateOrNull(t,n={}){const r=this.toDate(t,n);return isNaN(r.getTime())?null:r}fromDate(t,{type:n,mask:r}={}){switch(n){case"number":return t?t.getTime():NaN;case"string":return t?this.formatDate(t,r||"iso"):"";case"object":return t?this.getDateParts(t):null;default:return t?new Date(t):null}}range(t){return tn.from(t,this)}ranges(t){return tn.fromMany(t,this)}getDateParts(t){return TD(t,this)}getDateFromParts(t){return pl(t,this.timezone)}getDateFromParams(t,n,r,a,s,o,i){return this.getDateFromParts({year:t,month:n,day:r,hours:a,minutes:s,seconds:o,milliseconds:i})}getPage(t){const n=this.pageCache.getOrSet(t,this);return N2(t,n)}getMonthParts(t,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(t,n,r)}getThisMonthParts(){const t=new Date;return this.getMonthParts(t.getMonth()+1,t.getFullYear())}getPrevMonthParts(t,n){return t===1?this.getMonthParts(12,n-1):this.getMonthParts(t-1,n)}getNextMonthParts(t,n){return t===12?this.getMonthParts(1,n+1):this.getMonthParts(t+1,n)}getHourLabels(){return ED().map(t=>this.formatDate(t,this.masks.hours))}getDayId(t){return this.formatDate(t,"YYYY-MM-DD")}}var Jt=(e=>(e.Any="any",e.All="all",e))(Jt||{}),al=(e=>(e.Days="days",e.Weeks="weeks",e.Months="months",e.Years="years",e))(al||{}),sl=(e=>(e.Days="days",e.Weekdays="weekdays",e.Weeks="weeks",e.Months="months",e.Years="years",e))(sl||{}),ol=(e=>(e.OrdinalWeekdays="ordinalWeekdays",e))(ol||{});class lD{constructor(t,n,r){H(this,"validated",!0),this.type=t,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(t){if(!this.validated)return!0;const{date:n}=t;switch(this.type){case"days":return os(this.from.date,n)%this.interval===0;case"weeks":return MD(this.from.date,n)%this.interval===0;case"months":return xD(this.from.date,n)%this.interval===0;case"years":return vl(this.from.date,n)%this.interval===0;default:return!1}}}class _n{constructor(t,n,r,a){H(this,"components",[]),this.type=t,this.validator=r,this.getter=a,this.components=this.normalizeComponents(n)}static create(t,n){switch(t){case"days":return new uD(n);case"weekdays":return new cD(n);case"weeks":return new dD(n);case"months":return new fD(n);case"years":return new vD(n)}}normalizeComponents(t){if(this.validator(t))return[t];if(!Fe(t))return[];const n=[];return t.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(t){return this.getter(t).some(a=>this.components.includes(a))}}class uD extends _n{constructor(t){super("days",t,mD,({day:n,dayFromEnd:r})=>[n,-r])}}class cD extends _n{constructor(t){super("weekdays",t,$a,({weekday:n})=>[n])}}class dD extends _n{constructor(t){super("weeks",t,gD,({week:n,weekFromEnd:r})=>[n,-r])}}class fD extends _n{constructor(t){super("months",t,yD,({month:n})=>[n])}}class vD extends _n{constructor(t){super("years",t,ze,({year:n})=>[n])}}class pD{constructor(t,n){H(this,"components"),this.type=t,this.components=this.normalizeComponents(n)}normalizeArrayConfig(t){const n=[];return t.forEach((r,a)=>{if(ze(r)){if(a===0)return;if(!Mo(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!$a(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],r])}else Fe(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(t){const n=[];return t.forEach((r,a)=>{if(ze(r)){if(a===0)return;if(!Mo(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!$a(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],r])}else Fe(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(t){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:a}=t;return this.components.some(([s,o])=>(s===r||s===-a)&&n===o)}}class hD{constructor(t){H(this,"type","function"),H(this,"validated",!0),this.fn=t,Vt(t)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(t){return this.validated?this.fn(t):!0}}class Mr{constructor(t,n={},r){H(this,"validated",!0),H(this,"config"),H(this,"type",Jt.Any),H(this,"from"),H(this,"until"),H(this,"rules",[]),H(this,"locale",new Cr),this.parent=r,n.locale&&(this.locale=n.locale),this.config=t,Vt(t)?(this.type=Jt.All,this.rules=[new hD(t)]):Fe(t)?(this.type=Jt.Any,this.rules=t.map(a=>new Mr(a,n,this))):it(t)?(this.type=Jt.All,this.from=t.from?this.locale.getDateParts(t.from):r==null?void 0:r.from,this.until=t.until?this.locale.getDateParts(t.until):r==null?void 0:r.until,this.rules=this.getObjectRules(t)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(t){const n=[];if(t.every&&(Ge(t.every)&&(t.every=[1,`${t.every}s`]),Fe(t.every))){const[r=1,a=al.Days]=t.every;n.push(new lD(a,r,this.from))}return Object.values(sl).forEach(r=>{r in t&&n.push(_n.create(r,t[r]))}),Object.values(ol).forEach(r=>{r in t&&n.push(new pD(r,t[r]))}),t.on!=null&&(Fe(t.on)||(t.on=[t.on]),n.push(new Mr(t.on,{locale:this.locale},this.parent))),n}passes(t){return this.validated?this.from&&t.dayIndex<=this.from.dayIndex||this.until&&t.dayIndex>=this.until.dayIndex?!1:this.type===Jt.Any?this.rules.some(n=>n.passes(t)):this.rules.every(n=>n.passes(t)):!0}}function mD(e){return ze(e)?e>=1&&e<=31:!1}function $a(e){return ze(e)?e>=1&&e<=7:!1}function gD(e){return ze(e)?e>=-6&&e<=-1||e>=1&&e<=6:!1}function yD(e){return ze(e)?e>=1&&e<=12:!1}function Mo(e){return!(!ze(e)||e<-5||e>5||e===0)}const bD={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},De=7,_D=6,il=1e3,ll=il*60,ul=ll*60,cr=ul*24,wD=[31,28,31,30,31,30,31,31,30,31,30,31],$D=["L","iso"],Pn={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},cl=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,DD=/\[([^]*?)\]/gm,xo={D(e){return e.day},DD(e){return re(e.day,2)},d(e){return e.weekday-1},dd(e){return re(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return re(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return re(e.year,4)},h(e){return e.hours%12||12},hh(e){return re(e.hours%12||12,2)},H(e){return e.hours},HH(e){return re(e.hours,2)},m(e){return e.minutes},mm(e){return re(e.minutes,2)},s(e){return e.seconds},ss(e){return re(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return re(Math.round(e.milliseconds/10),2)},SSS(e){return re(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${re(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${re(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${re(Math.floor(Math.abs(t)/60),2)}:${re(Math.abs(t)%60,2)}`}},yt=/\d\d?/,kD=/\d{3}/,CD=/\d{4}/,Mn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,To=()=>{},So=e=>(t,n,r)=>{const a=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~a&&(t.month=a)},oe={D:[yt,(e,t)=>{e.day=t}],Do:[new RegExp(yt.source+Mn.source),(e,t)=>{e.day=parseInt(t,10)}],d:[yt,To],W:[Mn,To],M:[yt,(e,t)=>{e.month=t-1}],MMM:[Mn,So("monthNamesShort")],MMMM:[Mn,So("monthNames")],YY:[yt,(e,t)=>{const r=+new Date().getFullYear().toString().substr(0,2);e.year=+`${t>68?r-1:r}${t}`}],YYYY:[CD,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=t*100}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=t*10}],SSS:[kD,(e,t)=>{e.milliseconds=t}],h:[yt,(e,t)=>{e.hours=t}],m:[yt,(e,t)=>{e.minutes=t}],s:[yt,(e,t)=>{e.seconds=t}],a:[Mn,(e,t,n)=>{const r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{t==="Z"&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);e.timezoneOffset=n[0]==="+"?r:-r}}]};oe.DD=oe.D;oe.dd=oe.d;oe.WWWW=oe.WWW=oe.WW=oe.W;oe.MM=oe.M;oe.mm=oe.m;oe.hh=oe.H=oe.HH=oe.h;oe.ss=oe.s;oe.A=oe.a;oe.ZZZZ=oe.ZZZ=oe.ZZ=oe.Z;function dl(e,t){return(at(e)&&e||[Ge(e)&&e||"YYYY-MM-DD"]).map(n=>$D.reduce((r,a)=>r.replace(a,t.masks[a]||""),n))}function ss(e){return it(e)&&"year"in e&&"month"in e&&"day"in e}function Po(e,t=1){const n=e.getDay()+1,r=n>=t?t-n:-(7-(t-n));return Me(e,r)}function fl(e,t,n){const r=Date.UTC(e,t-1,n);return os(new Date(0),new Date(r))}function os(e,t){return Math.round((t.getTime()-e.getTime())/cr)}function MD(e,t){return Math.ceil(os(Po(e),Po(t))/7)}function vl(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function xD(e,t){return vl(e,t)*12+(t.getMonth()-e.getMonth())}function pl(e,t=""){const n=new Date,{year:r=n.getFullYear(),month:a=n.getMonth()+1,day:s=n.getDate(),hours:o=0,minutes:i=0,seconds:l=0,milliseconds:u=0}=e;if(t){const c=`${re(r,4)}-${re(a,2)}-${re(s,2)}T${re(o,2)}:${re(i,2)}:${re(l,2)}.${re(u,3)}`;return s2(c,{timeZone:t})}return new Date(r,a-1,s,o,i,l,u)}function TD(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const r=n.getMilliseconds(),a=n.getSeconds(),s=n.getMinutes(),o=n.getHours(),i=r+a*il+s*ll+o*ul,l=n.getMonth()+1,u=n.getFullYear(),c=t.getMonthParts(l,u),v=n.getDate(),p=c.numDays-v+1,f=n.getDay()+1,g=Math.floor((v-1)/7+1),b=Math.floor((c.numDays-v)/7+1),_=Math.ceil((v+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),m=c.numWeeks-_+1,C=c.weeknumbers[_],x=fl(u,l,v);return{milliseconds:r,seconds:a,minutes:s,hours:o,time:i,day:v,dayFromEnd:p,weekday:f,weekdayOrdinal:g,weekdayOrdinalFromEnd:b,week:_,weekFromEnd:m,weeknumber:C,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:x,timezoneOffset:0,isValid:!0}}function SD(e,t,n){return`${t}-${e}-${n}`}function PD(e,t,n){const r=t%4===0&&t%100!==0||t%400===0,a=new Date(t,e-1,1),s=a.getDay()+1,o=e===2&&r?29:wD[e-1],i=n-1,l=y2(a,{weekStartsOn:i}),u=[],c=[];for(let v=0;v<l;v++){const p=Me(a,v*7);u.push($2(p,{weekStartsOn:i})),c.push(M2(p))}return{firstDayOfWeek:n,firstDayOfMonth:a,inLeapYear:r,firstWeekday:s,numDays:o,numWeeks:l,month:e,year:t,weeknumbers:u,isoWeeknumbers:c}}function OD(){const e=[];for(let a=0;a<De;a++)e.push(pl({year:2020,month:1,day:5+a,hours:12}));return e}function aa(e,t=void 0){const n=new Intl.DateTimeFormat(t,{weekday:e});return OD().map(r=>n.format(r))}function ED(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function AD(e=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(e);return t.reduce((r,a)=>{const s=n.formatToParts(100,a);return r[a]=s[1].unit,r},{})}function hl(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function Oo(e,t=void 0){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return hl().map(r=>n.format(r))}function ID(e,t,n){return ze(t)?t===e:Fe(t)?t.includes(e):Vt(t)?t(e,n):!(t.min!=null&&t.min>e||t.max!=null&&t.max<e||t.interval!=null&&e%t.interval!==0)}function On(e,t,n){const r=[],[a,s,o]=t;for(let i=a;i<=s;i++)(n==null||ID(i,n,e))&&r.push({value:i,label:re(i,o)});return r}function YD(e,t){return{milliseconds:On(e,Pn.milliseconds,t.milliseconds),seconds:On(e,Pn.seconds,t.seconds),minutes:On(e,Pn.minutes,t.minutes),hours:On(e,Pn.hours,t.hours)}}function ND(e,t,n,r){const s=On(e,t,r).reduce((o,i)=>{if(i.disabled)return o;if(isNaN(o))return i.value;const l=Math.abs(o-n);return Math.abs(i.value-n)<l?i.value:o},NaN);return isNaN(s)?n:s}function LD(e,t){const n={...e};return Object.entries(t).forEach(([r,a])=>{const s=Pn[r],o=e[r];n[r]=ND(e,s,o,a)}),n}function Eo(e,t,n){return dl(t,n).map(a=>{if(typeof a!="string")throw new Error("Invalid mask");let s=e;if(s.length>1e3)return!1;let o=!0;const i={};if(a.replace(cl,c=>{if(oe[c]){const v=oe[c],p=s.search(v[0]);~p?s.replace(v[0],f=>(v[1](i,f,n),s=s.substr(p+f.length),f)):o=!1}return oe[c]?"":c.slice(1,c.length-1)}),!o)return!1;const l=new Date;i.hours!=null&&(i.isPm===!0&&+i.hours!=12?i.hours=+i.hours+12:i.isPm===!1&&+i.hours==12&&(i.hours=0));let u;return i.timezoneOffset!=null?(i.minutes=+(i.minutes||0)-+i.timezoneOffset,u=new Date(Date.UTC(i.year||l.getFullYear(),i.month||0,i.day||1,i.hours||0,i.minutes||0,i.seconds||0,i.milliseconds||0))):u=n.getDateFromParts({year:i.year||l.getFullYear(),month:(i.month||0)+1,day:i.day||1,hours:i.hours||0,minutes:i.minutes||0,seconds:i.seconds||0,milliseconds:i.milliseconds||0}),u}).find(a=>a)||new Date(e)}function BD(e,t,n){if(e==null)return"";let r=dl(t,n)[0];/Z$/.test(r)&&(n.timezone="utc");const a=[];r=r.replace(DD,(o,i)=>(a.push(i),"??"));const s=n.getDateParts(e);return r=r.replace(cl,o=>o in xo?xo[o](s,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>a.shift())}let RD=0;class ml{constructor(t,n,r){H(this,"key",""),H(this,"hashcode",""),H(this,"highlight",null),H(this,"content",null),H(this,"dot",null),H(this,"bar",null),H(this,"event",null),H(this,"popover",null),H(this,"customData",null),H(this,"ranges"),H(this,"hasRanges",!1),H(this,"order",0),H(this,"pinPage",!1),H(this,"maxRepeatSpan",0),H(this,"locale");const{dates:a}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},t);this.key||(this.key=++RD),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(a??[]),this.hasRanges=!!at(this.ranges),this.maxRepeatSpan=this.ranges.filter(s=>s.hasRepeat).map(s=>s.daySpan).reduce((s,o)=>Math.max(s,o),0)}intersectsRange({start:t,end:n}){if(t==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(t.dayIndex,n.dayIndex))return!0;const a=this.ranges.filter(o=>o.hasRepeat);if(!a.length)return!1;let s=t;for(this.maxRepeatSpan>1&&(s=this.locale.getDateParts(Me(s.date,-this.maxRepeatSpan)));s.dayIndex<=n.dayIndex;){for(const o of a)if(o.startsOnDay(s))return!0;s=this.locale.getDateParts(Me(s.date,1))}return!1}}function Da(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function Fn(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function gl(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function yl(e){const{visibility:t}=e,n=t==="click",r=t==="hover",a=t==="hover-focus",s=t==="focus";e.autoHide=!n;let o=!1,i=!1;const l=g=>{n&&(gl({...e,target:e.target||g.currentTarget}),g.stopPropagation())},u=g=>{o||(o=!0,(r||a)&&Da({...e,target:e.target||g.currentTarget}))},c=()=>{o&&(o=!1,(r||a&&!i)&&Fn(e))},v=g=>{i||(i=!0,(s||a)&&Da({...e,target:e.target||g.currentTarget}))},p=g=>{i&&!lr(g.currentTarget,g.relatedTarget)&&(i=!1,(s||a&&!o)&&Fn(e))},f={};switch(e.visibility){case"click":f.click=l;break;case"hover":f.mousemove=u,f.mouseleave=c;break;case"focus":f.focusin=v,f.focusout=p;break;case"hover-focus":f.mousemove=u,f.mouseleave=c,f.focusin=v,f.focusout=p;break}return f}const Ao=e=>{const t=br(e);if(t==null)return;const n=t.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete t.popoverHandlers)},Io=(e,t)=>{const n=br(e);if(n==null)return;const r=[],a=yl(t);Object.entries(a).forEach(([s,o])=>{r.push($t(n,s,o))}),n.popoverHandlers=r},bl={mounted(e,t){const{value:n}=t;n&&Io(e,n)},updated(e,t){const{oldValue:n,value:r}=t,a=n==null?void 0:n.visibility,s=r==null?void 0:r.visibility;a!==s&&(a&&(Ao(e),s||Fn(n)),s&&Io(e,r))},unmounted(e){Ao(e)}},FD=(e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:a})=>{if(!e||!e.addEventListener||!Vt(t))return null;let s=0,o=0,i=null,l=!1;function u(v){const p=v.changedTouches[0];s=p.screenX,o=p.screenY,i=new Date().getTime(),l=!0}function c(v){if(!l||!i)return;l=!1;const p=v.changedTouches[0],f=p.screenX-s,g=p.screenY-o;if(new Date().getTime()-i<n&&Math.abs(f)>=r&&Math.abs(g)<=a){const _={toLeft:!1,toRight:!1};f<0?_.toLeft=!0:_.toRight=!0,t(_)}}return $t(e,"touchstart",u,{passive:!0}),$t(e,"touchend",c,{passive:!0}),()=>{wt(e,"touchstart",u),wt(e,"touchend",c)}},dr={},jD=(e,t=10)=>{dr[e]=Date.now()+t},HD=(e,t)=>{if(e in dr){const n=dr[e];if(Date.now()<n)return;delete dr[e]}t()};function _l(){return typeof window<"u"}function qD(e){return _l()&&e in window}function VD(e){const t=W(!1),n=T(()=>t.value?"dark":"light");let r,a;function s(f){t.value=f.matches}function o(){qD("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",s),t.value=r.matches)}function i(){const{selector:f=":root",darkClass:g="dark"}=e.value,b=document.querySelector(f);t.value=b.classList.contains(g)}function l(f){const{selector:g=":root",darkClass:b="dark"}=f;if(_l()&&g&&b){const _=document.querySelector(g);_&&(a=new MutationObserver(i),a.observe(_,{attributes:!0,attributeFilter:["class"]}),t.value=_.classList.contains(b))}}function u(){v();const f=typeof e.value;f==="string"&&e.value.toLowerCase()==="system"?o():f==="object"?l(e.value):t.value=!!e.value}const c=pe(()=>e.value,()=>u(),{immediate:!0});function v(){r&&(r.removeEventListener("change",s),r=void 0),a&&(a.disconnect(),a=void 0)}function p(){v(),c()}return xr(()=>p()),{isDark:t,displayMode:n,cleanup:p}}const zD=["base","start","end","startEnd"],UD=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],WD={base:{},start:{},end:{}};function is(e,t,n=WD){let r=e,a={};t===!0||Ge(t)?(r=Ge(t)?t:r,a={...n}):it(t)&&(po(t,zD)?a={...t}:a={base:{...t},start:{...t},end:{...t}});const s=Rn(a,{start:a.startEnd,end:a.startEnd},n);return Object.entries(s).forEach(([o,i])=>{let l=r;i===!0||Ge(i)?(l=Ge(i)?i:l,s[o]={color:l}):it(i)&&(po(i,UD)?s[o]={...i}:s[o]={}),Rn(s[o],{color:l})}),s}class KD{constructor(){H(this,"type","highlight")}normalizeConfig(t,n){return is(t,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(t){t.highlights=[],t.content||(t.content=[])}render({data:t,onStart:n,onEnd:r},a){const{key:s,highlight:o}=t;if(!o)return;const{highlights:i}=a,{base:l,start:u,end:c}=o;n&&r?i.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(i.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),i.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(i.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),i.push({...c,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):i.push({...l,key:`${s}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class ls{constructor(t,n){H(this,"type",""),H(this,"collectionType",""),this.type=t,this.collectionType=n}normalizeConfig(t,n){return is(t,n)}prepareRender(t){t[this.collectionType]=[]}render({data:t,onStart:n,onEnd:r},a){const{key:s}=t,o=t[this.type];if(!s||!o)return;const i=a[this.collectionType],{base:l,start:u,end:c}=o;n?i.push({...u,key:s,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?i.push({...c,key:s,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):i.push({...l,key:s,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class GD extends ls{constructor(){super("content","content")}normalizeConfig(t,n){return is("base",n)}}class ZD extends ls{constructor(){super("dot","dots")}}class JD extends ls{constructor(){super("bar","bars")}}class XD{constructor(t){H(this,"color"),H(this,"renderers",[new GD,new KD,new ZD,new JD]),this.color=t}normalizeGlyphs(t){this.renderers.forEach(n=>{const r=n.type;t[r]!=null&&(t[r]=n.normalizeConfig(this.color,t[r]))})}prepareRender(t={}){return this.renderers.forEach(n=>{n.prepareRender(t)}),t}render(t,n){this.renderers.forEach(r=>{r.render(t,n)})}}const wl=Symbol("__vc_base_context__"),$l={color:{type:String,default:()=>Ct("color")},isDark:{type:[Boolean,String,Object],default:()=>Ct("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function Dl(e){const t=T(()=>e.color??""),n=T(()=>e.isDark??!1),{displayMode:r}=VD(n),a=T(()=>new XD(t.value)),s=T(()=>{if(e.locale instanceof Cr)return e.locale;const p=it(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new Cr(p,e.timezone)}),o=T(()=>s.value.masks),i=T(()=>e.minDate),l=T(()=>e.maxDate),u=T(()=>{const p=e.disabledDates?[...e.disabledDates]:[];return i.value!=null&&p.push({start:null,end:Me(s.value.toDate(i.value),-1)}),l.value!=null&&p.push({start:Me(s.value.toDate(l.value),1),end:null}),s.value.ranges(p)}),c=T(()=>new ml({key:"disabled",dates:u.value,order:100},a.value,s.value)),v={color:t,isDark:n,displayMode:r,theme:a,locale:s,masks:o,minDate:i,maxDate:l,disabledDates:u,disabledAttribute:c};return jn(wl,v),v}function QD(e){return Hn(wl,()=>Dl(e),!0)}function kl(e){return`__vc_slot_${e}__`}function Cl(e,t={}){Object.keys(e).forEach(n=>{jn(kl(t[n]??n),e[n])})}function Ml(e){return Hn(kl(e),null)}const ek={...$l,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Ct("titlePosition")},navVisibility:{type:String,default:()=>Ct("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},tk=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],xl=Symbol("__vc_calendar_context__");function nk(e,{slots:t,emit:n}){const r=W(null),a=W(null),s=W(new Date().getDate()),o=W(!1),i=W(Symbol()),l=W(Symbol()),u=W(e.view),c=W([]),v=W("");let p=null,f=null;Cl(t);const{theme:g,color:b,displayMode:_,locale:m,masks:C,minDate:x,maxDate:D,disabledAttribute:O,disabledDates:I}=QD(e),N=T(()=>e.rows*e.columns),$=T(()=>e.step||N.value),S=T(()=>Gi(c.value)??null),L=T(()=>Qt(c.value)??null),F=T(()=>e.minPage||(x.value?q(x.value):null)),R=T(()=>e.maxPage||(D.value?q(D.value):null)),j=T(()=>e.navVisibility),te=T(()=>!!e.showWeeknumbers),V=T(()=>!!e.showIsoWeeknumbers),ee=T(()=>u.value==="monthly"),se=T(()=>u.value==="weekly"),ge=T(()=>u.value==="daily"),le=()=>{o.value=!0,n("transition-start")},Y=()=>{o.value=!1,n("transition-end"),p&&(p.resolve(!0),p=null)},Q=(A,h,P=u.value)=>nl(A,h,P,m.value),q=A=>tl(A,u.value,m.value),de=A=>{!O.value||!Oe.value||(A.isDisabled=Oe.value.cellExists(O.value.key,A.dayIndex))},ne=A=>{A.isFocusable=A.inMonth&&A.day===s.value},fe=(A,h)=>{for(const P of A)for(const B of P.days)if(h(B)===!1)return},be=T(()=>c.value.reduce((A,h)=>(A.push(...h.viewDays),A),[])),ve=T(()=>{const A=[];return(e.attributes||[]).forEach((h,P)=>{!h||!h.dates||A.push(new ml({...h,order:h.order||0},g.value,m.value))}),O.value&&A.push(O.value),A}),_e=T(()=>at(ve.value)),Oe=T(()=>{const A=new L2;return ve.value.forEach(h=>{h.ranges.forEach(P=>{A.render(h,P,be.value)})}),A}),nt=T(()=>be.value.reduce((A,h)=>(A[h.dayIndex]={day:h,cells:[]},A[h.dayIndex].cells.push(...Oe.value.getCells(h)),A),{})),qe=(A,h)=>{const P=e.showWeeknumbers||e.showIsoWeeknumbers;return P==null?"":i_(P)?P?"left":"":P.startsWith("right")?h>1?"right":P:A>1?"left":P},Ye=()=>{var A,h;if(!_e.value)return null;const P=ve.value.find(ue=>ue.pinPage)||ve.value[0];if(!P||!P.hasRanges)return null;const[B]=P.ranges,G=((A=B.start)==null?void 0:A.date)||((h=B.end)==null?void 0:h.date);return G?q(G):null},Ne=()=>{if(Ze(S.value))return S.value;const A=Ye();return Ze(A)?A:q(new Date)},dt=(A,h={})=>{const{view:P=u.value,position:B=1,force:G}=h,ue=B>0?1-B:-(N.value+B);let Ce=Q(A,ue,P),Ee=Q(Ce,N.value-1,P);return G||(_a(Ce,F.value)?Ce=F.value:kr(Ee,R.value)&&(Ce=Q(R.value,1-N.value)),Ee=Q(Ce,N.value-1)),{fromPage:Ce,toPage:Ee}},Wt=(A,h,P="")=>{if(P==="none"||P==="fade")return P;if((A==null?void 0:A.view)!==(h==null?void 0:h.view))return"fade";const B=kr(h,A),G=_a(h,A);return!B&&!G?"fade":P==="slide-v"?G?"slide-down":"slide-up":G?"slide-right":"slide-left"},Ke=(A={})=>new Promise((h,P)=>{const{position:B=1,force:G=!1,transition:ue}=A,Ce=Ze(A.page)?A.page:Ne(),{fromPage:Ee}=dt(Ce,{position:B,force:G}),Gt=[];for(let Zt=0;Zt<N.value;Zt++){const qr=Q(Ee,Zt),Te=Zt+1,Vr=Math.ceil(Te/e.columns),Xn=e.rows-Vr+1,$n=Te%e.columns||e.columns,Dn=e.columns-$n+1,Il=qe($n,Dn);Gt.push(m.value.getPage({...qr,view:u.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:Te,row:Vr,rowFromEnd:Xn,column:$n,columnFromEnd:Dn,showWeeknumbers:te.value,showIsoWeeknumbers:V.value,weeknumberPosition:Il}))}v.value=Wt(c.value[0],Gt[0],ue),c.value=Gt,v.value&&v.value!=="none"?p={resolve:h,reject:P}:h(!0)}),St=A=>{const h=S.value??q(new Date);return Q(h,A)},Pt=(A,h={})=>{const P=Ze(A)?A:q(A);return Object.assign(h,dt(P,{...h,force:!0})),I2(h.fromPage,h.toPage,u.value,m.value).map(G=>E2(G,F.value,R.value)).some(G=>G)},Ot=(A,h={})=>Pt(St(A),h),Ve=T(()=>Ot(-$.value)),ft=T(()=>Ot($.value)),vt=async(A,h={})=>!h.force&&!Pt(A,h)?!1:(h.fromPage&&!A2(h.fromPage,S.value)&&(Fn({id:i.value,hideDelay:0}),h.view&&(jD("view",10),u.value=h.view),await Ke({...h,page:h.fromPage,position:1,force:!0}),n("did-move",c.value)),!0),pt=(A,h={})=>vt(St(A),h),ht=()=>pt(-$.value),mt=()=>pt($.value),gt=A=>{const h=ee.value?".in-month":"",P=`.id-${m.value.getDayId(A)}${h}`,B=`${P}.vc-focusable, ${P} .vc-focusable`,G=r.value;if(G){const ue=G.querySelector(B);if(ue)return ue.focus(),!0}return!1},Et=async(A,h={})=>gt(A)?!0:(await vt(A,h),gt(A)),Kt=(A,h)=>{s.value=A.day,n("dayclick",A,h)},Fr=(A,h)=>{n("daymouseenter",A,h)},wn=(A,h)=>{n("daymouseleave",A,h)},jr=(A,h)=>{s.value=A.day,a.value=A,A.isFocused=!0,n("dayfocusin",A,h)},Kn=(A,h)=>{a.value=null,A.isFocused=!1,n("dayfocusout",A,h)},Gn=(A,h)=>{n("daykeydown",A,h);const P=A.noonDate;let B=null;switch(h.key){case"ArrowLeft":{B=Me(P,-1);break}case"ArrowRight":{B=Me(P,1);break}case"ArrowUp":{B=Me(P,-7);break}case"ArrowDown":{B=Me(P,7);break}case"Home":{B=Me(P,-A.weekdayPosition+1);break}case"End":{B=Me(P,A.weekdayPositionFromEnd);break}case"PageUp":{h.altKey?B=ko(P,-1):B=Dr(P,-1);break}case"PageDown":{h.altKey?B=ko(P,1):B=Dr(P,1);break}}B&&(h.preventDefault(),Et(B).catch())},Hr=A=>{const h=a.value;h!=null&&Gn(h,A)},Zn=(A,h)=>{n("weeknumberclick",A,h)};Ke({page:e.initialPage,position:e.initialPagePosition}),qt(()=>{!e.disablePageSwipe&&r.value&&(f=FD(r.value,({toLeft:A=!1,toRight:h=!1})=>{A?mt():h&&ht()},Ct("touch")))}),xr(()=>{c.value=[],f&&f()}),pe(()=>m.value,()=>{Ke()}),pe(()=>N.value,()=>Ke()),pe(()=>e.view,()=>u.value=e.view),pe(()=>u.value,()=>{HD("view",()=>{Ke()}),n("update:view",u.value)}),pe(()=>s.value,()=>{fe(c.value,A=>ne(A))}),Bo(()=>{n("update:pages",c.value),fe(c.value,A=>{de(A),ne(A)})});const Jn={emit:n,containerRef:r,focusedDay:a,inTransition:o,navPopoverId:i,dayPopoverId:l,view:u,pages:c,transitionName:v,theme:g,color:b,displayMode:_,locale:m,masks:C,attributes:ve,disabledAttribute:O,disabledDates:I,attributeContext:Oe,days:be,dayCells:nt,count:N,step:$,firstPage:S,lastPage:L,canMovePrev:Ve,canMoveNext:ft,minPage:F,maxPage:R,isMonthly:ee,isWeekly:se,isDaily:ge,navVisibility:j,showWeeknumbers:te,showIsoWeeknumbers:V,getDateAddress:q,canMove:Pt,canMoveBy:Ot,move:vt,moveBy:pt,movePrev:ht,moveNext:mt,onTransitionBeforeEnter:le,onTransitionAfterEnter:Y,tryFocusDate:gt,focusDate:Et,onKeydown:Hr,onDayKeydown:Gn,onDayClick:Kt,onDayMouseenter:Fr,onDayMouseleave:wn,onDayFocusin:jr,onDayFocusout:Kn,onWeeknumberClick:Zn};return jn(xl,Jn),Jn}function Ut(){const e=Hn(xl);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const rk=$e({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const r=W();let a=null,s=null;const o=Ca({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function i(Y){Y&&(o.direction=Y.split("-")[0])}function l({placement:Y,options:Q}){i(Y||(Q==null?void 0:Q.placement))}const u=T(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),c=T(()=>{const Y=o.direction==="left"||o.direction==="right";let Q="";if(o.placement){const q=o.placement.split("-");q.length>1&&(Q=q[1])}return["start","top","left"].includes(Q)?Y?"top":"left":["end","bottom","right"].includes(Q)?Y?"bottom":"right":Y?"middle":"center"});function v(){s&&(s.destroy(),s=null)}function p(){Yt(()=>{const Y=br(o.target);!Y||!r.value||(s&&s.state.elements.reference!==Y&&v(),s?s.update():s=Zf(Y,r.value,u.value))})}function f(Y){Object.assign(o,Ji(Y,"force"))}function g(Y,Q){clearTimeout(n),Y>0?n=setTimeout(Q,Y):Q()}function b(Y){return!Y||!s?!1:br(Y)===s.state.elements.reference}async function _(Y={}){o.force||(Y.force&&(o.force=!0),g(Y.showDelay??e.showDelay,()=>{o.isVisible&&(o.force=!1),f({...Y,isVisible:!0}),p()}))}function m(Y={}){s&&(Y.target&&!b(Y.target)||o.force||(Y.force&&(o.force=!0),g(Y.hideDelay??e.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function C(Y={}){Y.target!=null&&(o.isVisible&&b(Y.target)?m(Y):_(Y))}function x(Y){if(!s)return;const Q=s.state.elements.reference;if(!r.value||!Q)return;const q=Y.target;lr(r.value,q)||lr(Q,q)||m({force:!0})}function D(Y){(Y.key==="Esc"||Y.key==="Escape")&&m()}function O({detail:Y}){!Y.id||Y.id!==e.id||_(Y)}function I({detail:Y}){!Y.id||Y.id!==e.id||m(Y)}function N({detail:Y}){!Y.id||Y.id!==e.id||C(Y)}function $(){$t(document,"keydown",D),$t(document,"click",x),$t(document,"show-popover",O),$t(document,"hide-popover",I),$t(document,"toggle-popover",N)}function S(){wt(document,"keydown",D),wt(document,"click",x),wt(document,"show-popover",O),wt(document,"hide-popover",I),wt(document,"toggle-popover",N)}function L(Y){t("before-show",Y)}function F(Y){o.force=!1,t("after-show",Y)}function R(Y){t("before-hide",Y)}function j(Y){o.force=!1,v(),t("after-hide",Y)}function te(Y){Y.stopPropagation()}function V(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&_()}function ee(){if(o.isHovered=!1,!s)return;const Y=s.state.elements.reference;o.autoHide&&!o.isFocused&&(!Y||Y!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&m()}function se(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&_()}function ge(Y){["focus","hover-focus"].includes(o.visibility)&&(!Y.relatedTarget||!lr(r.value,Y.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&m())}function le(){a!=null&&(a.disconnect(),a=null)}return pe(()=>r.value,Y=>{le(),Y&&(a=new ResizeObserver(()=>{s&&s.update()}),a.observe(Y))}),pe(()=>o.placement,i,{immediate:!0}),qt(()=>{$()}),xr(()=>{v(),le(),S()}),{...ou(o),popoverRef:r,alignment:c,hide:m,setupPopper:p,beforeEnter:L,afterEnter:F,beforeLeave:R,afterLeave:j,onClick:te,onMouseOver:V,onMouseLeave:ee,onFocusIn:se,onFocusOut:ge}}}),Tt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};function ak(e,t,n,r,a,s){return w(),E("div",{class:J(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o)),onMouseover:t[1]||(t[1]=(...o)=>e.onMouseOver&&e.onMouseOver(...o)),onMouseleave:t[2]||(t[2]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o)),onFocusin:t[3]||(t[3]=(...o)=>e.onFocusIn&&e.onFocusIn(...o)),onFocusout:t[4]||(t[4]=(...o)=>e.onFocusOut&&e.onFocusOut(...o))},[k(Lo,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:M(()=>[e.isVisible?(w(),E("div",me({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[ae(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},()=>[U(Z(e.data),1)]),y("span",{class:J(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):X("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const us=Tt(rk,[["render",ak]]),sk={class:"vc-day-popover-row"},ok={key:0,class:"vc-day-popover-row-indicator"},ik={class:"vc-day-popover-row-label"},lk=$e({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,n=T(()=>{const{content:r,highlight:a,dot:s,bar:o,popover:i}=t.attribute;return i&&i.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:a?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${a.base.color}`}:s?{class:`vc-dot vc-attr vc-${s.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,a)=>(w(),E("div",sk,[d(n)?(w(),E("div",ok,[y("span",{class:J(d(n).class)},null,2)])):X("",!0),y("div",ik,[ae(r.$slots,"default",{},()=>[U(Z(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)])])]))}}),uk={inheritAttrs:!1},Be=$e({...uk,__name:"CalendarSlot",props:{name:null},setup(e){const n=Ml(e.name);return(r,a)=>d(n)?(w(),K(No(d(n)),st(me({key:0},r.$attrs)),null,16)):ae(r.$slots,"default",{key:1})}}),ck={class:"vc-day-popover-container"},dk={key:0,class:"vc-day-popover-header"},fk=$e({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:r,masks:a,locale:s}=Ut();function o(l,u){return s.value.formatDate(l,u)}function i(l){return s.value.formatDate(l.date,a.value.dayPopover)}return(l,u)=>(w(),K(us,{id:d(t),class:J([`vc-${d(r)}`,`vc-${d(n)}`])},{default:M(({data:{day:c,attributes:v},hide:p})=>[k(Be,{name:"day-popover",day:c,"day-title":i(c),attributes:v,format:o,masks:d(a),hide:p},{default:M(()=>[y("div",ck,[d(a).dayPopover?(w(),E("div",dk,Z(i(c)),1)):X("",!0),(w(!0),E(ce,null,we(v,f=>(w(),K(lk,{key:f.key,attribute:f},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),vk={},pk={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},hk=y("polyline",{points:"9 18 15 12 9 6"},null,-1),mk=[hk];function gk(e,t){return w(),E("svg",pk,mk)}const yk=Tt(vk,[["render",gk]]),bk={},_k={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},wk=y("polyline",{points:"15 18 9 12 15 6"},null,-1),$k=[wk];function Dk(e,t){return w(),E("svg",_k,$k)}const kk=Tt(bk,[["render",Dk]]),Ck={},Mk={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},xk=y("polyline",{points:"6 9 12 15 18 9"},null,-1),Tk=[xk];function Sk(e,t){return w(),E("svg",Mk,Tk)}const Pk=Tt(Ck,[["render",Sk]]),Ok={},Ek={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},Ak=y("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ik=[Ak];function Yk(e,t){return w(),E("svg",Ek,Ik)}const Nk=Tt(Ok,[["render",Yk]]),Lk=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:Pk,IconChevronLeft:kk,IconChevronRight:yk,IconClock:Nk},Symbol.toStringTag,{value:"Module"})),fn=$e({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=T(()=>t.width||t.size),r=T(()=>t.height||t.size),a=T(()=>Lk[`Icon${t.name}`]);return(s,o)=>(w(),K(No(d(a)),{width:d(n),height:d(r),class:"vc-base-icon"},null,8,["width","height"]))}}),Bk=["disabled"],Rk={key:1,class:"vc-title-wrapper"},Fk={type:"button",class:"vc-title"},jk=["disabled"],Tl=$e({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:n,navVisibility:r,canMovePrev:a,movePrev:s,canMoveNext:o,moveNext:i}=Ut(),l=T(()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=T(()=>{const{page:b}=t;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:b},isInteractive:!0}}),c=T(()=>t.page.titlePosition.includes("left")),v=T(()=>t.page.titlePosition.includes("right")),p=T(()=>t.layout?t.layout:c.value?"tu-pn":v.value?"pn-tu":"p-tu-n;"),f=T(()=>({prev:p.value.includes("p")&&!t.hideArrows,title:p.value.includes("t")&&!t.hideTitle,next:p.value.includes("n")&&!t.hideArrows})),g=T(()=>({gridTemplateColumns:p.value.split("").map(_=>{switch(_){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(b,_)=>(w(),E("div",{class:J(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:kt(d(g))},[d(f).prev?(w(),E("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!d(a),onClick:_[0]||(_[0]=(...m)=>d(s)&&d(s)(...m)),onKeydown:_[1]||(_[1]=sa((...m)=>d(s)&&d(s)(...m),["space","enter"]))},[k(Be,{name:"header-prev-button",disabled:!d(a)},{default:M(()=>[k(fn,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,Bk)):X("",!0),d(f).title?(w(),E("div",Rk,[k(Be,{name:"header-title-wrapper"},{default:M(()=>[ka((w(),E("button",Fk,[k(Be,{name:"header-title",title:e.page.title},{default:M(()=>[y("span",null,Z(e.page.title),1)]),_:1},8,["title"])])),[[d(bl),d(u)]])]),_:1})])):X("",!0),d(f).next?(w(),E("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!d(o),onClick:_[2]||(_[2]=(...m)=>d(i)&&d(i)(...m)),onKeydown:_[3]||(_[3]=sa((...m)=>d(i)&&d(i)(...m),["space","enter"]))},[k(Be,{name:"header-next-button",disabled:!d(o)},{default:M(()=>[k(fn,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,jk)):X("",!0)],6))}}),Sl=Symbol("__vc_page_context__");function Hk(e){const{locale:t,getDateAddress:n,canMove:r}=Ut();function a(i,l){const{month:u,year:c}=n(new Date);return hl().map((v,p)=>{const f=p+1;return{month:f,year:i,id:O2(f,i),label:t.value.formatDate(v,l),ariaLabel:t.value.formatDate(v,"MMMM"),isActive:f===e.value.month&&i===e.value.year,isCurrent:f===u&&i===c,isDisabled:!r({month:f,year:i},{position:e.value.position})}})}function s(i,l){const{year:u}=n(new Date),{position:c}=e.value,v=[];for(let p=i;p<=l;p+=1){const f=[...Array(12).keys()].some(g=>r({month:g+1,year:p},{position:c}));v.push({year:p,id:p.toString(),label:p.toString(),ariaLabel:p.toString(),isActive:p===e.value.year,isCurrent:p===u,isDisabled:!f})}return v}const o={page:e,getMonthItems:a,getYearItems:s};return jn(Sl,o),o}function Pl(){const e=Hn(Sl);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const qk={class:"vc-nav-header"},Vk=["disabled"],zk=["disabled"],Uk={class:"vc-nav-items"},Wk=["data-id","aria-label","disabled","onClick","onKeydown"],Kk=$e({__name:"CalendarNav",setup(e){const{masks:t,move:n}=Ut(),{page:r,getMonthItems:a,getYearItems:s}=Pl(),o=W(!0),i=12,l=W(r.value.year),u=W(p(r.value.year)),c=W(null);function v(){setTimeout(()=>{if(c.value==null)return;const q=c.value.querySelector(".vc-nav-item:not(:disabled)");q&&q.focus()},10)}function p(q){return Math.floor(q/i)}function f(){o.value=!o.value}function g(q){return q*i}function b(q){return i*(q+1)-1}function _(){se.value&&(o.value&&C(),D())}function m(){ge.value&&(o.value&&x(),O())}function C(){l.value--}function x(){l.value++}function D(){u.value--}function O(){u.value++}const I=T(()=>a(l.value,t.value.navMonths).map(q=>({...q,click:()=>n({month:q.month,year:q.year},{position:r.value.position})}))),N=T(()=>a(l.value-1,t.value.navMonths)),$=T(()=>N.value.some(q=>!q.isDisabled)),S=T(()=>a(l.value+1,t.value.navMonths)),L=T(()=>S.value.some(q=>!q.isDisabled)),F=T(()=>s(g(u.value),b(u.value)).map(q=>({...q,click:()=>{l.value=q.year,o.value=!0,v()}}))),R=T(()=>s(g(u.value-1),b(u.value-1))),j=T(()=>R.value.some(q=>!q.isDisabled)),te=T(()=>s(g(u.value+1),b(u.value+1))),V=T(()=>te.value.some(q=>!q.isDisabled)),ee=T(()=>o.value?I.value:F.value),se=T(()=>o.value?$.value:j.value),ge=T(()=>o.value?L.value:V.value),le=T(()=>Gi(F.value.map(q=>q.year))),Y=T(()=>Qt(F.value.map(q=>q.year))),Q=T(()=>o.value?l.value:`${le.value} - ${Y.value}`);return Bo(()=>{l.value=r.value.year,v()}),pe(()=>l.value,q=>u.value=p(q)),qt(()=>v()),(q,de)=>(w(),E("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[y("div",qk,[y("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!d(se),onClick:_,onKeydown:de[0]||(de[0]=ne=>d(ar)(ne,_))},[k(Be,{name:"nav-prev-button",move:_,disabled:!d(se)},{default:M(()=>[k(fn,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,Vk),y("button",{type:"button",class:"vc-nav-title vc-focus",onClick:f,onKeydown:de[1]||(de[1]=ne=>d(ar)(ne,f))},Z(d(Q)),33),y("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!d(ge),onClick:m,onKeydown:de[2]||(de[2]=ne=>d(ar)(ne,m))},[k(Be,{name:"nav-next-button",move:m,disabled:!d(ge)},{default:M(()=>[k(fn,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,zk)]),y("div",Uk,[(w(!0),E(ce,null,we(d(ee),ne=>(w(),E("button",{key:ne.label,type:"button","data-id":ne.id,"aria-label":ne.ariaLabel,class:J(["vc-nav-item vc-focus",[ne.isActive?"is-active":ne.isCurrent?"is-current":""]]),disabled:ne.isDisabled,onClick:ne.click,onKeydown:fe=>d(ar)(fe,ne.click)},Z(ne.label),43,Wk))),128))])],512))}}),Ol=$e({__name:"CalendarPageProvider",props:{page:null},setup(e){return Hk(sr(e,"page")),(n,r)=>ae(n.$slots,"default")}}),Gk=$e({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:r}=Ut();return(a,s)=>(w(),K(us,{id:d(t),class:J(["vc-nav-popover-container",`vc-${d(n)}`,`vc-${d(r)}`])},{default:M(({data:o})=>[k(Ol,{page:o.page},{default:M(()=>[k(Be,{name:"nav"},{default:M(()=>[k(Kk)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),Zk=$e({directives:{popover:bl},components:{CalendarSlot:Be},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:r,dayPopoverId:a,onDayClick:s,onDayMouseenter:o,onDayMouseleave:i,onDayFocusin:l,onDayFocusout:u,onDayKeydown:c}=Ut(),v=T(()=>e.day),p=T(()=>r.value.getCells(v.value)),f=T(()=>p.value.map(V=>V.data)),g=T(()=>({...v.value,attributes:f.value,attributeCells:p.value}));function b({data:V},{popovers:ee}){const{key:se,customData:ge,popover:le}=V;if(!le)return;const Y=so({key:se,customData:ge,attribute:V},{...le},{visibility:le.label?"hover":"click",placement:"bottom",isInteractive:!le.label});ee.splice(0,0,Y)}const _=T(()=>{const V={...n.value.prepareRender({}),popovers:[]};return p.value.forEach(ee=>{n.value.render(ee,V),b(ee,V)}),V}),m=T(()=>_.value.highlights),C=T(()=>!!at(m.value)),x=T(()=>_.value.content),D=T(()=>_.value.dots),O=T(()=>!!at(D.value)),I=T(()=>_.value.bars),N=T(()=>!!at(I.value)),$=T(()=>_.value.popovers),S=T(()=>$.value.map(V=>V.attribute)),L=Ml("day-content"),F=T(()=>["vc-day",...v.value.classes,{"vc-day-box-center-center":!L},{"is-not-in-month":!e.day.inMonth}]),R=T(()=>{let V;v.value.isFocusable?V="0":V="-1";const ee=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":v.value.isDisabled},Lt(Qt(m.value),"contentClass"),Lt(Qt(x.value),"class")||""],se={...Lt(Qt(m.value),"contentStyle"),...Lt(Qt(x.value),"style")};return{class:ee,style:se,tabindex:V,"aria-label":v.value.ariaLabel,"aria-disabled":!!v.value.isDisabled,role:"button"}}),j=T(()=>({click(V){s(g.value,V)},mouseenter(V){o(g.value,V)},mouseleave(V){i(g.value,V)},focusin(V){l(g.value,V)},focusout(V){u(g.value,V)},keydown(V){c(g.value,V)}})),te=T(()=>at($.value)?so({id:a.value,data:{day:v,attributes:S.value}},...$.value):null);return{attributes:f,attributeCells:p,bars:I,dayClasses:F,dayContentProps:R,dayContentEvents:j,dayPopover:te,glyphs:_,dots:D,hasDots:O,hasBars:N,highlights:m,hasHighlights:C,locale:t,popovers:$}}}),Jk={key:0,class:"vc-highlights vc-day-layer"},Xk={key:1,class:"vc-day-layer vc-day-box-center-bottom"},Qk={class:"vc-dots"},eC={key:2,class:"vc-day-layer vc-day-box-center-bottom"},tC={class:"vc-bars"};function nC(e,t,n,r,a,s){const o=rt("CalendarSlot"),i=iu("popover");return w(),E("div",{class:J(e.dayClasses)},[e.hasHighlights?(w(),E("div",Jk,[(w(!0),E(ce,null,we(e.highlights,({key:l,wrapperClass:u,class:c,style:v})=>(w(),E("div",{key:l,class:J(u)},[y("div",{class:J(c),style:kt(v)},null,6)],2))),128))])):X("",!0),k(o,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:M(()=>[ka((w(),E("div",me(e.dayContentProps,lu(e.dayContentEvents,!0)),[U(Z(e.day.label),1)],16)),[[i,e.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?(w(),E("div",Xk,[y("div",Qk,[(w(!0),E(ce,null,we(e.dots,({key:l,class:u,style:c})=>(w(),E("span",{key:l,class:J(u),style:kt(c)},null,6))),128))])])):X("",!0),e.hasBars?(w(),E("div",eC,[y("div",tC,[(w(!0),E(ce,null,we(e.bars,({key:l,class:u,style:c})=>(w(),E("span",{key:l,class:J(u),style:kt(c)},null,6))),128))])])):X("",!0)],2)}const rC=Tt(Zk,[["render",nC]]),aC={class:"vc-weekdays"},sC=["onClick"],oC={inheritAttrs:!1},iC=$e({...oC,__name:"CalendarPage",setup(e){const{page:t}=Pl(),{onWeeknumberClick:n}=Ut();return(r,a)=>(w(),E("div",{class:J(["vc-pane",`row-${d(t).row}`,`row-from-end-${d(t).rowFromEnd}`,`column-${d(t).column}`,`column-from-end-${d(t).columnFromEnd}`]),ref:"pane"},[k(Tl,{page:d(t),"is-lg":"","hide-arrows":""},null,8,["page"]),y("div",{class:J(["vc-weeks",{[`vc-show-weeknumbers-${d(t).weeknumberPosition}`]:d(t).weeknumberPosition}])},[y("div",aC,[(w(!0),E(ce,null,we(d(t).weekdays,({weekday:s,label:o},i)=>(w(),E("div",{key:i,class:J(`vc-weekday vc-weekday-${s}`)},Z(o),3))),128))]),(w(!0),E(ce,null,we(d(t).viewWeeks,s=>(w(),E("div",{key:`weeknumber-${s.weeknumber}`,class:"vc-week"},[d(t).weeknumberPosition?(w(),E("div",{key:0,class:J(["vc-weeknumber",`is-${d(t).weeknumberPosition}`])},[y("span",{class:J(["vc-weeknumber-content"]),onClick:o=>d(n)(s,o)},Z(s.weeknumberDisplay),9,sC)],2)):X("",!0),(w(!0),E(ce,null,we(s.days,o=>(w(),K(rC,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),lC=$e({components:{CalendarHeader:Tl,CalendarPage:iC,CalendarNavPopover:Gk,CalendarDayPopover:fk,CalendarPageProvider:Ol,CalendarSlot:Be},props:ek,emit:tk,setup(e,{emit:t,slots:n}){return nk(e,{emit:t,slots:n})}}),uC={class:"vc-pane-header-wrapper"};function cC(e,t,n,r,a,s){const o=rt("CalendarHeader"),i=rt("CalendarPage"),l=rt("CalendarSlot"),u=rt("CalendarPageProvider"),c=rt("CalendarDayPopover"),v=rt("CalendarNavPopover");return w(),E(ce,null,[y("div",me({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=fr(()=>{},["prevent"])),ref:"containerRef"}),[y("div",{class:J(["vc-pane-container",{"in-transition":e.inTransition}])},[y("div",uC,[e.firstPage?(w(),K(o,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):X("",!0)]),k(Lo,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:M(()=>[(w(),E("div",{key:e.pages[0].id,class:"vc-pane-layout",style:kt({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(w(!0),E(ce,null,we(e.pages,p=>(w(),K(u,{key:p.id,page:p},{default:M(()=>[k(l,{name:"page",page:p},{default:M(()=>[k(i)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),k(l,{name:"footer"})],2)],16),k(c),k(v)],64)}const dC=Tt(lC,[["render",cC]]),El=Symbol("__vc_date_picker_context__"),fC={...$l,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Ct("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Ct("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},vC=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function pC(e,{emit:t,slots:n}){Cl(n,{footer:"dp-footer"});const r=Dl(e),{locale:a,masks:s,disabledAttribute:o}=r,i=W(!1),l=W(Symbol()),u=W(null),c=W(null),v=W(["",""]),p=W(null),f=W(null);let g,b,_=!0;const m=T(()=>e.isRange||e.modelModifiers.range===!0),C=T(()=>m.value&&u.value!=null?u.value.start:null),x=T(()=>m.value&&u.value!=null?u.value.end:null),D=T(()=>e.mode.toLowerCase()==="date"),O=T(()=>e.mode.toLowerCase()==="datetime"),I=T(()=>e.mode.toLowerCase()==="time"),N=T(()=>!!c.value),$=T(()=>{let h="date";e.modelModifiers.number&&(h="number"),e.modelModifiers.string&&(h="string");const P=s.value.modelValue||"iso";return de({type:h,mask:P})}),S=T(()=>Ot(c.value??u.value)),L=T(()=>I.value?e.is24hr?s.value.inputTime24hr:s.value.inputTime:O.value?e.is24hr?s.value.inputDateTime24hr:s.value.inputDateTime:s.value.input),F=T(()=>/[Hh]/g.test(L.value)),R=T(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(L.value)),j=T(()=>{if(F.value&&R.value)return"dateTime";if(R.value)return"date";if(F.value)return"time"}),te=T(()=>{var h;const P=((h=p.value)==null?void 0:h.$el.previousElementSibling)??void 0;return Rn({},e.popover,Ct("datePicker.popover"),{target:P})}),V=T(()=>yl({...te.value,id:l.value})),ee=T(()=>m.value?{start:v.value[0],end:v.value[1]}:v.value[0]),se=T(()=>{const h=["start","end"].map(P=>({input:Ke(P),change:St(P),keyup:Pt,...e.popover&&V.value}));return m.value?{start:h[0],end:h[1]}:h[0]}),ge=T(()=>{if(!ve(u.value))return null;const h={key:"select-drag",...e.selectAttribute,dates:u.value,pinPage:!0},{dot:P,bar:B,highlight:G,content:ue}=h;return!P&&!B&&!G&&!ue&&(h.highlight=!0),h}),le=T(()=>{if(!m.value||!ve(c.value))return null;const h={key:"select-drag",...e.dragAttribute,dates:c.value},{dot:P,bar:B,highlight:G,content:ue}=h;return!P&&!B&&!G&&!ue&&(h.highlight={startEnd:{fillMode:"outline"}}),h}),Y=T(()=>{const h=Fe(e.attributes)?[...e.attributes]:[];return le.value?h.unshift(le.value):ge.value&&h.unshift(ge.value),h}),Q=T(()=>de(e.rules==="auto"?q():e.rules??{}));function q(){const h={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},P=D.value?0:e.timeAccuracy;return[0,1].map(B=>{switch(P){case 0:return{hours:h.hr[B],minutes:h.min[B],seconds:h.sec[B],milliseconds:h.ms[B]};case 1:return{minutes:h.min[B],seconds:h.sec[B],milliseconds:h.ms[B]};case 3:return{milliseconds:h.ms[B]};case 4:return{};default:return{seconds:h.sec[B],milliseconds:h.ms[B]}}})}function de(h){return Fe(h)?h.length===1?[h[0],h[0]]:h:[h,h]}function ne(h){return de(h).map((P,B)=>({...P,rules:Q.value[B]}))}function fe(h){return h==null?!1:ze(h)?!isNaN(h):en(h)?!isNaN(h.getTime()):Ge(h)?h!=="":ss(h)}function be(h){return it(h)&&"start"in h&&"end"in h&&fe(h.start??null)&&fe(h.end??null)}function ve(h){return be(h)||fe(h)}function _e(h,P){if(h==null&&P==null)return!0;if(h==null||P==null)return!1;const B=en(h),G=en(P);return B&&G?h.getTime()===P.getTime():B||G?!1:_e(h.start,P.start)&&_e(h.end,P.end)}function Oe(h){return!ve(h)||!o.value?!1:o.value.intersectsRange(a.value.range(h))}function nt(h,P,B,G){if(!ve(h))return null;if(be(h)){const ue=a.value.toDate(h.start,{...P[0],fillDate:C.value??void 0,patch:B}),Ce=a.value.toDate(h.end,{...P[1],fillDate:x.value??void 0,patch:B});return Kn({start:ue,end:Ce},G)}return a.value.toDateOrNull(h,{...P[0],fillDate:u.value,patch:B})}function qe(h,P){return be(h)?{start:a.value.fromDate(h.start,P[0]),end:a.value.fromDate(h.end,P[1])}:m.value?null:a.value.fromDate(h,P[0])}function Ye(h,P={}){return clearTimeout(g),new Promise(B=>{const{debounce:G=0,...ue}=P;G>0?g=window.setTimeout(()=>{B(Ne(h,ue))},G):B(Ne(h,ue))})}function Ne(h,{config:P=$.value,patch:B="dateTime",clearIfEqual:G=!1,formatInput:ue=!0,hidePopover:Ce=!1,dragging:Ee=N.value,targetPriority:Gt,moveToValue:Zt=!1}={}){const qr=ne(P);let Te=nt(h,qr,B,Gt);if(Oe(Te)){if(Ee)return null;Te=u.value,Ce=!1}else Te==null&&e.isRequired?Te=u.value:Te!=null&&_e(u.value,Te)&&G&&(Te=null);const Xn=Ee?c:u,$n=!_e(Xn.value,Te);Xn.value=Te,Ee||(c.value=null);const Dn=qe(Te,$.value);return $n&&(_=!1,t(Ee?"drag":"update:modelValue",Dn),Yt(()=>_=!0)),Ce&&!Ee&&wn(),ue&&dt(),Zt&&Yt(()=>Zn(Gt??"start")),Dn}function dt(){Yt(()=>{const h=ne({type:"string",mask:L.value}),P=qe(c.value??u.value,h);m.value?v.value=[P&&P.start,P&&P.end]:v.value=[P,""]})}function Wt(h,P,B){v.value.splice(P==="start"?0:1,1,h);const G=m.value?{start:v.value[0],end:v.value[1]||v.value[0]}:h,ue={type:"string",mask:L.value};Ye(G,{...B,config:ue,patch:j.value,targetPriority:P,moveToValue:!0})}function Ke(h){return P=>{e.updateOnInput&&Wt(P.currentTarget.value,h,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function St(h){return P=>{Wt(P.currentTarget.value,h,{formatInput:!0,hidePopover:!1})}}function Pt(h){h.key==="Escape"&&Ye(u.value,{formatInput:!0,hidePopover:!0})}function Ot(h){return m.value?[h&&h.start?a.value.getDateParts(h.start):null,h&&h.end?a.value.getDateParts(h.end):null]:[h?a.value.getDateParts(h):null]}function Ve(){c.value=null,dt()}function ft(h){t("popover-will-show",h)}function vt(h){t("popover-did-show",h)}function pt(h){Ve(),t("popover-will-hide",h)}function ht(h){t("popover-did-hide",h)}function mt(h){const P={patch:"date",formatInput:!0,hidePopover:!0};if(m.value){const B=!N.value;B?b={start:h.startDate,end:h.endDate}:b!=null&&(b.end=h.date),Ye(b,{...P,dragging:B})}else Ye(h.date,{...P,clearIfEqual:!e.isRequired})}function gt(h,P){mt(h),t("dayclick",h,P)}function Et(h,P){switch(P.key){case" ":case"Enter":{mt(h),P.preventDefault();break}case"Escape":wn()}t("daykeydown",h,P)}function Kt(h,P){!N.value||b==null||(b.end=h.date,Ye(Kn(b),{patch:"date",formatInput:!0}))}function Fr(h={}){Da({...te.value,...h,isInteractive:!0,id:l.value})}function wn(h={}){Fn({hideDelay:10,force:!0,...te.value,...h,id:l.value})}function jr(h){gl({...te.value,...h,isInteractive:!0,id:l.value})}function Kn(h,P){const{start:B,end:G}=h;if(B>G)switch(P){case"start":return{start:B,end:B};case"end":return{start:G,end:G};default:return{start:G,end:B}}return{start:B,end:G}}async function Gn(h,P={}){return f.value==null?!1:f.value.move(h,P)}async function Hr(h,P={}){return f.value==null?!1:f.value.moveBy(h,P)}async function Zn(h,P={}){const B=u.value;if(f.value==null||!ve(B))return!1;const G=h!=="end",ue=G?1:-1,Ce=be(B)?G?B.start:B.end:B,Ee=tl(Ce,"monthly",a.value);return f.value.move(Ee,{position:ue,...P})}pe(()=>e.isRange,h=>{h&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),pe(()=>m.value,()=>{Ne(null,{formatInput:!0})}),pe(()=>L.value,()=>dt()),pe(()=>e.modelValue,h=>{_&&Ne(h,{formatInput:!0,hidePopover:!1})}),pe(()=>Q.value,()=>{it(e.rules)&&Ne(e.modelValue,{formatInput:!0,hidePopover:!1})}),pe(()=>e.timezone,()=>{Ne(u.value,{formatInput:!0})});const Jn=de($.value);u.value=nt(e.modelValue??null,Jn,"dateTime"),qt(()=>{Ne(e.modelValue,{formatInput:!0,hidePopover:!1})}),Yt(()=>i.value=!0);const A={...r,showCalendar:i,datePickerPopoverId:l,popoverRef:p,popoverEvents:V,calendarRef:f,isRange:m,isTimeMode:I,isDateTimeMode:O,is24hr:sr(e,"is24hr"),hideTimeHeader:sr(e,"hideTimeHeader"),timeAccuracy:sr(e,"timeAccuracy"),isDragging:N,inputValue:ee,inputEvents:se,dateParts:S,attributes:Y,rules:Q,move:Gn,moveBy:Hr,moveToValue:Zn,updateValue:Ye,showPopover:Fr,hidePopover:wn,togglePopover:jr,onDayClick:gt,onDayKeydown:Et,onDayMouseEnter:Kt,onPopoverBeforeShow:ft,onPopoverAfterShow:vt,onPopoverBeforeHide:pt,onPopoverAfterHide:ht};return jn(El,A),A}function cs(){const e=Hn(El);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const hC=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],mC=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function gC(e){const t=cs(),{locale:n,isRange:r,isTimeMode:a,dateParts:s,rules:o,is24hr:i,hideTimeHeader:l,timeAccuracy:u,updateValue:c}=t;function v(R){R=Object.assign(f.value,R);let j=null;if(r.value){const te=p.value?R:s.value[0],V=p.value?s.value[1]:R;j={start:te,end:V}}else j=R;c(j,{patch:"time",targetPriority:p.value?"start":"end",moveToValue:!0})}const p=T(()=>e.position===0),f=T(()=>s.value[e.position]||{isValid:!1}),g=T(()=>ss(f.value)),b=T(()=>!!f.value.isValid),_=T(()=>!l.value&&b.value),m=T(()=>{if(!g.value)return null;let R=n.value.toDate(f.value);return f.value.hours===24&&(R=new Date(R.getTime()-1)),R}),C=T({get(){return f.value.hours},set(R){v({hours:R})}}),x=T({get(){return f.value.minutes},set(R){v({minutes:R})}}),D=T({get(){return f.value.seconds},set(R){v({seconds:R})}}),O=T({get(){return f.value.milliseconds},set(R){v({milliseconds:R})}}),I=T({get(){return f.value.hours<12},set(R){R=String(R).toLowerCase()=="true";let j=C.value;R&&j>=12?j-=12:!R&&j<12&&(j+=12),v({hours:j})}}),N=T(()=>YD(f.value,o.value[e.position])),$=T(()=>hC.filter(R=>N.value.hours.some(j=>j.value===R.value))),S=T(()=>mC.filter(R=>N.value.hours.some(j=>j.value===R.value))),L=T(()=>i.value?N.value.hours:I.value?$.value:S.value),F=T(()=>{const R=[];return at($.value)&&R.push({value:!0,label:"AM"}),at(S.value)&&R.push({value:!1,label:"PM"}),R});return{...t,showHeader:_,timeAccuracy:u,parts:f,isValid:b,date:m,hours:C,minutes:x,seconds:D,milliseconds:O,options:N,hourOptions:L,isAM:I,isAMOptions:F,is24hr:i}}const yC=["value"],bC=["value","disabled"],_C={key:1,class:"vc-base-sizer","aria-hidden":"true"},wC={inheritAttrs:!1},xn=$e({...wC,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(e){const t=e,n=T(()=>{const r=t.options.find(a=>a.value===t.modelValue);return r==null?void 0:r.label});return(r,a)=>(w(),E("div",{class:J(["vc-base-select",{"vc-fit-content":e.fitContent,"vc-has-icon":e.showIcon}])},[y("select",me(r.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft}],onChange:a[0]||(a[0]=s=>r.$emit("update:modelValue",s.target.value))}),[(w(!0),E(ce,null,we(e.options,s=>(w(),E("option",{key:s.value,value:s.value,disabled:s.disabled},Z(s.label),9,bC))),128))],16,yC),e.showIcon?(w(),K(fn,{key:0,name:"ChevronDown",size:"18"})):X("",!0),e.fitContent?(w(),E("div",_C,Z(d(n)),1)):X("",!0)],2))}}),$C={key:0,class:"vc-time-header"},DC={class:"vc-time-weekday"},kC={class:"vc-time-month"},CC={class:"vc-time-day"},MC={class:"vc-time-year"},xC={class:"vc-time-select-group"},TC=y("span",{class:"vc-time-colon"},":",-1),SC=y("span",{class:"vc-time-colon"},":",-1),PC=y("span",{class:"vc-time-decimal"},".",-1),Yo=$e({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const r=gC(e);t(r);const{locale:a,isValid:s,date:o,hours:i,minutes:l,seconds:u,milliseconds:c,options:v,hourOptions:p,isTimeMode:f,isAM:g,isAMOptions:b,is24hr:_,showHeader:m,timeAccuracy:C}=r;return(x,D)=>(w(),E("div",{class:J(["vc-time-picker",[{"vc-invalid":!d(s),"vc-attached":!d(f)}]])},[k(Be,{name:"time-header"},{default:M(()=>[d(m)&&d(o)?(w(),E("div",$C,[y("span",DC,Z(d(a).formatDate(d(o),"WWW")),1),y("span",kC,Z(d(a).formatDate(d(o),"MMM")),1),y("span",CC,Z(d(a).formatDate(d(o),"D")),1),y("span",MC,Z(d(a).formatDate(d(o),"YYYY")),1)])):X("",!0)]),_:1}),y("div",xC,[k(fn,{name:"Clock",size:"17"}),k(xn,{modelValue:d(i),"onUpdate:modelValue":D[0]||(D[0]=O=>bt(i)?i.value=O:null),modelModifiers:{number:!0},options:d(p),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),d(C)>1?(w(),E(ce,{key:0},[TC,k(xn,{modelValue:d(l),"onUpdate:modelValue":D[1]||(D[1]=O=>bt(l)?l.value=O:null),modelModifiers:{number:!0},options:d(v).minutes,class:"vc-time-select-minutes","align-left":d(C)===2},null,8,["modelValue","options","align-left"])],64)):X("",!0),d(C)>2?(w(),E(ce,{key:1},[SC,k(xn,{modelValue:d(u),"onUpdate:modelValue":D[2]||(D[2]=O=>bt(u)?u.value=O:null),modelModifiers:{number:!0},options:d(v).seconds,class:"vc-time-select-seconds","align-left":d(C)===3},null,8,["modelValue","options","align-left"])],64)):X("",!0),d(C)>3?(w(),E(ce,{key:2},[PC,k(xn,{modelValue:d(c),"onUpdate:modelValue":D[3]||(D[3]=O=>bt(c)?c.value=O:null),modelModifiers:{number:!0},options:d(v).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):X("",!0),d(_)?X("",!0):(w(),K(xn,{key:3,modelValue:d(g),"onUpdate:modelValue":D[4]||(D[4]=O=>bt(g)?g.value=O:null),options:d(b)},null,8,["modelValue","options"]))])],2))}}),Al=$e({__name:"DatePickerBase",setup(e){const{attributes:t,calendarRef:n,color:r,displayMode:a,isDateTimeMode:s,isTimeMode:o,isRange:i,onDayClick:l,onDayMouseEnter:u,onDayKeydown:c}=cs(),v=i.value?[0,1]:[0];return(p,f)=>d(o)?(w(),E("div",{key:0,class:J(`vc-container vc-bordered vc-${d(r)} vc-${d(a)}`)},[(w(!0),E(ce,null,we(d(v),g=>(w(),K(Yo,{key:g,position:g},null,8,["position"]))),128))],2)):(w(),K(dC,{key:1,attributes:d(t),ref_key:"calendarRef",ref:n,onDayclick:d(l),onDaymouseenter:d(u),onDaykeydown:d(c)},{footer:M(()=>[d(s)?(w(!0),E(ce,{key:0},we(d(v),g=>(w(),K(Yo,{key:g,position:g},null,8,["position"]))),128)):X("",!0),k(Be,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),OC={inheritAttrs:!1},EC=$e({...OC,__name:"DatePickerPopover",setup(e){const{datePickerPopoverId:t,color:n,displayMode:r,popoverRef:a,onPopoverBeforeShow:s,onPopoverAfterShow:o,onPopoverBeforeHide:i,onPopoverAfterHide:l}=cs();return(u,c)=>(w(),K(us,{id:d(t),placement:"bottom-start",class:J(`vc-date-picker-content vc-${d(n)} vc-${d(r)}`),ref_key:"popoverRef",ref:a,onBeforeShow:d(s),onAfterShow:d(o),onBeforeHide:d(i),onAfterHide:d(l)},{default:M(()=>[k(Al,st(Rt(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),AC=$e({inheritAttrs:!1,emits:vC,props:fC,components:{DatePickerBase:Al,DatePickerPopover:EC},setup(e,t){const n=pC(e,t),r=Ca(Ji(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function IC(e,t,n,r,a,s){const o=rt("DatePickerPopover"),i=rt("DatePickerBase");return e.$slots.default?(w(),E(ce,{key:0},[ae(e.$slots,"default",st(Rt(e.slotCtx))),k(o,st(Rt(e.$attrs)),null,16)],64)):(w(),K(i,st(me({key:1},e.$attrs)),null,16))}const YC=Tt(AC,[["render",IC]]),NC={class:"relative"},LC={class:"absolute flex justify-between w-full px-4 top-3 z-[1]"},BC=Object.assign({inheritAttrs:!1},{__name:"Calendar",props:{modelValue:{type:[String,Number,Date,Object,null],required:!1},modelModifiers:{type:Object,required:!1},columns:{type:Number,required:!1,default:1},type:{type:String,required:!1,default:"single"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=Ro(e,"modelValue",t,{passive:!0}),s=W(),o=T(()=>s.value.calendarRef);function i(l){o.value&&(l==="prev"?o.value.movePrev():o.value.moveNext())}return qt(async()=>{await Yt(),a.value instanceof Date&&o.value&&o.value.focusDate(a.value)}),(l,u)=>(w(),E("div",NC,[y("div",LC,[y("button",{class:J(d(ye)(d(ds)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100")),onClick:u[0]||(u[0]=c=>i("prev"))},[k(d(pu),{class:"w-4 h-4"})],2),y("button",{class:J(d(ye)(d(ds)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100")),onClick:u[1]||(u[1]=c=>i("next"))},[k(d(hu),{class:"w-4 h-4"})],2)]),k(d(YC),me({ref_key:"datePicker",ref:s},l.$attrs,{modelValue:d(a),"onUpdate:modelValue":u[2]||(u[2]=c=>bt(a)?a.value=c:null),"model-modifiers":e.modelModifiers,class:"calendar","trim-weeks":"",transition:"none",columns:e.columns}),null,16,["modelValue","model-modifiers","columns"])]))}}),RC={__name:"Popover",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const a=Ht(e,t);return(s,o)=>(w(),K(d(uu),st(Rt(d(a))),{default:M(()=>[ae(s.$slots,"default")]),_:3},16))}},FC={__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(w(),K(d(cu),me(t,{class:""}),{default:M(()=>[ae(n.$slots,"default")]),_:3},16))}},jC={__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},onPlaced:{type:Function,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,a=Ht(n,t);return(s,o)=>(w(),K(d(fu),null,{default:M(()=>[k(d(du),me({...d(a),...s.$attrs},{class:d(ye)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:M(()=>[ae(s.$slots,"default")]),_:3},16,["class"])]),_:3}))}},HC={class:"space-y-6 py-4"},qC={class:"space-y-4"},VC={class:"space-y-2"},zC={class:"grid gap-4 grid-cols-1 sm:grid-cols-2"},UC={class:"space-y-2"},WC={class:"flex mt-2 gap-2"},KC={class:"flex w-full relative"},GC={key:0,class:"icon-[material-symbols--autorenew-outline-rounded] text-base"},ZC={key:1,class:"icon-[material-symbols--progress-activity] animate-spin text-base"},JC={class:"space-y-2"},XC={class:"space-y-2"},QC={class:"flex gap-2"},eM={class:"space-y-2"},tM={class:"space-y-2"},nM={class:"flex gap-2"},rM={class:"space-y-2"},aM={class:"space-y-2"},sM={class:"flex gap-2 relative"},oM=y("i",{class:"icon-[material-symbols--close-rounded] text-base"},null,-1),iM={class:"flex items-center justify-end gap-3 pt-4 border-t"},lM={key:0,class:"icon-[material-symbols--refresh] animate-spin mr-2"},uM={__name:"CreateLinkDialog",setup(e){const t=location.host,n=W({randomize:!1,create:!1}),r=async()=>{n.value.randomize=!0,fetch("/api/?action=randomize",{method:"POST",headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(({data:o})=>{setTimeout(()=>{z.value.formData.slug=o},500)}).finally(()=>{setTimeout(()=>{n.value.randomize=!1},500)})};pe(()=>z.value.visible,o=>{o&&z.value.isCreate&&!z.value.formData.slug&&Yt(()=>{r()})});const a=async()=>{n.value.create=!0,fetch("/api/?action=save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z.value.formData)}).then(o=>o.json()).then(o=>{console.log(o),o.code===0?(It({title:z.value.formData.creation?"更新成功":"创建成功",description:`短链接 ${z.value.formData.slug} ${z.value.formData.creation?"已更新":"已创建"}`}),zr(!0)):(It({title:z.value.formData.creation?"更新失败":"创建失败",description:o.msg||"操作失败，请重试",variant:"destructive"}),console.error("Error creating link:",o.msg))}).catch(o=>{It({title:"操作失败",description:"网络错误，请检查连接后重试",variant:"destructive"}),console.error("Network error:",o)}).finally(()=>{n.value.create=!1})},s=()=>z.value.formData.url&&z.value.formData.url.trim();return(o,i)=>(w(),K(d(Oa),{open:d(z).visible,"onUpdate:open":i[10]||(i[10]=l=>!l&&d(zr)(!1))},{default:M(()=>[k(d(Ia),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:M(()=>[k(d(Ea),null,{default:M(()=>[k(d(Aa),{class:"text-xl font-semibold"},{default:M(()=>[U(Z(d(z).formData.creation?"编辑短链接":"创建短链接"),1)]),_:1})]),_:1}),y("div",HC,[y("div",qC,[y("div",VC,[k(d(Le),{for:"url",class:"text-sm font-medium"},{default:M(()=>[U("目标链接 *")]),_:1}),k(d(hs),{id:"url",modelValue:d(z).formData.url,"onUpdate:modelValue":i[0]||(i[0]=l=>d(z).formData.url=l),placeholder:"https://example.com",class:"min-h-[80px] resize-none",disabled:n.value.create},null,8,["modelValue","disabled"])]),y("div",zC,[y("div",UC,[k(d(Le),null,{default:M(()=>[U("短链接")]),_:1}),y("div",WC,[y("div",KC,[k(d(_t),{type:"text",placeholder:"https://example.com",class:"w-[120px] rounded-r-none bg-slate-100",modelValue:d(t),"onUpdate:modelValue":i[1]||(i[1]=l=>bt(t)?t.value=l:null),readonly:""},null,8,["modelValue"]),k(d(_t),{type:"text",class:J(["rounded-l-none ml-[-1px]",!d(z).isCreate&&"bg-slate-100"]),modelValue:d(z).formData.slug,"onUpdate:modelValue":i[2]||(i[2]=l=>d(z).formData.slug=l),placeholder:"短链接",disabled:!d(z).isCreate,required:"",pattern:"[a-zA-Z0-9_\\-.]{6,24}"},null,8,["class","modelValue","disabled"]),k(d(he),{type:"button",variant:"outline",size:"icon",class:J(["absolute top-1/2 right-2 -translate-y-1/2 w-6 h-6 flex-shrink-0 active:scale-95",!d(z).isCreate&&"bg-slate-100"]),disabled:!d(z).isCreate,onClick:fr(r,["prevent"])},{default:M(()=>[n.value.randomize?(w(),E("i",ZC)):(w(),E("i",GC))]),_:1},8,["class","disabled"])])])]),y("div",JC,[k(d(Le),{for:"displayName",class:"text-sm font-medium"},{default:M(()=>[U("显示名称")]),_:1}),k(d(_t),{id:"displayName",modelValue:d(z).formData.displayName,"onUpdate:modelValue":i[3]||(i[3]=l=>d(z).formData.displayName=l),placeholder:"为您的短链接添加一个便于识别的名称",disabled:n.value.create},null,8,["modelValue","disabled"])])]),y("div",XC,[k(d(Le),{for:"mode",class:"text-sm font-medium"},{default:M(()=>[U("跳转模式")]),_:1}),y("div",QC,[(w(!0),E(ce,null,we(d(Tu),l=>(w(),K(d(he),{key:l.value,class:"w-full",variant:d(z).formData.mode!=l.value?"outline":"",onClick:fr(u=>d(z).formData.mode=l.value,["prevent"])},{default:M(()=>[U(Z(l.label),1)]),_:2},1032,["variant","onClick"]))),128))])]),k(d(Le),{for:"mode",class:"text-md font-bold"},{default:M(()=>[U("高级设置")]),_:1}),y("div",eM,[k(d(Le),{for:"notes",class:"text-sm font-medium"},{default:M(()=>[U("备注")]),_:1}),k(d(hs),{id:"notes",modelValue:d(z).formData.notes,"onUpdate:modelValue":i[4]||(i[4]=l=>d(z).formData.notes=l),placeholder:"为这个短链接添加一些备注信息...",class:"min-h-[60px] resize-none",disabled:n.value.create},null,8,["modelValue","disabled"])]),y("div",tM,[k(d(Le),{for:"mode",class:"text-sm font-medium"},{default:M(()=>[U("访问次数")]),_:1}),y("div",nM,[k(d(_t),{type:"number",modelValue:d(z).formData.number,"onUpdate:modelValue":i[5]||(i[5]=l=>d(z).formData.number=l),placeholder:"请输入访问次数",required:d(z).formData.enabledNumber,pattern:"[0-9]+"},null,8,["modelValue","required"])])]),y("div",rM,[k(d(Le),{for:"password",class:"text-sm font-medium"},{default:M(()=>[U("访问密码")]),_:1}),k(d(_t),{type:"password",modelValue:d(z).formData.password,"onUpdate:modelValue":i[6]||(i[6]=l=>d(z).formData.password=l),placeholder:"请输入访问密码",required:d(z).formData.enabledPassword},null,8,["modelValue","required"])]),y("div",aM,[k(d(Le),{for:"expires",class:"text-sm font-medium"},{default:M(()=>[U("访问期限")]),_:1}),y("div",sM,[d(z).formData.expires?(w(),K(d(he),{key:0,type:"button",variant:"outline",size:"icon",class:"absolute top-1/2 right-2 -translate-y-1/2 active:scale-95 w-6 h-6 bg-white",onClick:i[7]||(i[7]=l=>d(z).formData.expires="")},{default:M(()=>[oM]),_:1})):X("",!0),k(d(RC),null,{default:M(()=>[k(d(FC),{"as-child":""},{default:M(()=>[k(d(he),{variant:"outline",class:J(["w-full justify-start font-normal gap-2 px-3",!d(z).formData.expires&&"text-muted-foreground"])},{default:M(()=>[U(Z(d(z).formData.expires?new Date(d(z).formData.expires).toLocaleDateString():"请选择截止日期"),1)]),_:1},8,["class"])]),_:1}),k(d(jC),{class:"w-auto p-0"},{default:M(()=>[k(d(BC),{modelValue:d(z).formData.expires,"onUpdate:modelValue":i[8]||(i[8]=l=>d(z).formData.expires=l),required:d(z).formData.enabledExpires},null,8,["modelValue","required"])]),_:1})]),_:1})])])]),y("div",iM,[k(d(he),{variant:"outline",onClick:i[9]||(i[9]=l=>d(zr)(!1)),disabled:n.value.create},{default:M(()=>[U(" 取消 ")]),_:1},8,["disabled"]),k(d(he),{onClick:a,disabled:!s()||n.value.create,class:"min-w-[100px]"},{default:M(()=>[n.value.create?(w(),E("i",lM)):X("",!0),U(" "+Z(d(z).formData.creation?"更新":"创建"),1)]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["open"]))}},cM={class:"w-full"},dM={key:0,class:"mb-4 p-3 bg-slate-50 border border-slate-200 rounded-lg"},fM={class:"flex items-center justify-between"},vM={class:"text-sm text-slate-700"},pM={key:1,class:"mb-4 text-center text-gray-500"},hM={key:2,class:"text-center py-16"},mM={class:"max-w-md mx-auto"},gM=y("div",{class:"mb-6"},[y("i",{class:"icon-[material-symbols--link] text-6xl text-gray-300 mb-4"})],-1),yM={class:"text-xl font-semibold text-gray-700 mb-2"},bM={class:"text-gray-500 mb-6"},_M={key:0,class:"space-y-3"},wM=y("i",{class:"icon-[material-symbols--add] text-lg"},null,-1),$M={key:3,class:"transition-all flex flex-col sm:grid xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-3 w-full"},DM={key:4,class:"mt-6 text-center"},kM={key:0,class:"flex items-center justify-center gap-2 py-4 text-gray-500"},CM=y("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-lg"},null,-1),MM=y("span",null,"正在加载更多...",-1),xM=[CM,MM],TM={key:1,class:"py-4 text-gray-400 text-sm flex items-center justify-center"},SM=y("i",{class:"icon-[material-symbols--check-circle] text-lg mr-1"},null,-1),PM={key:2,class:"py-4 text-gray-400 text-sm flex items-center justify-center"},OM=y("i",{class:"icon-[material-symbols--keyboard-arrow-down] text-lg mr-1"},null,-1),EM={__name:"SlugItems",setup(e,{expose:t}){const n=W(!1),r=W(!1),a=W([]),s=W({count:0,page:1,rows:10}),o=W(""),i=W(!0),l=async f=>{try{const g=f.map(async b=>{try{const m=await(await fetch("/api/?action=analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:b.key,timeRange:"24h"})})).json();if(m.code===0){const C=a.value.find(x=>x.key===b.key);C&&(C.clicks=m.data.totalClicks||0)}}catch(_){console.error(`Failed to get clicks for ${b.key}:`,_)}});await Promise.all(g)}catch(g){console.error("Failed to fetch click stats:",g)}},u=async(f="")=>{const g=Math.random().toString(36).substring(2);n.value=!0,s.value.page=1,a.value=[],i.value=!0;const b={rows:s.value.rows,page:s.value.page};f&&(b.search=f),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(_=>_.json()).then(({data:_})=>{const{count:m,results:C}=_||{};s.value.count=m;const x=(C||[]).map(D=>{let O={};try{O=JSON.parse(D.value)}catch(I){console.log(I)}return{...D,...O,oid:g+D.key,clicks:0}});a.value=x,l(x),i.value=x.length===s.value.rows&&a.value.length<m}).finally(()=>{n.value=!1})},c=async()=>{if(r.value||!i.value)return;r.value=!0,s.value.page+=1;const f={rows:s.value.rows,page:s.value.page};o.value&&(f.search=o.value),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then(g=>g.json()).then(({data:g})=>{const{results:b}=g||{},_=Math.random().toString(36).substring(2),m=(b||[]).map(C=>{let x={};try{x=JSON.parse(C.value)}catch(D){console.log(D)}return{...C,...x,oid:_+C.key,clicks:0}});m.length>0?(a.value.push(...m),l(m),i.value=m.length===s.value.rows&&a.value.length<s.value.count):i.value=!1}).finally(()=>{r.value=!1})},v=f=>{o.value=f,u(f)},p=()=>{const{scrollTop:f,scrollHeight:g,clientHeight:b}=document.documentElement;f+b>=g-200&&i.value&&!r.value&&!n.value&&c()};return qt(()=>{u(),window.addEventListener("scroll",p)}),xr(()=>{window.removeEventListener("scroll",p)}),t({refresh:u,search:v}),(f,g)=>(w(),E("div",cM,[o.value?(w(),E("div",dM,[y("div",fM,[y("div",vM,' 正在搜索 "'+Z(o.value)+'"，找到 '+Z(s.value.count)+" 条结果 ",1)])])):X("",!0),n.value?(w(),E("div",pM," 搜索中... ")):a.value.length===0?(w(),E("div",hM,[y("div",mM,[gM,y("div",yM,Z(o.value?"没有找到匹配的结果":"还没有短链接"),1),y("div",bM,Z(o.value?"尝试使用其他关键词搜索":"点击下方按钮创建你的第一个短链接"),1),o.value?X("",!0):(w(),E("div",_M,[k(d(he),{onClick:d(vr),class:"gap-2"},{default:M(()=>[wM,U(" 创建短链接 ")]),_:1},8,["onClick"])]))])])):(w(),E("div",$M,[(w(!0),E(ce,null,we(a.value,b=>(w(),K(qd,me({key:b.oid},{item:b},{onRefresh:g[0]||(g[0]=()=>u(o.value))}),null,16))),128))])),a.value.length>0?(w(),E("div",DM,[r.value?(w(),E("div",kM,xM)):i.value?(w(),E("div",PM,[OM,U(" 向下滚动加载更多 ")])):(w(),E("div",TM,[SM,U(" 已显示全部 "+Z(a.value.length)+" 条记录 ",1)]))])):X("",!0),k(uM)]))}},AM={class:"flex items-center justify-between"},IM={key:0,class:"icon-[material-symbols--progress-activity] animate-spin mr-2"},YM={key:1,class:"icon-[material-symbols--refresh] mr-2"},NM={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},LM={class:"flex items-center space-x-4"},BM=y("div",{class:"flex items-center justify-center w-12 h-12 rounded-lg bg-blue-100"},[y("i",{class:"icon-[material-symbols--mouse] text-blue-600 text-xl"})],-1),RM={class:"text-2xl font-bold"},FM=y("p",{class:"text-sm text-gray-600"},"总点击数",-1),jM={class:"flex items-center space-x-4"},HM=y("div",{class:"flex items-center justify-center w-12 h-12 rounded-lg bg-green-100"},[y("i",{class:"icon-[material-symbols--link] text-green-600 text-xl"})],-1),qM={class:"text-2xl font-bold"},VM=y("p",{class:"text-sm text-gray-600"},"活跃链接数",-1),zM={key:0,class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},UM=y("div",{class:"flex items-start gap-2"},[y("i",{class:"icon-[material-symbols--info] text-yellow-600 text-sm mt-0.5"}),y("div",{class:"text-sm text-yellow-800"},[y("p",{class:"font-medium"},"使用基础统计数据"),y("p",{class:"text-xs mt-1"},"显示数据库中的准确点击计数")])],-1),WM=[UM],KM={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"},GM=y("div",{class:"flex items-start gap-2"},[y("i",{class:"icon-[material-symbols--analytics] text-green-600 text-sm mt-0.5"}),y("div",{class:"text-sm text-green-800"},[y("p",{class:"font-medium"},"Analytics Engine 统计"),y("p",{class:"text-xs mt-1"},"基于真实访问数据的智能分析")])],-1),ZM=[GM],JM={__name:"AnalyticsCard",setup(e){const t=W(!1),n=W({totalClicks:0,uniqueUrls:0,timeRange:"24h",fallback:!1}),r=async()=>{t.value=!0;try{const o=await(await fetch("/api/?action=analytics_summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();o.code===0&&(n.value=o.data)}catch(s){console.error("Failed to fetch analytics:",s)}finally{t.value=!1}},a=()=>{r()};return qt(()=>{r()}),(s,o)=>(w(),K(d(Nt),null,{default:M(()=>[k(d(Tn),null,{default:M(()=>[y("div",AM,[y("div",null,[k(d(Sn),{class:"text-lg"},{default:M(()=>[U("统计概览")]),_:1}),k(d(oa),null,{default:M(()=>[U(" 最近 24 小时的数据 "),n.value.fallback?(w(),K(d(da),{key:0,variant:"secondary",class:"ml-2 text-xs"},{default:M(()=>[U(" 基础统计 ")]),_:1})):X("",!0)]),_:1})]),k(d(he),{variant:"outline",size:"sm",onClick:a,disabled:t.value,class:"shrink-0"},{default:M(()=>[t.value?(w(),E("i",IM)):(w(),E("i",YM)),U(" 刷新 ")]),_:1},8,["disabled"])])]),_:1}),k(d(Xt),null,{default:M(()=>[y("div",NM,[y("div",LM,[BM,y("div",null,[y("p",RM,Z(n.value.totalClicks.toLocaleString()),1),FM])]),y("div",jM,[HM,y("div",null,[y("p",qM,Z(n.value.uniqueUrls||0),1),VM])])]),n.value.fallback?(w(),E("div",zM,WM)):n.value.dataSource==="analytics_engine"?(w(),E("div",KM,ZM)):X("",!0)]),_:1})]),_:1}))}},XM={class:"min-h-screen flex flex-col"},QM={class:"container"},ex={class:"flex items-center py-8"},tx={class:"text-3xl font-semibold"},nx={class:"ml-auto flex gap-2 sm:static absolute right-8 z-10 bg-white"},rx={class:"flex items-center gap-2"},ax={class:"absolute right-2 top-2 bottom-2 flex items-center gap-1"},sx=y("i",{class:"icon-[material-symbols--close] text-sm"},null,-1),ox=y("kbd",{class:"hidden h-5 select-none items-center gap-1 rounded border px-2 font-mono font-medium text-[10px] sm:flex"},[y("span",{class:"text-sm"},"⌘"),U("K ")],-1),ix=y("i",{class:"icon-[material-symbols--add] text-xl"},null,-1),lx=y("span",{class:"hidden sm:inline"},"创建短链接",-1),ux={class:"container h-full py-6"},px={__name:"Dash",setup(e){const t=location.host,n=W(null),r=W(!1),a=W(""),s=W(""),o=()=>{vr().then(()=>{n.value&&n.value.refresh(a.value.trim())}).catch(()=>{})},i=()=>{n.value&&a.value.trim()!==s.value&&(s.value=a.value.trim(),n.value.search(s.value))},l=()=>{a.value="",s.value="",n.value&&n.value.search("")};return pe(a,u=>{!u.trim()&&s.value&&l()}),document.addEventListener("keydown",u=>{if(u.metaKey&&u.key==="k"){u.preventDefault();const c=document.querySelector("#search");c&&c.focus()}}),(u,c)=>(w(),E("div",XM,[y("div",QM,[y("div",ex,[y("h2",tx,Z(d(t)),1),y("div",nx,[y("div",rx,[y("form",{class:"flex flex-col relative w-60",onSubmit:fr(i,["prevent"]),onClick:c[3]||(c[3]=v=>r.value=!0)},[k(d(_t),{id:"search",modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=v=>a.value=v),placeholder:"搜索短链接",onFocus:c[1]||(c[1]=v=>r.value=!0),onBlur:c[2]||(c[2]=v=>r.value=!1),onKeydown:sa(i,["enter"]),autocomplete:"off"},null,8,["modelValue"]),y("div",ax,[a.value?(w(),K(d(he),{key:0,type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 p-0 hover:bg-gray-100",onClick:l},{default:M(()=>[sx]),_:1})):X("",!0),ox])],32)]),k(d(he),{onClick:o,class:"flex items-center gap-2 shrink-0 px-2 md:px-4",title:"创建短链接"},{default:M(()=>[ix,lx]),_:1})])]),k(d(vu))]),y("div",ux,[k(JM,{class:"mb-6"}),k(EM,{ref_key:"table",ref:n},null,512)])]))}};export{px as default};
