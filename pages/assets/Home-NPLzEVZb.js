import{_,a as x,b as g}from"./Label-aF_29Owh.js";import{r,o as l,c as o,a as e,b as i,w as d,d as u,u as n,t as h,e as v}from"./index-WMzl59-N.js";const b={class:"flex flex-col gap-1"},w={key:0,class:"icon-[mingcute--arrow-right-line] text-base ml-2"},y={key:1,class:"icon-[mingcute--loading-fill] animate-spin text-base ml-2"},k={__name:"UserAuthForm",setup(f){const a=r(""),s=r(!1),m=async c=>{c.preventDefault(),s.value=!0,await fetch("/api/?action=login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.value})}).then(t=>t.json()).then(t=>{setTimeout(()=>{if(t.code!==0){h({description:t.msg,variant:"destructive"});return}window.location.href="/dash"},300)}).finally(()=>{setTimeout(()=>{s.value=!1},1e3)})};return(c,t)=>(l(),o("form",{onSubmit:m,class:"flex flex-col gap-4 px-4"},[e("div",b,[i(n(_),null,{default:d(()=>[u(" Password ")]),_:1}),i(n(x),{type:"password",placeholder:"Enter your password","auto-capitalize":"none","auto-correct":"off",disabled:s.value,modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=p=>a.value=p),required:"",minlength:"6",maxlength:"32",class:"invalid:focus:border-red-500"},null,8,["disabled","modelValue"])]),i(n(g),{disabled:s.value,class:"w-full"},{default:d(()=>[u(" Sign In "),s.value?(l(),o("i",y)):(l(),o("i",w))]),_:1},8,["disabled"])],32))}},V={class:"container relative flex-col items-center justify-center grid lg:max-w-none lg:grid-cols-2 lg:px-0 h-screen"},$=v('<div class="relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex"><div class="absolute inset-0 bg-zinc-900"><img src="https://imgapi.cn/bing.php" class="object-cover w-full h-full"></div><div class="relative z-20 flex items-center text-lg font-medium"><i class="icon-[tabler--api-app] text-3xl mr-2"></i> luot.cn </div></div>',1),S={class:"lg:p-8"},j={class:"mx-auto flex w-full flex-col justify-center space-y-8 sm:w-[350px]"},N=e("div",{class:"flex flex-col text-center space-y-2"},[e("h1",{class:"text-3xl font-semibold tracking-tight"}," Login to your account "),e("p",{class:"text-sm text-muted-foreground"},"Manage your short URL")],-1),T=e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center"},[e("span",{class:"w-full border-t"})])],-1),B=e("p",{class:"px-4 text-center text-sm text-muted-foreground"}," Built on Cloudflare Workers. ",-1),U={__name:"Home",setup(f){return(a,s)=>(l(),o("div",V,[$,e("div",S,[e("div",j,[N,i(k),T,B])])]))}};export{U as default};
