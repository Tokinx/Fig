import{_ as x,a as g,b as h}from"./Label-U2XIIK3t.js";import{u as v,r as d,o as l,c as o,a as e,b as i,w as u,d as f,e as n,f as b}from"./index-swXE5WV8.js";const w={class:"flex flex-col gap-1"},y={key:0,class:"icon-[mingcute--arrow-right-line] text-base ml-2"},k={key:1,class:"icon-[mingcute--loading-fill] animate-spin text-base ml-2"},V={__name:"UserAuthForm",setup(m){const{toast:c}=v(),a=d(""),s=d(!1),p=async r=>{r.preventDefault(),s.value=!0,await fetch("/api/?action=login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.value})}).then(t=>t.json()).then(t=>{setTimeout(()=>{if(t.code!==0){c({title:t.msg,variant:"destructive"});return}window.location.href="/dash"},300)}).finally(()=>{setTimeout(()=>{s.value=!1},1e3)})};return(r,t)=>(l(),o("form",{onSubmit:p,class:"flex flex-col gap-4 px-4"},[e("div",w,[i(n(x),null,{default:u(()=>[f(" Password ")]),_:1}),i(n(g),{type:"password",placeholder:"Enter your password","auto-capitalize":"none","auto-correct":"off",disabled:s.value,modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=_=>a.value=_),required:"",minlength:"6",maxlength:"32",class:"invalid:focus:border-red-500"},null,8,["disabled","modelValue"])]),i(n(h),{disabled:s.value,class:"w-full"},{default:u(()=>[f(" Sign In "),s.value?(l(),o("i",k)):(l(),o("i",y))]),_:1},8,["disabled"])],32))}},$={class:"container relative flex-col items-center justify-center grid lg:max-w-none lg:grid-cols-2 lg:px-0 h-screen"},S=b('<div class="relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex"><div class="absolute inset-0 bg-zinc-900"><img src="https://imgapi.cn/bing.php" class="object-cover w-full h-full"></div><div class="relative z-20 flex items-center text-lg font-medium"><i class="icon-[tabler--api-app] text-3xl mr-2"></i> luot.cn </div></div>',1),T={class:"lg:p-8"},j={class:"mx-auto flex w-full flex-col justify-center space-y-8 sm:w-[350px]"},N=e("div",{class:"flex flex-col text-center space-y-2"},[e("h1",{class:"text-3xl font-semibold tracking-tight"}," Login to your account "),e("p",{class:"text-sm text-muted-foreground"},"Manage your short URL")],-1),B=e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center"},[e("span",{class:"w-full border-t"})])],-1),z=e("p",{class:"px-4 text-center text-sm text-muted-foreground"}," Built on Cloudflare Workers. ",-1),E={__name:"Home",setup(m){return(c,a)=>(l(),o("div",$,[S,e("div",T,[e("div",j,[N,i(V),B,z])])]))}};export{E as default};
