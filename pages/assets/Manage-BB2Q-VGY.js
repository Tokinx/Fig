import{S as Ve,f as D,o as x,w as N,g as Z,h as ft,i as ht,d as v,j as gt,m as ne,k as mt,b as A,l as pt,p as me,q as yt,v as vt,s as bt,r as R,x as wt,T as _t,$ as Ct,P as Et,X as kt,a as p,y as xt,I as St,z as Tt,A as de,c as P,B as ie,t as I,e as J,n as q,F as pe,C as ye,D as W,E as Bt,G as V,H as At,J as Nt,K as Mt,u as Me,L as Ue,M as Pt,N as le,O as Lt,Q as It,R as Rt,U as $t}from"./index-CNuAJ1gZ.js";import{a as $,b as Dt,u as Ut,_ as ue}from"./Input-CnPu_WLp.js";import{_ as Ft}from"./LanguageSwitcher-Bf6puCXR.js";function ce(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ce=function(t){return typeof t}:ce=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(n)}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jt(n,t){return t={exports:{}},n(t,t.exports),t.exports}var He=jt(function(n,t){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(s,r){n.exports=r()})(Ot,function(){return o={},s.m=r=[function(e,i){e.exports=function(a){var l;if(a.nodeName==="SELECT")a.focus(),l=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var d=a.hasAttribute("readonly");d||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),d||a.removeAttribute("readonly"),l=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),w=document.createRange();w.selectNodeContents(a),c.removeAllRanges(),c.addRange(w),l=c.toString()}return l}},function(e,i){function a(){}a.prototype={on:function(l,d,c){var w=this.e||(this.e={});return(w[l]||(w[l]=[])).push({fn:d,ctx:c}),this},once:function(l,d,c){var w=this;function g(){w.off(l,g),d.apply(c,arguments)}return g._=d,this.on(l,g,c)},emit:function(l){for(var d=[].slice.call(arguments,1),c=((this.e||(this.e={}))[l]||[]).slice(),w=0,g=c.length;w<g;w++)c[w].fn.apply(c[w].ctx,d);return this},off:function(l,d){var c=this.e||(this.e={}),w=c[l],g=[];if(w&&d)for(var u=0,f=w.length;u<f;u++)w[u].fn!==d&&w[u].fn._!==d&&g.push(w[u]);return g.length?c[l]=g:delete c[l],this}},e.exports=a,e.exports.TinyEmitter=a},function(e,i,a){var l=a(3),d=a(4);e.exports=function(c,w,g){if(!c&&!w&&!g)throw new Error("Missing required arguments");if(!l.string(w))throw new TypeError("Second argument must be a String");if(!l.fn(g))throw new TypeError("Third argument must be a Function");if(l.node(c))return _=w,S=g,(C=c).addEventListener(_,S),{destroy:function(){C.removeEventListener(_,S)}};if(l.nodeList(c))return k=c,m=w,E=g,Array.prototype.forEach.call(k,function(B){B.addEventListener(m,E)}),{destroy:function(){Array.prototype.forEach.call(k,function(B){B.removeEventListener(m,E)})}};if(l.string(c))return u=c,f=w,y=g,d(document.body,u,f,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var u,f,y,k,m,E,C,_,S}},function(e,i){i.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},i.nodeList=function(a){var l=Object.prototype.toString.call(a);return a!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in a&&(a.length===0||i.node(a[0]))},i.string=function(a){return typeof a=="string"||a instanceof String},i.fn=function(a){return Object.prototype.toString.call(a)==="[object Function]"}},function(e,i,a){var l=a(5);function d(c,w,g,u,f){var y=(function(k,m,E,C){return function(_){_.delegateTarget=l(_.target,m),_.delegateTarget&&C.call(k,_)}}).apply(this,arguments);return c.addEventListener(g,y,f),{destroy:function(){c.removeEventListener(g,y,f)}}}e.exports=function(c,w,g,u,f){return typeof c.addEventListener=="function"?d.apply(null,arguments):typeof g=="function"?d.bind(null,document).apply(null,arguments):(typeof c=="string"&&(c=document.querySelectorAll(c)),Array.prototype.map.call(c,function(y){return d(y,w,g,u,f)}))}},function(e,i){if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(l,d){for(;l&&l.nodeType!==9;){if(typeof l.matches=="function"&&l.matches(d))return l;l=l.parentNode}}},function(e,i,a){a.r(i);var l=a(0),d=a.n(l),c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function w(h,b){for(var T=0;T<b.length;T++){var M=b[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(h,M.key,M)}}function g(h){(function(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")})(this,g),this.resolveOptions(h),this.initSelection()}var u=(function(h,b,T){return b&&w(h.prototype,b),h}(g,[{key:"resolveOptions",value:function(h){var b=0<arguments.length&&h!==void 0?h:{};this.action=b.action,this.container=b.container,this.emitter=b.emitter,this.target=b.target,this.text=b.text,this.trigger=b.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var h=this,b=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return h.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=T+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=d()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=d()(this.target),this.copyText()}},{key:"copyText",value:function(){var h=void 0;try{h=document.execCommand(this.action)}catch{h=!1}this.handleResult(h)}},{key:"handleResult",value:function(h){this.emitter.emit(h?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(h){var b=0<arguments.length&&h!==void 0?h:"copy";if(this._action=b,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(h){if(h!==void 0){if(!h||(h===void 0?"undefined":c(h))!=="object"||h.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&h.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(h.hasAttribute("readonly")||h.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=h}},get:function(){return this._target}}]),g),f=a(1),y=a.n(f),k=a(2),m=a.n(k),E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},C=function(h,b,T){return b&&_(h.prototype,b),T&&_(h,T),h};function _(h,b){for(var T=0;T<b.length;T++){var M=b[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(h,M.key,M)}}var S=(function(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(h,b):h.__proto__=b)}(B,y.a),C(B,[{key:"resolveOptions",value:function(h){var b=0<arguments.length&&h!==void 0?h:{};this.action=typeof b.action=="function"?b.action:this.defaultAction,this.target=typeof b.target=="function"?b.target:this.defaultTarget,this.text=typeof b.text=="function"?b.text:this.defaultText,this.container=E(b.container)==="object"?b.container:document.body}},{key:"listenClick",value:function(h){var b=this;this.listener=m()(h,"click",function(T){return b.onClick(T)})}},{key:"onClick",value:function(h){var b=h.delegateTarget||h.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u({action:this.action(b),target:this.target(b),text:this.text(b),container:this.container,trigger:b,emitter:this})}},{key:"defaultAction",value:function(h){return L("action",h)}},{key:"defaultTarget",value:function(h){var b=L("target",h);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(h){return L("text",h)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(h){var b=0<arguments.length&&h!==void 0?h:["copy","cut"],T=typeof b=="string"?[b]:b,M=!!document.queryCommandSupported;return T.forEach(function(F){M=M&&!!document.queryCommandSupported(F)}),M}}]),B);function B(h,b){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,B);var T=function(M,F){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?M:F}(this,(B.__proto__||Object.getPrototypeOf(B)).call(this));return T.resolveOptions(b),T.listenClick(h),T}function L(h,b){var T="data-clipboard-"+h;if(b.hasAttribute(T))return b.getAttribute(T)}i.default=S}],s.c=o,s.d=function(e,i,a){s.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:a})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,i){if(1&i&&(e=s(e)),8&i||4&i&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&i&&typeof e!="string")for(var l in e)s.d(a,l,(function(d){return e[d]}).bind(null,l));return a},s.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(i,"a",i),i},s.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},s.p="",s(s.s=6).default;function s(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return r[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}var r,o})}),qt=zt(He);He.ClipboardJS;function Vt(n,t,s){var r=document.createElement("button"),o=new qt(r,{text:function(){return n},action:function(){return"copy"},container:ce(t)==="object"?t:document.body});o.on("success",function(e){o.destroy(),s(void 0,e)}),o.on("error",function(e){o.destroy(),s(e,void 0)}),document.body.appendChild(r),r.click(),document.body.removeChild(r)}const Ht={__name:"DropdownMenu",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(n,{emit:t}){const o=Ve(n,t);return(e,i)=>(x(),D(v(gt),ft(ht(v(o))),{default:N(()=>[Z(e.$slots,"default")]),_:3},16))}},Jt={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=n;return(s,r)=>(x(),D(v(mt),ne({class:"outline-none"},t),{default:N(()=>[Z(s.$slots,"default")]),_:3},16))}},Kt={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","entryFocus","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const s=n,o=Ve(s,t);return(e,i)=>(x(),D(v(yt),null,{default:N(()=>[A(v(pt),ne({class:[v(me)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)]},v(o)),{default:N(()=>[Z(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}},Yt={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},inset:{type:Boolean,required:!1},class:{type:String,required:!1}},setup(n){const t=n;return(s,r)=>(x(),D(v(vt),ne(t,{class:[v(me)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.inset&&"pl-8",t.class)]}),{default:N(()=>[Z(s.$slots,"default")]),_:3},16,["class"]))}},Je=n=>JSON.parse(JSON.stringify(n)),Ke={url:"",slug:"",displayName:"",notes:"",mode:"redirect",passcode:"",clicks:0};function Pe(){const{t:n}=bt.global;return[{value:"redirect",label:n("modes.redirect"),description:n("modes.redirectDesc")},{value:"remind",label:n("modes.remind"),description:n("modes.remindDesc")},{value:"cloaking",label:n("modes.cloaking"),description:n("modes.cloakingDesc")},{value:"proxy",label:n("modes.proxy"),description:n("modes.proxyDesc")}]}const O=R({visible:!1,isCreate:!0,formData:Je(Ke),resolve:()=>{},reject:()=>{}}),Fe=n=>{n?O.value.resolve():O.value.reject(),O.value.visible=!1};function fe(n){const t=Je(Object.assign({},Ke,n));return O.value.isCreate=!t.creation,O.value.formData=t,O.value.visible=!0,new Promise((s,r)=>{O.value.resolve=s,O.value.reject=r})}var oe={},Qt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ye={},U={};let Le;const Gt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];U.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};U.getSymbolTotalCodewords=function(t){return Gt[t]};U.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};U.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Le=t};U.isKanjiModeEnabled=function(){return typeof Le<"u"};U.toSJIS=function(t){return Le(t)};var ve={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+s)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,o){if(n.isValid(r))return r;try{return t(r)}catch{return o}}})(ve);function Qe(){this.buffer=[],this.length=0}Qe.prototype={get:function(n){const t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let s=0;s<t;s++)this.putBit((n>>>t-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Xt=Qe;function re(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}re.prototype.set=function(n,t,s,r){const o=n*this.size+t;this.data[o]=s,r&&(this.reservedBit[o]=!0)};re.prototype.get=function(n,t){return this.data[n*this.size+t]};re.prototype.xor=function(n,t,s){this.data[n*this.size+t]^=s};re.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};var Zt=re,Ge={};(function(n){const t=U.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,e=t(r),i=e===145?26:Math.ceil((e-13)/(2*o-2))*2,a=[e-7];for(let l=1;l<o-1;l++)a[l]=a[l-1]-i;return a.push(6),a.reverse()},n.getPositions=function(r){const o=[],e=n.getRowColCoords(r),i=e.length;for(let a=0;a<i;a++)for(let l=0;l<i;l++)a===0&&l===0||a===0&&l===i-1||a===i-1&&l===0||o.push([e[a],e[l]]);return o}})(Ge);var Xe={};const Wt=U.getSymbolSize,Oe=7;Xe.getPositions=function(t){const s=Wt(t);return[[0,0],[s-Oe,0],[0,s-Oe]]};var Ze={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},n.from=function(o){return n.isValid(o)?parseInt(o,10):void 0},n.getPenaltyN1=function(o){const e=o.size;let i=0,a=0,l=0,d=null,c=null;for(let w=0;w<e;w++){a=l=0,d=c=null;for(let g=0;g<e;g++){let u=o.get(w,g);u===d?a++:(a>=5&&(i+=t.N1+(a-5)),d=u,a=1),u=o.get(g,w),u===c?l++:(l>=5&&(i+=t.N1+(l-5)),c=u,l=1)}a>=5&&(i+=t.N1+(a-5)),l>=5&&(i+=t.N1+(l-5))}return i},n.getPenaltyN2=function(o){const e=o.size;let i=0;for(let a=0;a<e-1;a++)for(let l=0;l<e-1;l++){const d=o.get(a,l)+o.get(a,l+1)+o.get(a+1,l)+o.get(a+1,l+1);(d===4||d===0)&&i++}return i*t.N2},n.getPenaltyN3=function(o){const e=o.size;let i=0,a=0,l=0;for(let d=0;d<e;d++){a=l=0;for(let c=0;c<e;c++)a=a<<1&2047|o.get(d,c),c>=10&&(a===1488||a===93)&&i++,l=l<<1&2047|o.get(c,d),c>=10&&(l===1488||l===93)&&i++}return i*t.N3},n.getPenaltyN4=function(o){let e=0;const i=o.data.length;for(let l=0;l<i;l++)e+=o.data[l];return Math.abs(Math.ceil(e*100/i/5)-10)*t.N4};function s(r,o,e){switch(r){case n.Patterns.PATTERN000:return(o+e)%2===0;case n.Patterns.PATTERN001:return o%2===0;case n.Patterns.PATTERN010:return e%3===0;case n.Patterns.PATTERN011:return(o+e)%3===0;case n.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(e/3))%2===0;case n.Patterns.PATTERN101:return o*e%2+o*e%3===0;case n.Patterns.PATTERN110:return(o*e%2+o*e%3)%2===0;case n.Patterns.PATTERN111:return(o*e%3+(o+e)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(o,e){const i=e.size;for(let a=0;a<i;a++)for(let l=0;l<i;l++)e.isReserved(l,a)||e.xor(l,a,s(o,l,a))},n.getBestMask=function(o,e){const i=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let d=0;d<i;d++){e(d),n.applyMask(d,o);const c=n.getPenaltyN1(o)+n.getPenaltyN2(o)+n.getPenaltyN3(o)+n.getPenaltyN4(o);n.applyMask(d,o),c<l&&(l=c,a=d)}return a}})(Ze);var be={};const H=ve,se=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ae=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];be.getBlocksCount=function(t,s){switch(s){case H.L:return se[(t-1)*4+0];case H.M:return se[(t-1)*4+1];case H.Q:return se[(t-1)*4+2];case H.H:return se[(t-1)*4+3];default:return}};be.getTotalCodewordsCount=function(t,s){switch(s){case H.L:return ae[(t-1)*4+0];case H.M:return ae[(t-1)*4+1];case H.Q:return ae[(t-1)*4+2];case H.H:return ae[(t-1)*4+3];default:return}};var We={},we={};const ee=new Uint8Array(512),he=new Uint8Array(256);(function(){let t=1;for(let s=0;s<255;s++)ee[s]=t,he[t]=s,t<<=1,t&256&&(t^=285);for(let s=255;s<512;s++)ee[s]=ee[s-255]})();we.log=function(t){if(t<1)throw new Error("log("+t+")");return he[t]};we.exp=function(t){return ee[t]};we.mul=function(t,s){return t===0||s===0?0:ee[he[t]+he[s]]};(function(n){const t=we;n.mul=function(r,o){const e=new Uint8Array(r.length+o.length-1);for(let i=0;i<r.length;i++)for(let a=0;a<o.length;a++)e[i+a]^=t.mul(r[i],o[a]);return e},n.mod=function(r,o){let e=new Uint8Array(r);for(;e.length-o.length>=0;){const i=e[0];for(let l=0;l<o.length;l++)e[l]^=t.mul(o[l],i);let a=0;for(;a<e.length&&e[a]===0;)a++;e=e.slice(a)}return e},n.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let e=0;e<r;e++)o=n.mul(o,new Uint8Array([1,t.exp(e)]));return o}})(We);const et=We;function Ie(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Ie.prototype.initialize=function(t){this.degree=t,this.genPoly=et.generateECPolynomial(this.degree)};Ie.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(t.length+this.degree);s.set(t);const r=et.mod(s,this.genPoly),o=this.degree-r.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(r,o),e}return r};var en=Ie,tt={},K={},Re={};Re.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var z={};const nt="[0-9]+",tn="[A-Z $%*+\\-./:]+";let te="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";te=te.replace(/u/g,"\\u");const nn="(?:(?![A-Z0-9 $%*+\\-./:]|"+te+`)(?:.|[\r
]))+`;z.KANJI=new RegExp(te,"g");z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");z.BYTE=new RegExp(nn,"g");z.NUMERIC=new RegExp(nt,"g");z.ALPHANUMERIC=new RegExp(tn,"g");const on=new RegExp("^"+te+"$"),rn=new RegExp("^"+nt+"$"),sn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");z.testKanji=function(t){return on.test(t)};z.testNumeric=function(t){return rn.test(t)};z.testAlphanumeric=function(t){return sn.test(t)};(function(n){const t=Re,s=z;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,i){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?e.ccBits[0]:i<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return s.testNumeric(e)?n.NUMERIC:s.testAlphanumeric(e)?n.ALPHANUMERIC:s.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+o)}}n.from=function(e,i){if(n.isValid(e))return e;try{return r(e)}catch{return i}}})(K);(function(n){const t=U,s=be,r=ve,o=K,e=Re,i=7973,a=t.getBCHDigit(i);function l(g,u,f){for(let y=1;y<=40;y++)if(u<=n.getCapacity(y,f,g))return y}function d(g,u){return o.getCharCountIndicator(g,u)+4}function c(g,u){let f=0;return g.forEach(function(y){const k=d(y.mode,u);f+=k+y.getBitsLength()}),f}function w(g,u){for(let f=1;f<=40;f++)if(c(g,f)<=n.getCapacity(f,u,o.MIXED))return f}n.from=function(u,f){return e.isValid(u)?parseInt(u,10):f},n.getCapacity=function(u,f,y){if(!e.isValid(u))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=o.BYTE);const k=t.getSymbolTotalCodewords(u),m=s.getTotalCodewordsCount(u,f),E=(k-m)*8;if(y===o.MIXED)return E;const C=E-d(y,u);switch(y){case o.NUMERIC:return Math.floor(C/10*3);case o.ALPHANUMERIC:return Math.floor(C/11*2);case o.KANJI:return Math.floor(C/13);case o.BYTE:default:return Math.floor(C/8)}},n.getBestVersionForData=function(u,f){let y;const k=r.from(f,r.M);if(Array.isArray(u)){if(u.length>1)return w(u,k);if(u.length===0)return 1;y=u[0]}else y=u;return l(y.mode,y.getLength(),k)},n.getEncodedBits=function(u){if(!e.isValid(u)||u<7)throw new Error("Invalid QR Code version");let f=u<<12;for(;t.getBCHDigit(f)-a>=0;)f^=i<<t.getBCHDigit(f)-a;return u<<12|f}})(tt);var ot={};const Te=U,rt=1335,an=21522,ze=Te.getBCHDigit(rt);ot.getEncodedBits=function(t,s){const r=t.bit<<3|s;let o=r<<10;for(;Te.getBCHDigit(o)-ze>=0;)o^=rt<<Te.getBCHDigit(o)-ze;return(r<<10|o)^an};var st={};const ln=K;function Y(n){this.mode=ln.NUMERIC,this.data=n.toString()}Y.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(t){let s,r,o;for(s=0;s+3<=this.data.length;s+=3)r=this.data.substr(s,3),o=parseInt(r,10),t.put(o,10);const e=this.data.length-s;e>0&&(r=this.data.substr(s),o=parseInt(r,10),t.put(o,e*3+1))};var un=Y;const cn=K,Ce=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(n){this.mode=cn.ALPHANUMERIC,this.data=n}Q.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(t){let s;for(s=0;s+2<=this.data.length;s+=2){let r=Ce.indexOf(this.data[s])*45;r+=Ce.indexOf(this.data[s+1]),t.put(r,11)}this.data.length%2&&t.put(Ce.indexOf(this.data[s]),6)};var dn=Q;const fn=K;function G(n){this.mode=fn.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}G.getBitsLength=function(t){return t*8};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(n){for(let t=0,s=this.data.length;t<s;t++)n.put(this.data[t],8)};var hn=G;const gn=K,mn=U;function X(n){this.mode=gn.KANJI,this.data=n}X.getBitsLength=function(t){return t*13};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let s=mn.toSJIS(this.data[t]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}};var pn=X,at={exports:{}};(function(n){var t={single_source_shortest_paths:function(s,r,o){var e={},i={};i[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var l,d,c,w,g,u,f,y,k;!a.empty();){l=a.pop(),d=l.value,w=l.cost,g=s[d]||{};for(c in g)g.hasOwnProperty(c)&&(u=g[c],f=w+u,y=i[c],k=typeof i[c]>"u",(k||y>f)&&(i[c]=f,a.push(c,f),e[c]=d))}if(typeof o<"u"&&typeof i[o]>"u"){var m=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(m)}return e},extract_shortest_path_from_predecessor_list:function(s,r){for(var o=[],e=r;e;)o.push(e),s[e],e=s[e];return o.reverse(),o},find_path:function(s,r,o){var e=t.single_source_shortest_paths(s,r,o);return t.extract_shortest_path_from_predecessor_list(e,o)},PriorityQueue:{make:function(s){var r=t.PriorityQueue,o={},e;s=s||{};for(e in r)r.hasOwnProperty(e)&&(o[e]=r[e]);return o.queue=[],o.sorter=s.sorter||r.default_sorter,o},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var o={value:s,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(at);var yn=at.exports;(function(n){const t=K,s=un,r=dn,o=hn,e=pn,i=z,a=U,l=yn;function d(m){return unescape(encodeURIComponent(m)).length}function c(m,E,C){const _=[];let S;for(;(S=m.exec(C))!==null;)_.push({data:S[0],index:S.index,mode:E,length:S[0].length});return _}function w(m){const E=c(i.NUMERIC,t.NUMERIC,m),C=c(i.ALPHANUMERIC,t.ALPHANUMERIC,m);let _,S;return a.isKanjiModeEnabled()?(_=c(i.BYTE,t.BYTE,m),S=c(i.KANJI,t.KANJI,m)):(_=c(i.BYTE_KANJI,t.BYTE,m),S=[]),E.concat(C,_,S).sort(function(L,h){return L.index-h.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function g(m,E){switch(E){case t.NUMERIC:return s.getBitsLength(m);case t.ALPHANUMERIC:return r.getBitsLength(m);case t.KANJI:return e.getBitsLength(m);case t.BYTE:return o.getBitsLength(m)}}function u(m){return m.reduce(function(E,C){const _=E.length-1>=0?E[E.length-1]:null;return _&&_.mode===C.mode?(E[E.length-1].data+=C.data,E):(E.push(C),E)},[])}function f(m){const E=[];for(let C=0;C<m.length;C++){const _=m[C];switch(_.mode){case t.NUMERIC:E.push([_,{data:_.data,mode:t.ALPHANUMERIC,length:_.length},{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.ALPHANUMERIC:E.push([_,{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.KANJI:E.push([_,{data:_.data,mode:t.BYTE,length:d(_.data)}]);break;case t.BYTE:E.push([{data:_.data,mode:t.BYTE,length:d(_.data)}])}}return E}function y(m,E){const C={},_={start:{}};let S=["start"];for(let B=0;B<m.length;B++){const L=m[B],h=[];for(let b=0;b<L.length;b++){const T=L[b],M=""+B+b;h.push(M),C[M]={node:T,lastCount:0},_[M]={};for(let F=0;F<S.length;F++){const j=S[F];C[j]&&C[j].node.mode===T.mode?(_[j][M]=g(C[j].lastCount+T.length,T.mode)-g(C[j].lastCount,T.mode),C[j].lastCount+=T.length):(C[j]&&(C[j].lastCount=T.length),_[j][M]=g(T.length,T.mode)+4+t.getCharCountIndicator(T.mode,E))}}S=h}for(let B=0;B<S.length;B++)_[S[B]].end=0;return{map:_,table:C}}function k(m,E){let C;const _=t.getBestModeForData(m);if(C=t.from(E,_),C!==t.BYTE&&C.bit<_.bit)throw new Error('"'+m+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(_));switch(C===t.KANJI&&!a.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new s(m);case t.ALPHANUMERIC:return new r(m);case t.KANJI:return new e(m);case t.BYTE:return new o(m)}}n.fromArray=function(E){return E.reduce(function(C,_){return typeof _=="string"?C.push(k(_,null)):_.data&&C.push(k(_.data,_.mode)),C},[])},n.fromString=function(E,C){const _=w(E,a.isKanjiModeEnabled()),S=f(_),B=y(S,C),L=l.find_path(B.map,"start","end"),h=[];for(let b=1;b<L.length-1;b++)h.push(B.table[L[b]].node);return n.fromArray(u(h))},n.rawSplit=function(E){return n.fromArray(w(E,a.isKanjiModeEnabled()))}})(st);const _e=U,Ee=ve,vn=Xt,bn=Zt,wn=Ge,_n=Xe,Be=Ze,Ae=be,Cn=en,ge=tt,En=ot,kn=K,ke=st;function xn(n,t){const s=n.size,r=_n.getPositions(t);for(let o=0;o<r.length;o++){const e=r[o][0],i=r[o][1];for(let a=-1;a<=7;a++)if(!(e+a<=-1||s<=e+a))for(let l=-1;l<=7;l++)i+l<=-1||s<=i+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(e+a,i+l,!0,!0):n.set(e+a,i+l,!1,!0))}}function Sn(n){const t=n.size;for(let s=8;s<t-8;s++){const r=s%2===0;n.set(s,6,r,!0),n.set(6,s,r,!0)}}function Tn(n,t){const s=wn.getPositions(t);for(let r=0;r<s.length;r++){const o=s[r][0],e=s[r][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?n.set(o+i,e+a,!0,!0):n.set(o+i,e+a,!1,!0)}}function Bn(n,t){const s=n.size,r=ge.getEncodedBits(t);let o,e,i;for(let a=0;a<18;a++)o=Math.floor(a/3),e=a%3+s-8-3,i=(r>>a&1)===1,n.set(o,e,i,!0),n.set(e,o,i,!0)}function xe(n,t,s){const r=n.size,o=En.getEncodedBits(t,s);let e,i;for(e=0;e<15;e++)i=(o>>e&1)===1,e<6?n.set(e,8,i,!0):e<8?n.set(e+1,8,i,!0):n.set(r-15+e,8,i,!0),e<8?n.set(8,r-e-1,i,!0):e<9?n.set(8,15-e-1+1,i,!0):n.set(8,15-e-1,i,!0);n.set(r-8,8,1,!0)}function An(n,t){const s=n.size;let r=-1,o=s-1,e=7,i=0;for(let a=s-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(o,a-l)){let d=!1;i<t.length&&(d=(t[i]>>>e&1)===1),n.set(o,a-l,d),e--,e===-1&&(i++,e=7)}if(o+=r,o<0||s<=o){o-=r,r=-r;break}}}function Nn(n,t,s){const r=new vn;s.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),kn.getCharCountIndicator(l.mode,n)),l.write(r)});const o=_e.getSymbolTotalCodewords(n),e=Ae.getTotalCodewordsCount(n,t),i=(o-e)*8;for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(i-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Mn(r,n,t)}function Mn(n,t,s){const r=_e.getSymbolTotalCodewords(t),o=Ae.getTotalCodewordsCount(t,s),e=r-o,i=Ae.getBlocksCount(t,s),a=r%i,l=i-a,d=Math.floor(r/i),c=Math.floor(e/i),w=c+1,g=d-c,u=new Cn(g);let f=0;const y=new Array(i),k=new Array(i);let m=0;const E=new Uint8Array(n.buffer);for(let L=0;L<i;L++){const h=L<l?c:w;y[L]=E.slice(f,f+h),k[L]=u.encode(y[L]),f+=h,m=Math.max(m,h)}const C=new Uint8Array(r);let _=0,S,B;for(S=0;S<m;S++)for(B=0;B<i;B++)S<y[B].length&&(C[_++]=y[B][S]);for(S=0;S<g;S++)for(B=0;B<i;B++)C[_++]=k[B][S];return C}function Pn(n,t,s,r){let o;if(Array.isArray(n))o=ke.fromArray(n);else if(typeof n=="string"){let d=t;if(!d){const c=ke.rawSplit(n);d=ge.getBestVersionForData(c,s)}o=ke.fromString(n,d||40)}else throw new Error("Invalid data");const e=ge.getBestVersionForData(o,s);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=e;else if(t<e)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+e+`.
`);const i=Nn(t,s,o),a=_e.getSymbolSize(t),l=new bn(a);return xn(l,t),Sn(l),Tn(l,t),xe(l,s,0),t>=7&&Bn(l,t),An(l,i),isNaN(r)&&(r=Be.getBestMask(l,xe.bind(null,l,s))),Be.applyMask(r,l),xe(l,s,r),{modules:l,version:t,errorCorrectionLevel:s,maskPattern:r,segments:o}}Ye.create=function(t,s){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Ee.M,o,e;return typeof s<"u"&&(r=Ee.from(s.errorCorrectionLevel,Ee.M),o=ge.from(s.version),e=Be.from(s.maskPattern),s.toSJISFunc&&_e.setToSJISFunction(s.toSJISFunc)),Pn(t,o,r,e)};var it={},$e={};(function(n){function t(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(e){return[e,e]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,e=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:e,scale:e?4:i,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},n.getImageWidth=function(r,o){const e=n.getScale(r,o);return Math.floor((r+o.margin*2)*e)},n.qrToImageData=function(r,o,e){const i=o.modules.size,a=o.modules.data,l=n.getScale(i,e),d=Math.floor((i+e.margin*2)*l),c=e.margin*l,w=[e.color.light,e.color.dark];for(let g=0;g<d;g++)for(let u=0;u<d;u++){let f=(g*d+u)*4,y=e.color.light;if(g>=c&&u>=c&&g<d-c&&u<d-c){const k=Math.floor((g-c)/l),m=Math.floor((u-c)/l);y=w[a[k*i+m]?1:0]}r[f++]=y.r,r[f++]=y.g,r[f++]=y.b,r[f]=y.a}}})($e);(function(n){const t=$e;function s(o,e,i){o.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(e,i,a){let l=a,d=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(d=r()),l=t.getOptions(l);const c=t.getImageWidth(e.modules.size,l),w=d.getContext("2d"),g=w.createImageData(c,c);return t.qrToImageData(g.data,e,l),s(w,d,c),w.putImageData(g,0,0),d},n.renderToDataURL=function(e,i,a){let l=a;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const d=n.render(e,i,l),c=l.type||"image/png",w=l.rendererOpts||{};return d.toDataURL(c,w.quality)}})(it);var lt={};const Ln=$e;function je(n,t){const s=n.a/255,r=t+'="'+n.hex+'"';return s<1?r+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':r}function Se(n,t,s){let r=n+t;return typeof s<"u"&&(r+=" "+s),r}function In(n,t,s){let r="",o=0,e=!1,i=0;for(let a=0;a<n.length;a++){const l=Math.floor(a%t),d=Math.floor(a/t);!l&&!e&&(e=!0),n[a]?(i++,a>0&&l>0&&n[a-1]||(r+=e?Se("M",l+s,.5+d+s):Se("m",o,0),o=0,e=!1),l+1<t&&n[a+1]||(r+=Se("h",i),i=0)):o++}return r}lt.render=function(t,s,r){const o=Ln.getOptions(s),e=t.modules.size,i=t.modules.data,a=e+o.margin*2,l=o.color.light.a?"<path "+je(o.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",d="<path "+je(o.color.dark,"stroke")+' d="'+In(i,e,o.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof r=="function"&&r(null,g),g};const Rn=Qt,Ne=Ye,ut=it,$n=lt;function De(n,t,s,r,o){const e=[].slice.call(arguments,1),i=e.length,a=typeof e[i-1]=="function";if(!a&&!Rn())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(o=s,s=t,t=r=void 0):i===3&&(t.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=s,s=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(s=t,t=r=void 0):i===2&&!t.getContext&&(r=s,s=t,t=void 0),new Promise(function(l,d){try{const c=Ne.create(s,r);l(n(c,t,r))}catch(c){d(c)}})}try{const l=Ne.create(s,r);o(null,n(l,t,r))}catch(l){o(l)}}oe.create=Ne.create;oe.toCanvas=De.bind(null,ut.render);oe.toDataURL=De.bind(null,ut.renderToDataURL);oe.toString=De.bind(null,function(n,t,s){return $n.render(n,s)});const ct={__name:"Dialog",setup(n){return(t,s)=>(x(),D(v(wt),null,{default:N(()=>[Z(t.$slots,"default")]),_:3}))}},dt={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const s=n,o=_t(t);return(e,i)=>(x(),D(v(St),null,{default:N(()=>[A(v(Ct),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),A(v(Et),ne({class:v(me)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",s.class)},{...s,...v(o)}),{default:N(()=>[Z(e.$slots,"default"),A(v(kt),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:N(()=>[A(v(xt),{class:"w-4 h-4"}),i[0]||(i[0]=p("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}},Dn={class:"space-y-6 py-4"},Un={class:"flex flex-col items-center space-y-4"},Fn=["src","alt"],On={class:"flex flex-col gap-2"},zn={class:"flex-1 bg-gray-100 p-2 px-3 rounded-full text-sm max-w-80 overflow-auto"},jn={class:"flex items-center justify-center gap-2"},qn={__name:"QRCodeDialog",props:{visible:{type:Boolean,default:!1},shortUrl:{type:String,default:""}},emits:["update:visible"],setup(n,{emit:t}){const s=n,r=t,{toast:o}=Tt(),e=R(""),i=R(256),a=R(!1),l=async()=>{if(s.shortUrl){a.value=!0;try{const g={width:i.value,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"};e.value=await oe.toDataURL(s.shortUrl,g)}catch(g){console.error("çæQRç å¤±è´¥:",g),o({title:"Generation failed",description:"QR code generation failed, please try again.",variant:"destructive",class:"rounded-2xl"})}finally{a.value=!1}}};de(()=>s.shortUrl,l,{immediate:!0}),de(()=>i.value,l);const d=()=>{if(!e.value)return;const g=document.createElement("a");g.download=`qrcode-${s.shortUrl.replace(/[^a-zA-Z0-9]/g,"_")}.png`,g.href=e.value,document.body.appendChild(g),g.click(),document.body.removeChild(g)},c=async()=>{try{await navigator.clipboard.writeText(s.shortUrl),o({title:"Copy successful.",description:"Short link copied to clipboard.",class:"rounded-2xl"})}catch(g){console.error("å¤å¶é¾æ¥å¤±è´¥:",g),o({title:"Copy failed",description:"Link copy failed, please copy manually.",variant:"destructive",class:"rounded-2xl"})}},w=()=>{r("update:visible",!1)};return(g,u)=>(x(),D(v(ct),{open:n.visible,"onUpdate:open":w},{default:N(()=>[A(v(dt),{class:"max-w-xl shadow-none border-0 bg-transparent"},{default:N(()=>[p("div",Dn,[p("div",Un,[a.value?(x(),P("div",{key:0,class:"flex items-center justify-center",style:ie({width:i.value+"px",height:i.value+"px"})},[...u[0]||(u[0]=[p("div",{class:"flex flex-col items-center gap-2"},[p("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-2xl"}),p("span",{class:"text-sm text-gray-500"},"Generating...")],-1)])],4)):e.value?(x(),P("img",{key:1,src:e.value,alt:n.shortUrl,class:"block mx-auto transition-all",style:ie({width:i.value+"px",height:i.value+"px"})},null,12,Fn)):(x(),P("div",{key:2,class:"flex items-center justify-center bg-gray-100 rounded",style:ie({width:i.value+"px",height:i.value+"px"})},[...u[1]||(u[1]=[p("span",{class:"text-gray-500"},"No QR code available.",-1)])],4)),p("div",On,[p("code",zn,I(n.shortUrl),1),p("div",jn,[A(v($),{variant:"outline",onClick:c,size:"sm",class:"rounded-full"},{default:N(()=>[...u[2]||(u[2]=[p("i",{class:"icon-[material-symbols--content-copy] mr-1"},null,-1),J(" å¤å¶ ",-1)])]),_:1}),A(v($),{variant:"outline",onClick:d,size:"sm",class:"rounded-full"},{default:N(()=>[...u[3]||(u[3]=[p("i",{class:"icon-[material-symbols--download] mr-1 text-lg"},null,-1),J(" ä¸è½½ ",-1)])]),_:1})])])])])]),_:1})]),_:1},8,["open"]))}},Vn={class:"p-5"},Hn={class:"flex flex-col space-y-2"},Jn={class:"flex flex-col space-y-1 min-w-0 flex-1"},Kn={class:"flex items-center justify-between"},Yn={class:"font-semibold truncate text-blue-500 hover:underline"},Qn={class:"flex items-center space-x-1 ml-3"},Gn={key:0,class:"icon-[material-symbols--content-copy-outline-rounded] h-4 w-4"},Xn={key:1,class:"icon-[material-symbols--check] h-4 w-4"},Zn={key:2,class:"icon-[material-symbols--close] h-4 w-4"},Wn={class:"flex items-center text-xs text-muted-foreground space-x-1"},eo={class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},to={key:0,class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},no={__name:"SlugCard",props:{item:{type:Object,required:!0}},emits:["refresh"],setup(n,{emit:t}){const s=t,o=R(n.item),e=`${location.protocol}//${location.host}/${o.value.slug}`,i=R(null),a=async()=>{Vt(e,void 0,(g,u)=>{i.value=!g}),setTimeout(()=>{i.value=null},1e3)},l=R(!1),d=[{name:"Edit",icon:"icon-[material-symbols--edit-document-outline]",operate:"edit"},{name:"QR Code",icon:"icon-[material-symbols--qr-code]",operate:"qr-code"},{name:"Duplicate",icon:"icon-[material-symbols--file-copy-outline]",operate:"duplicate"},{name:"Delete",icon:"icon-[material-symbols--delete-outline]",operate:"delete",class:"!text-destructive hover:!bg-destructive hover:!text-destructive-foreground"}],c=()=>{s("refresh"),V({title:"æä½æå",description:`ç­é¾æ¥ ${o.value.slug} å·²æ´æ°`,class:"rounded-2xl"})},w=async g=>{switch(g){case"edit":fe({...o.value,value:void 0,key:void 0}).then(c).catch(()=>{});break;case"duplicate":fe({...o.value,value:void 0,key:void 0,creation:void 0,slug:`${o.value.slug}-copy`}).then(c).catch(()=>{});break;case"qr-code":l.value=!0;break;case"delete":fetch("/api/?action=delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:o.value.slug})}).then(u=>u.json()).then(u=>{console.log(u),u.code===0?(V({title:"å é¤æå",description:`ç­é¾æ¥ ${o.value.slug} å·²å é¤`,class:"rounded-2xl"}),s("refresh")):V({title:"å é¤å¤±è´¥",description:u.msg||"å é¤æä½å¤±è´¥ï¼è¯·éè¯",variant:"destructive",class:"rounded-2xl"})}).catch(()=>{V({title:"å é¤å¤±è´¥",description:"ç½ç»éè¯¯ï¼è¯·éè¯",variant:"destructive",class:"rounded-2xl"})});break;default:Bt({title:"Error",description:"Unknown operate"});break}};return(g,u)=>(x(),D(v(Dt),{class:"transition-all duration-200 rounded-xl shadow-sm hover:shadow-md border-border"},{default:N(()=>[p("div",Vn,[p("div",Hn,[p("div",Jn,[p("div",Kn,[p("h3",Yn,[p("a",{href:e,target:"_blank"},I(o.value.displayName||o.value.slug),1)]),p("div",Qn,[A(v($),{variant:"ghost",size:"icon",onClick:a,class:q(["h-6 w-6 shrink-0 text-muted-foreground",i.value&&"!text-green-600 !bg-green-50"])},{default:N(()=>[i.value==null?(x(),P("i",Gn)):i.value?(x(),P("i",Xn)):(x(),P("i",Zn))]),_:1},8,["class"]),A(v(Ht),null,{default:N(()=>[A(v(Jt),{"as-child":""},{default:N(()=>[A(v($),{variant:"ghost",size:"icon",class:"h-6 w-6 shrink-0 text-muted-foreground hover:text-foreground"},{default:N(()=>[...u[2]||(u[2]=[p("i",{class:"icon-[material-symbols--more-vert] h-4 w-4"},null,-1)])]),_:1})]),_:1}),A(v(Kt),{align:"end",class:"shadow-sm"},{default:N(()=>[(x(),P(pe,null,ye(d,f=>A(v(Yt),{key:f.operate,class:q(["flex items-center gap-2 cursor-pointer text-muted-foreground",f.class]),onClick:y=>w(f.operate)},{default:N(()=>[p("i",{class:q(f.icon+" h-4 w-4")},null,2),p("span",null,I(f.name),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})])]),p("p",{class:"text-xs text-muted-foreground truncate",onClick:u[0]||(u[0]=f=>w("edit"))},I(o.value.url),1)]),p("div",Wn,[p("span",eo,I(o.value.mode),1),o.value.displayName?(x(),P("span",to,I(o.value.slug),1)):W("",!0)])])]),A(qn,{visible:l.value,"onUpdate:visible":u[1]||(u[1]=f=>l.value=f),"short-url":e},null,8,["visible"])]),_:1}))}},qe={__name:"Textarea",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(n,{emit:t}){const s=n,o=Ut(s,"modelValue",t,{passive:!0,defaultValue:s.defaultValue});return(e,i)=>At((x(),P("textarea",{"onUpdate:modelValue":i[0]||(i[0]=a=>Mt(o)?o.value=a:null),class:q(v(me)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e.$attrs.class??""))},null,2)),[[Nt,v(o)]])}},oo={class:"space-y-6"},ro={class:"relative"},so={class:"absolute bottom-2 left-2 right-2 flex"},ao={class:"flex gap-1 bg-white/60 backdrop-blur rounded-full overflow-auto"},io={key:0,class:"icon-[material-symbols--refresh] animate-spin"},lo={key:1,class:"icon-[material-symbols--flash-on] text-sm"},uo={class:"flex"},co={class:"flex w-full max-w-80 relative rounded-full border border-input shadow-sm bg-slate-100"},fo={key:0,class:"icon-[material-symbols--autorenew-outline-rounded] text-base"},ho={key:1,class:"icon-[material-symbols--progress-activity] animate-spin text-base"},go={class:"grid gap-4 grid-cols-1 sm:grid-cols-2"},mo={class:"space-y-2"},po={class:"space-y-2"},yo={class:"space-y-2"},vo={__name:"CreateLinkDialog",setup(n){const{t}=Me(),s=location.host,r=R({randomize:!1,create:!1}),o=R(!1),e=Ue({get:()=>O.value.formData,set:u=>{O.value.formData=u}}),i=Ue(()=>e.value.url&&e.value.url.trim()),a=async()=>{r.value.randomize=!0;try{const u=await fetch("/api/?action=randomize",{method:"POST",headers:{"Content-Type":"application/json"}}),{data:f}=await u.json();setTimeout(()=>{e.value={...e.value,slug:f}},500)}catch(u){console.error("Failed to generate slug:",u),V({title:t("messages.generateFailed"),description:t("messages.generateFailedDesc"),variant:"destructive",class:"rounded-2xl"})}finally{setTimeout(()=>{r.value.randomize=!1},500)}},l=u=>{e.value={...e.value,mode:u}},d=async()=>{if(i.value){r.value.create=!0;try{const f=await(await fetch("/api/?action=save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)})).json();f.code===0?(V({title:e.value.creation?t("messages.updateSuccess"):t("messages.createSuccess"),description:e.value.creation?t("messages.linkUpdated",{slug:e.value.slug}):t("messages.linkCreated",{slug:e.value.slug}),class:"rounded-2xl"}),Fe(!0)):V({title:e.value.creation?t("messages.updateFailed"):t("messages.createFailed"),description:f.msg||t("messages.operationFailed"),variant:"destructive",class:"rounded-2xl"})}catch(u){V({title:t("messages.operationFailed"),description:t("messages.networkError"),variant:"destructive",class:"rounded-2xl"}),console.error("Network error:",u)}finally{r.value.create=!1}}};let c=R(""),w=R(null);const g=()=>{if(!w.value)return;const u=w.value.scrollHeight;c.value=u+10,o.value=!o.value};return de(()=>e.value,u=>{O.value.isCreate&&!u.creation&&!u.slug&&Pt(()=>{a()})},{immediate:!0}),(u,f)=>(x(),D(v(ct),{open:v(O).visible,"onUpdate:open":f[5]||(f[5]=y=>!y&&v(Fe)(!1))},{default:N(()=>[A(v(dt),{class:"max-w-2xl max-h-[90vh] overflow-y-auto shadow-none p-2 border-0 bg-transparent"},{default:N(()=>[p("form",{onSubmit:le(d,["prevent"]),class:"space-y-6"},[p("div",oo,[p("div",ro,[A(v(qe),{id:"url","model-value":e.value.url,"onUpdate:modelValue":f[0]||(f[0]=y=>e.value={...e.value,url:y}),placeholder:v(t)("shortLink.urlPlaceholder"),class:"resize-none rounded-2xl pb-10",rows:4,disabled:r.value.create},null,8,["model-value","placeholder","disabled"]),p("div",so,[p("div",ao,[(x(!0),P(pe,null,ye(v(Pe)(),y=>(x(),D(v($),{key:y.value,value:y.value,onClick:le(k=>l(y.value),["prevent"]),variant:e.value.mode===y.value?"default":"outline",class:"rounded-full text-xs h-7 border-0 shadow-none shrink-0"},{default:N(()=>[J(I(y.label),1)]),_:2},1032,["value","onClick","variant"]))),128))]),f[6]||(f[6]=p("div",{class:"flex-1 mx-2"},null,-1)),A(v($),{type:"submit",disabled:!i.value||r.value.create,class:"rounded-full h-7 self-end gap-2 shrink-0"},{default:N(()=>[r.value.create?(x(),P("i",io)):(x(),P("i",lo)),J(" "+I(e.value.creation?v(t)("common.update"):v(t)("common.create")),1)]),_:1},8,["disabled"])])]),p("div",uo,[p("div",co,[p("div",{class:q(["flex items-center h-9 px-3 pr-2 text-sm",e.value.creation&&"text-slate-500"])},I(v(s)),3),A(v(ue),{type:"text",class:q(["rounded-full shadow-none border-0 !bg-white !pl-2 pr-10",e.value.creation&&"!opacity-100 text-slate-500"]),"model-value":e.value.slug,"onUpdate:modelValue":f[1]||(f[1]=y=>e.value={...e.value,slug:y}),placeholder:v(t)("shortLink.slugPlaceholder"),disabled:e.value.creation,required:"",pattern:"[a-zA-Z0-9_\\-.]{1,24}"},null,8,["class","model-value","placeholder","disabled"]),A(v($),{type:"button",variant:"outline",size:"icon",class:"rounded-full absolute top-1/2 right-2 -translate-y-1/2 w-6 h-6 flex-shrink-0 active:scale-95",disabled:e.value.creation,onClick:le(a,["prevent"])},{default:N(()=>[r.value.randomize?(x(),P("i",ho)):(x(),P("i",fo))]),_:1},8,["disabled"])]),f[7]||(f[7]=p("div",{class:"flex-1"},null,-1)),A(v($),{variant:"text",type:"button",class:"shrink-0 self-end text-xs rounded-full",onClick:g},{default:N(()=>[J(I(v(t)("shortLink.advancedSettings"))+" ",1),p("i",{class:q(["icon-[material-symbols--expand-more] transition-transform text-lg -mr-1",o.value&&"rotate-180"])},null,2)]),_:1})]),p("div",{ref_key:"advancedArea",ref:w,class:q(["space-y-4 overflow-hidden transition-all px-2 -mx-2",o.value&&"py-1"]),style:ie({height:o.value?v(c)+"px":"0"})},[p("div",go,[p("div",mo,[A(v(ue),{id:"displayName",class:"rounded-full","model-value":e.value.displayName,"onUpdate:modelValue":f[2]||(f[2]=y=>e.value={...e.value,displayName:y}),placeholder:v(t)("shortLink.displayNamePlaceholder"),disabled:r.value.create},null,8,["model-value","placeholder","disabled"])]),p("div",po,[A(v(ue),{id:"passcode",class:"rounded-full","model-value":e.value.passcode,"onUpdate:modelValue":f[3]||(f[3]=y=>e.value={...e.value,passcode:y}),placeholder:v(t)("shortLink.passcodePlaceholder"),type:"password",disabled:r.value.create},null,8,["model-value","placeholder","disabled"])])]),p("div",yo,[A(v(qe),{id:"notes","model-value":e.value.notes,"onUpdate:modelValue":f[4]||(f[4]=y=>e.value={...e.value,notes:y}),placeholder:v(t)("shortLink.notesPlaceholder"),class:"rounded-2xl resize-none",rows:"4",disabled:r.value.create},null,8,["model-value","placeholder","disabled"])])],6)])],32)]),_:1})]),_:1},8,["open"]))}},bo={class:"w-full"},wo={key:0,class:"mb-6 p-4 bg-muted/50 rounded-lg"},_o={class:"flex items-center justify-between"},Co={class:"text-sm text-muted-foreground"},Eo={key:0},ko={key:1},xo={key:2},So={key:1,class:"mb-6 text-center text-muted-foreground"},To={class:"flex items-center justify-center gap-2"},Bo={key:2,class:"text-center py-24"},Ao={class:"max-w-md mx-auto space-y-6"},No={class:"space-y-2"},Mo={class:"text-xl font-semibold tracking-tight"},Po={class:"text-muted-foreground"},Lo={key:0},Io={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Ro={key:4,class:"mt-8 text-center"},$o={key:0,class:"flex items-center justify-center gap-2 py-4 text-muted-foreground"},Do={key:1,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Uo={key:2,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Fo={__name:"SlugItems",setup(n,{expose:t}){const{t:s}=Me(),r=R(!1),o=R(!1),e=R([]),i=R({count:0,page:1,rows:10}),a=R(""),l=R("all"),d=R(!0),c=async(k="",m="all")=>{const E=Math.random().toString(36).substring(2);r.value=!0,i.value.page=1,e.value=[],d.value=!0;const C={rows:i.value.rows,page:i.value.page};k&&(C.search=k),m&&m!=="all"&&(C.mode=m),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then(_=>_.json()).then(({data:_})=>{const{count:S,results:B}=_||{};i.value.count=S;const L=(B||[]).map(h=>{let b={};try{b=JSON.parse(h.value)}catch(T){console.log(T)}return{...h,...b,oid:E+h.key}});e.value=L,d.value=L.length===i.value.rows&&e.value.length<S}).finally(()=>{r.value=!1})},w=async()=>{if(o.value||!d.value)return;o.value=!0,i.value.page+=1;const k={rows:i.value.rows,page:i.value.page};a.value&&(k.search=a.value),l.value&&l.value!=="all"&&(k.mode=l.value),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}).then(m=>m.json()).then(({data:m})=>{const{results:E}=m||{},C=Math.random().toString(36).substring(2),_=(E||[]).map(S=>{let B={};try{B=JSON.parse(S.value)}catch(L){console.log(L)}return{...S,...B,oid:C+S.key}});_.length>0?(e.value.push(..._),d.value=_.length===i.value.rows&&e.value.length<i.value.count):d.value=!1}).finally(()=>{o.value=!1})},g=(k,m="all")=>{a.value=k,l.value=m,c(k,m)},u=(k,m)=>{a.value=k,l.value=m,c(k,m)},f=k=>{const m=Pe().find(E=>E.value===k);return m?m.label:k},y=()=>{const{scrollTop:k,scrollHeight:m,clientHeight:E}=document.documentElement;k+E>=m-200&&d.value&&!o.value&&!r.value&&w()};return Lt(()=>{c(),window.addEventListener("scroll",y)}),It(()=>{window.removeEventListener("scroll",y)}),t({refresh:c,search:g,filter:u}),(k,m)=>(x(),P("div",bo,[a.value?(x(),P("div",wo,[p("div",_o,[p("div",Co,[a.value&&l.value!=="all"?(x(),P("span",Eo,I(v(s)("table.searchInType",{query:a.value,type:f(l.value),count:i.value.count})),1)):a.value?(x(),P("span",ko,I(v(s)("table.searchResults",{query:a.value,count:i.value.count})),1)):l.value!=="all"?(x(),P("span",xo,I(v(s)("table.filterResults",{type:f(l.value),count:i.value.count})),1)):W("",!0)])])])):W("",!0),r.value?(x(),P("div",So,[p("div",To,[m[1]||(m[1]=p("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"},null,-1)),p("span",null,I(v(s)("table.searching")),1)])])):e.value.length===0?(x(),P("div",Bo,[p("div",Ao,[m[3]||(m[3]=p("div",{class:"w-20 h-20 mx-auto rounded-full bg-muted flex items-center justify-center"},[p("i",{class:"icon-[material-symbols--link] h-10 w-10 text-muted-foreground"})],-1)),p("div",No,[p("h3",Mo,I(a.value||l.value!=="all"?v(s)("table.noResults"):v(s)("table.noData")),1),p("p",Po,I(a.value||l.value!=="all"?v(s)("table.tryAdjustFilters"):v(s)("table.createFirstLink")),1)]),a.value||l.value!=="all"?W("",!0):(x(),P("div",Lo,[A(v($),{onClick:v(fe),class:"gap-2"},{default:N(()=>[m[2]||(m[2]=p("i",{class:"icon-[material-symbols--add] h-4 w-4"},null,-1)),J(" "+I(v(s)("table.createLink")),1)]),_:1},8,["onClick"])]))])])):(x(),P("div",Io,[(x(!0),P(pe,null,ye(e.value,E=>(x(),D(no,ne({key:E.oid},{ref_for:!0},{item:E},{onRefresh:m[0]||(m[0]=()=>c(a.value,l.value))}),null,16))),128))])),e.value.length>0?(x(),P("div",Ro,[o.value?(x(),P("div",$o,[m[4]||(m[4]=p("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"},null,-1)),p("span",null,I(v(s)("table.loadingMore")),1)])):d.value?(x(),P("div",Uo,[m[6]||(m[6]=p("i",{class:"icon-[material-symbols--keyboard-arrow-down] h-4 w-4 mr-1"},null,-1)),J(" "+I(v(s)("table.scrollToLoadMore")),1)])):(x(),P("div",Do,[m[5]||(m[5]=p("i",{class:"icon-[material-symbols--check-circle] h-4 w-4 mr-1"},null,-1)),J(" "+I(v(s)("table.allRecordsShown",{count:e.value.length})),1)]))])):W("",!0),A(vo)]))}},Oo={class:"min-h-screen bg-background"},zo={class:"border-b border-border"},jo={class:"container px-4 h-32 flex flex-col"},qo={class:"flex h-16 items-center justify-between"},Vo={class:"flex items-center gap-4"},Ho={class:"text-xl font-semibold tracking-tight"},Jo={class:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1"},Ko={class:"flex items-start gap-1"},Yo={class:"flex overflow-auto -ml-2"},Qo={class:"flex items-center gap-2"},Go={class:"flex items-center gap-2"},Xo={class:"container p-4"},tr={__name:"Manage",setup(n){const{t}=Me();$t();const s=location.host,r=R(null),o=R(!1),e=R(""),i=R(""),a=R("all"),l=()=>{fe().then(()=>{r.value&&r.value.refresh(e.value.trim(),a.value)}).catch(()=>{})},d=()=>{r.value&&e.value.trim()!==i.value&&(i.value=e.value.trim(),r.value.search(i.value,a.value))},c=()=>{e.value="",i.value="",r.value&&r.value.search("",a.value)},w=u=>{a.value=u,r.value&&r.value.filter(e.value.trim(),u)};de(e,u=>{!u.trim()&&i.value&&c()});const g=[{value:"all",label:t("common.all")},...Pe()];return(u,f)=>(x(),P("div",Oo,[p("div",zo,[p("div",jo,[p("div",qo,[p("div",Vo,[p("h1",Ho,I(v(s)),1),A(Ft)]),p("form",{class:"relative flex-1 ml-2 max-w-80",onSubmit:le(d,["prevent"])},[A(v(ue),{id:"search",modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=y=>e.value=y),onFocus:f[1]||(f[1]=y=>o.value=!0),onBlur:f[2]||(f[2]=y=>o.value=!1),onKeydown:Rt(d,["enter"]),placeholder:v(t)("shortLink.searchPlaceholder"),autocomplete:"off",class:"rounded-full pr-10"},null,8,["modelValue","placeholder"]),p("div",Jo,[e.value?(x(),D(v($),{key:0,type:"button",variant:"ghost",size:"icon",class:"rounded-full h-6 w-6",onClick:c},{default:N(()=>[...f[3]||(f[3]=[p("i",{class:"icon-[material-symbols--close] h-4 w-4"},null,-1)])]),_:1})):(x(),D(v($),{key:1,type:"button",variant:"ghost",size:"icon",class:"rounded-full h-6 w-6",onClick:d},{default:N(()=>[...f[4]||(f[4]=[p("i",{class:"icon-[material-symbols--search] h-5 w-5"},null,-1)])]),_:1}))])],32)]),f[7]||(f[7]=p("div",{class:"flex-1"},null,-1)),p("div",Ko,[p("div",Yo,[(x(),P(pe,null,ye(g,y=>p("div",{key:y.value,class:"shrink-0"},[A(v($),{variant:"text",size:"sm",class:"gap-2 h-7 rounded-full shrink-0",onClick:k=>w(y.value)},{default:N(()=>[p("div",Qo,[p("span",null,I(y.label),1)])]),_:2},1032,["onClick"]),p("div",{class:q(["mt-1 h-0.5 w-0 mx-auto rounded-lg transition-all",{"bg-black !w-6":a.value==y.value}])},null,2)])),64))]),f[6]||(f[6]=p("div",{class:"flex-1"},null,-1)),p("div",Go,[A(v($),{onClick:l,size:"sm",class:"gap-1 h-7 rounded-full"},{default:N(()=>[f[5]||(f[5]=p("i",{class:"icon-[material-symbols--flash-on] text-sm"},null,-1)),p("span",null,I(v(t)("common.create")),1)]),_:1})])])])]),p("main",Xo,[A(Fo,{ref_key:"table",ref:r},null,512)])]))}};export{tr as default};
