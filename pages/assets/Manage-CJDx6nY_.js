import{S as Ve,d as $,o as x,w as N,g as Z,h as ft,i as ht,e as p,j as gt,m as oe,k as mt,b as L,l as pt,p as pe,q as yt,v as vt,s as bt,r as R,x as wt,T as _t,$ as Ct,P as kt,X as Et,a as y,y as xt,I as St,z as Tt,A as fe,c as A,B as le,t as I,f as J,n as q,F as ye,C as ve,D as W,E as Bt,G as V,H as At,J as Nt,K as Mt,u as Pe,L as ee,M as Pt,N as ue,O as Lt,Q as It,R as Rt,U as $t}from"./index-CJQRrik2.js";import{a as D,b as Dt,u as Ut,_ as ce}from"./Input-TiF14Nh7.js";import{_ as Ft}from"./LanguageSwitcher-C9iF7opo.js";function de(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?de=function(e){return typeof e}:de=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(n)}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jt(n,e){return e={exports:{}},n(e,e.exports),e.exports}var He=jt(function(n,e){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */(function(s,i){n.exports=i()})(Ot,function(){return o={},s.m=i=[function(t,a){t.exports=function(r){var l;if(r.nodeName==="SELECT")r.focus(),l=r.value;else if(r.nodeName==="INPUT"||r.nodeName==="TEXTAREA"){var d=r.hasAttribute("readonly");d||r.setAttribute("readonly",""),r.select(),r.setSelectionRange(0,r.value.length),d||r.removeAttribute("readonly"),l=r.value}else{r.hasAttribute("contenteditable")&&r.focus();var u=window.getSelection(),_=document.createRange();_.selectNodeContents(r),u.removeAllRanges(),u.addRange(_),l=u.toString()}return l}},function(t,a){function r(){}r.prototype={on:function(l,d,u){var _=this.e||(this.e={});return(_[l]||(_[l]=[])).push({fn:d,ctx:u}),this},once:function(l,d,u){var _=this;function f(){_.off(l,f),d.apply(u,arguments)}return f._=d,this.on(l,f,u)},emit:function(l){for(var d=[].slice.call(arguments,1),u=((this.e||(this.e={}))[l]||[]).slice(),_=0,f=u.length;_<f;_++)u[_].fn.apply(u[_].ctx,d);return this},off:function(l,d){var u=this.e||(this.e={}),_=u[l],f=[];if(_&&d)for(var h=0,w=_.length;h<w;h++)_[h].fn!==d&&_[h].fn._!==d&&f.push(_[h]);return f.length?u[l]=f:delete u[l],this}},t.exports=r,t.exports.TinyEmitter=r},function(t,a,r){var l=r(3),d=r(4);t.exports=function(u,_,f){if(!u&&!_&&!f)throw new Error("Missing required arguments");if(!l.string(_))throw new TypeError("Second argument must be a String");if(!l.fn(f))throw new TypeError("Third argument must be a Function");if(l.node(u))return C=_,S=f,(k=u).addEventListener(C,S),{destroy:function(){k.removeEventListener(C,S)}};if(l.nodeList(u))return v=u,c=_,E=f,Array.prototype.forEach.call(v,function(B){B.addEventListener(c,E)}),{destroy:function(){Array.prototype.forEach.call(v,function(B){B.removeEventListener(c,E)})}};if(l.string(u))return h=u,w=_,m=f,d(document.body,h,w,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var h,w,m,v,c,E,k,C,S}},function(t,a){a.node=function(r){return r!==void 0&&r instanceof HTMLElement&&r.nodeType===1},a.nodeList=function(r){var l=Object.prototype.toString.call(r);return r!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in r&&(r.length===0||a.node(r[0]))},a.string=function(r){return typeof r=="string"||r instanceof String},a.fn=function(r){return Object.prototype.toString.call(r)==="[object Function]"}},function(t,a,r){var l=r(5);function d(u,_,f,h,w){var m=(function(v,c,E,k){return function(C){C.delegateTarget=l(C.target,c),C.delegateTarget&&k.call(v,C)}}).apply(this,arguments);return u.addEventListener(f,m,w),{destroy:function(){u.removeEventListener(f,m,w)}}}t.exports=function(u,_,f,h,w){return typeof u.addEventListener=="function"?d.apply(null,arguments):typeof f=="function"?d.bind(null,document).apply(null,arguments):(typeof u=="string"&&(u=document.querySelectorAll(u)),Array.prototype.map.call(u,function(m){return d(m,_,f,h,w)}))}},function(t,a){if(typeof Element<"u"&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=function(l,d){for(;l&&l.nodeType!==9;){if(typeof l.matches=="function"&&l.matches(d))return l;l=l.parentNode}}},function(t,a,r){r.r(a);var l=r(0),d=r.n(l),u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function _(g,b){for(var T=0;T<b.length;T++){var M=b[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(g,M.key,M)}}function f(g){(function(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f),this.resolveOptions(g),this.initSelection()}var h=(function(g,b,T){return b&&_(g.prototype,b),g}(f,[{key:"resolveOptions",value:function(g){var b=0<arguments.length&&g!==void 0?g:{};this.action=b.action,this.container=b.container,this.emitter=b.emitter,this.target=b.target,this.text=b.text,this.trigger=b.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var g=this,b=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return g.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=T+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=d()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=d()(this.target),this.copyText()}},{key:"copyText",value:function(){var g=void 0;try{g=document.execCommand(this.action)}catch{g=!1}this.handleResult(g)}},{key:"handleResult",value:function(g){this.emitter.emit(g?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(g){var b=0<arguments.length&&g!==void 0?g:"copy";if(this._action=b,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(g){if(g!==void 0){if(!g||(g===void 0?"undefined":u(g))!=="object"||g.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(this.action==="copy"&&g.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(g.hasAttribute("readonly")||g.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=g}},get:function(){return this._target}}]),f),w=r(1),m=r.n(w),v=r(2),c=r.n(v),E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},k=function(g,b,T){return b&&C(g.prototype,b),T&&C(g,T),g};function C(g,b){for(var T=0;T<b.length;T++){var M=b[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(g,M.key,M)}}var S=(function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}(B,m.a),k(B,[{key:"resolveOptions",value:function(g){var b=0<arguments.length&&g!==void 0?g:{};this.action=typeof b.action=="function"?b.action:this.defaultAction,this.target=typeof b.target=="function"?b.target:this.defaultTarget,this.text=typeof b.text=="function"?b.text:this.defaultText,this.container=E(b.container)==="object"?b.container:document.body}},{key:"listenClick",value:function(g){var b=this;this.listener=c()(g,"click",function(T){return b.onClick(T)})}},{key:"onClick",value:function(g){var b=g.delegateTarget||g.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new h({action:this.action(b),target:this.target(b),text:this.text(b),container:this.container,trigger:b,emitter:this})}},{key:"defaultAction",value:function(g){return P("action",g)}},{key:"defaultTarget",value:function(g){var b=P("target",g);if(b)return document.querySelector(b)}},{key:"defaultText",value:function(g){return P("text",g)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(g){var b=0<arguments.length&&g!==void 0?g:["copy","cut"],T=typeof b=="string"?[b]:b,M=!!document.queryCommandSupported;return T.forEach(function(F){M=M&&!!document.queryCommandSupported(F)}),M}}]),B);function B(g,b){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,B);var T=function(M,F){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?M:F}(this,(B.__proto__||Object.getPrototypeOf(B)).call(this));return T.resolveOptions(b),T.listenClick(g),T}function P(g,b){var T="data-clipboard-"+g;if(b.hasAttribute(T))return b.getAttribute(T)}a.default=S}],s.c=o,s.d=function(t,a,r){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},s.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a||4&a&&typeof t=="object"&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&typeof t!="string")for(var l in t)s.d(r,l,(function(d){return t[d]}).bind(null,l));return r},s.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="",s(s.s=6).default;function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return i[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}var i,o})}),qt=zt(He);He.ClipboardJS;function Vt(n,e,s){var i=document.createElement("button"),o=new qt(i,{text:function(){return n},action:function(){return"copy"},container:de(e)==="object"?e:document.body});o.on("success",function(t){o.destroy(),s(void 0,t)}),o.on("error",function(t){o.destroy(),s(t,void 0)}),document.body.appendChild(i),i.click(),document.body.removeChild(i)}const Ht={__name:"DropdownMenu",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(n,{emit:e}){const o=Ve(n,e);return(t,a)=>(x(),$(p(gt),ft(ht(p(o))),{default:N(()=>[Z(t.$slots,"default")]),_:3},16))}},Jt={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const e=n;return(s,i)=>(x(),$(p(mt),oe({class:"outline-none"},e),{default:N(()=>[Z(s.$slots,"default")]),_:3},16))}},Kt={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","entryFocus","openAutoFocus","closeAutoFocus"],setup(n,{emit:e}){const s=n,o=Ve(s,e);return(t,a)=>(x(),$(p(yt),null,{default:N(()=>[L(p(pt),oe({class:[p(pe)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)]},p(o)),{default:N(()=>[Z(t.$slots,"default")]),_:3},16,["class"])]),_:3}))}},Yt={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},inset:{type:Boolean,required:!1},class:{type:String,required:!1}},setup(n){const e=n;return(s,i)=>(x(),$(p(vt),oe(e,{class:[p(pe)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.inset&&"pl-8",e.class)]}),{default:N(()=>[Z(s.$slots,"default")]),_:3},16,["class"]))}},Je=n=>JSON.parse(JSON.stringify(n)),Ke={url:"",slug:"",displayName:"",notes:"",mode:"redirect",passcode:"",clicks:0};function Le(){const{t:n}=bt.global;return[{value:"redirect",label:n("modes.redirect"),description:n("modes.redirectDesc")},{value:"remind",label:n("modes.remind"),description:n("modes.remindDesc")},{value:"cloaking",label:n("modes.cloaking"),description:n("modes.cloakingDesc")},{value:"proxy",label:n("modes.proxy"),description:n("modes.proxyDesc")}]}const O=R({visible:!1,isCreate:!0,formData:Je(Ke),resolve:()=>{},reject:()=>{}}),Fe=n=>{n?O.value.resolve():O.value.reject(),O.value.visible=!1};function he(n){const e=Je(Object.assign({},Ke,n));return O.value.isCreate=!e.creation,O.value.formData=e,O.value.visible=!0,new Promise((s,i)=>{O.value.resolve=s,O.value.reject=i})}var re={},Qt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ye={},U={};let Ie;const Gt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];U.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};U.getSymbolTotalCodewords=function(e){return Gt[e]};U.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};U.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ie=e};U.isKanjiModeEnabled=function(){return typeof Ie<"u"};U.toSJIS=function(e){return Ie(e)};var be={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+s)}}n.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},n.from=function(i,o){if(n.isValid(i))return i;try{return e(i)}catch{return o}}})(be);function Qe(){this.buffer=[],this.length=0}Qe.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let s=0;s<e;s++)this.putBit((n>>>e-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Xt=Qe;function se(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}se.prototype.set=function(n,e,s,i){const o=n*this.size+e;this.data[o]=s,i&&(this.reservedBit[o]=!0)};se.prototype.get=function(n,e){return this.data[n*this.size+e]};se.prototype.xor=function(n,e,s){this.data[n*this.size+e]^=s};se.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var Zt=se,Ge={};(function(n){const e=U.getSymbolSize;n.getRowColCoords=function(i){if(i===1)return[];const o=Math.floor(i/7)+2,t=e(i),a=t===145?26:Math.ceil((t-13)/(2*o-2))*2,r=[t-7];for(let l=1;l<o-1;l++)r[l]=r[l-1]-a;return r.push(6),r.reverse()},n.getPositions=function(i){const o=[],t=n.getRowColCoords(i),a=t.length;for(let r=0;r<a;r++)for(let l=0;l<a;l++)r===0&&l===0||r===0&&l===a-1||r===a-1&&l===0||o.push([t[r],t[l]]);return o}})(Ge);var Xe={};const Wt=U.getSymbolSize,Oe=7;Xe.getPositions=function(e){const s=Wt(e);return[[0,0],[s-Oe,0],[0,s-Oe]]};var Ze={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},n.from=function(o){return n.isValid(o)?parseInt(o,10):void 0},n.getPenaltyN1=function(o){const t=o.size;let a=0,r=0,l=0,d=null,u=null;for(let _=0;_<t;_++){r=l=0,d=u=null;for(let f=0;f<t;f++){let h=o.get(_,f);h===d?r++:(r>=5&&(a+=e.N1+(r-5)),d=h,r=1),h=o.get(f,_),h===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=h,l=1)}r>=5&&(a+=e.N1+(r-5)),l>=5&&(a+=e.N1+(l-5))}return a},n.getPenaltyN2=function(o){const t=o.size;let a=0;for(let r=0;r<t-1;r++)for(let l=0;l<t-1;l++){const d=o.get(r,l)+o.get(r,l+1)+o.get(r+1,l)+o.get(r+1,l+1);(d===4||d===0)&&a++}return a*e.N2},n.getPenaltyN3=function(o){const t=o.size;let a=0,r=0,l=0;for(let d=0;d<t;d++){r=l=0;for(let u=0;u<t;u++)r=r<<1&2047|o.get(d,u),u>=10&&(r===1488||r===93)&&a++,l=l<<1&2047|o.get(u,d),u>=10&&(l===1488||l===93)&&a++}return a*e.N3},n.getPenaltyN4=function(o){let t=0;const a=o.data.length;for(let l=0;l<a;l++)t+=o.data[l];return Math.abs(Math.ceil(t*100/a/5)-10)*e.N4};function s(i,o,t){switch(i){case n.Patterns.PATTERN000:return(o+t)%2===0;case n.Patterns.PATTERN001:return o%2===0;case n.Patterns.PATTERN010:return t%3===0;case n.Patterns.PATTERN011:return(o+t)%3===0;case n.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(t/3))%2===0;case n.Patterns.PATTERN101:return o*t%2+o*t%3===0;case n.Patterns.PATTERN110:return(o*t%2+o*t%3)%2===0;case n.Patterns.PATTERN111:return(o*t%3+(o+t)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}n.applyMask=function(o,t){const a=t.size;for(let r=0;r<a;r++)for(let l=0;l<a;l++)t.isReserved(l,r)||t.xor(l,r,s(o,l,r))},n.getBestMask=function(o,t){const a=Object.keys(n.Patterns).length;let r=0,l=1/0;for(let d=0;d<a;d++){t(d),n.applyMask(d,o);const u=n.getPenaltyN1(o)+n.getPenaltyN2(o)+n.getPenaltyN3(o)+n.getPenaltyN4(o);n.applyMask(d,o),u<l&&(l=u,r=d)}return r}})(Ze);var we={};const H=be,ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ie=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];we.getBlocksCount=function(e,s){switch(s){case H.L:return ae[(e-1)*4+0];case H.M:return ae[(e-1)*4+1];case H.Q:return ae[(e-1)*4+2];case H.H:return ae[(e-1)*4+3];default:return}};we.getTotalCodewordsCount=function(e,s){switch(s){case H.L:return ie[(e-1)*4+0];case H.M:return ie[(e-1)*4+1];case H.Q:return ie[(e-1)*4+2];case H.H:return ie[(e-1)*4+3];default:return}};var We={},_e={};const te=new Uint8Array(512),ge=new Uint8Array(256);(function(){let e=1;for(let s=0;s<255;s++)te[s]=e,ge[e]=s,e<<=1,e&256&&(e^=285);for(let s=255;s<512;s++)te[s]=te[s-255]})();_e.log=function(e){if(e<1)throw new Error("log("+e+")");return ge[e]};_e.exp=function(e){return te[e]};_e.mul=function(e,s){return e===0||s===0?0:te[ge[e]+ge[s]]};(function(n){const e=_e;n.mul=function(i,o){const t=new Uint8Array(i.length+o.length-1);for(let a=0;a<i.length;a++)for(let r=0;r<o.length;r++)t[a+r]^=e.mul(i[a],o[r]);return t},n.mod=function(i,o){let t=new Uint8Array(i);for(;t.length-o.length>=0;){const a=t[0];for(let l=0;l<o.length;l++)t[l]^=e.mul(o[l],a);let r=0;for(;r<t.length&&t[r]===0;)r++;t=t.slice(r)}return t},n.generateECPolynomial=function(i){let o=new Uint8Array([1]);for(let t=0;t<i;t++)o=n.mul(o,new Uint8Array([1,e.exp(t)]));return o}})(We);const et=We;function Re(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Re.prototype.initialize=function(e){this.degree=e,this.genPoly=et.generateECPolynomial(this.degree)};Re.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(e.length+this.degree);s.set(e);const i=et.mod(s,this.genPoly),o=this.degree-i.length;if(o>0){const t=new Uint8Array(this.degree);return t.set(i,o),t}return i};var en=Re,tt={},K={},$e={};$e.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var z={};const nt="[0-9]+",tn="[A-Z $%*+\\-./:]+";let ne="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ne=ne.replace(/u/g,"\\u");const nn="(?:(?![A-Z0-9 $%*+\\-./:]|"+ne+`)(?:.|[\r
]))+`;z.KANJI=new RegExp(ne,"g");z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");z.BYTE=new RegExp(nn,"g");z.NUMERIC=new RegExp(nt,"g");z.ALPHANUMERIC=new RegExp(tn,"g");const on=new RegExp("^"+ne+"$"),rn=new RegExp("^"+nt+"$"),sn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");z.testKanji=function(e){return on.test(e)};z.testNumeric=function(e){return rn.test(e)};z.testAlphanumeric=function(e){return sn.test(e)};(function(n){const e=$e,s=z;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(t,a){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?t.ccBits[0]:a<27?t.ccBits[1]:t.ccBits[2]},n.getBestModeForData=function(t){return s.testNumeric(t)?n.NUMERIC:s.testAlphanumeric(t)?n.ALPHANUMERIC:s.testKanji(t)?n.KANJI:n.BYTE},n.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},n.isValid=function(t){return t&&t.bit&&t.ccBits};function i(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+o)}}n.from=function(t,a){if(n.isValid(t))return t;try{return i(t)}catch{return a}}})(K);(function(n){const e=U,s=we,i=be,o=K,t=$e,a=7973,r=e.getBCHDigit(a);function l(f,h,w){for(let m=1;m<=40;m++)if(h<=n.getCapacity(m,w,f))return m}function d(f,h){return o.getCharCountIndicator(f,h)+4}function u(f,h){let w=0;return f.forEach(function(m){const v=d(m.mode,h);w+=v+m.getBitsLength()}),w}function _(f,h){for(let w=1;w<=40;w++)if(u(f,w)<=n.getCapacity(w,h,o.MIXED))return w}n.from=function(h,w){return t.isValid(h)?parseInt(h,10):w},n.getCapacity=function(h,w,m){if(!t.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=o.BYTE);const v=e.getSymbolTotalCodewords(h),c=s.getTotalCodewordsCount(h,w),E=(v-c)*8;if(m===o.MIXED)return E;const k=E-d(m,h);switch(m){case o.NUMERIC:return Math.floor(k/10*3);case o.ALPHANUMERIC:return Math.floor(k/11*2);case o.KANJI:return Math.floor(k/13);case o.BYTE:default:return Math.floor(k/8)}},n.getBestVersionForData=function(h,w){let m;const v=i.from(w,i.M);if(Array.isArray(h)){if(h.length>1)return _(h,v);if(h.length===0)return 1;m=h[0]}else m=h;return l(m.mode,m.getLength(),v)},n.getEncodedBits=function(h){if(!t.isValid(h)||h<7)throw new Error("Invalid QR Code version");let w=h<<12;for(;e.getBCHDigit(w)-r>=0;)w^=a<<e.getBCHDigit(w)-r;return h<<12|w}})(tt);var ot={};const Be=U,rt=1335,an=21522,ze=Be.getBCHDigit(rt);ot.getEncodedBits=function(e,s){const i=e.bit<<3|s;let o=i<<10;for(;Be.getBCHDigit(o)-ze>=0;)o^=rt<<Be.getBCHDigit(o)-ze;return(i<<10|o)^an};var st={};const ln=K;function Y(n){this.mode=ln.NUMERIC,this.data=n.toString()}Y.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(e){let s,i,o;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),o=parseInt(i,10),e.put(o,10);const t=this.data.length-s;t>0&&(i=this.data.substr(s),o=parseInt(i,10),e.put(o,t*3+1))};var un=Y;const cn=K,ke=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(n){this.mode=cn.ALPHANUMERIC,this.data=n}Q.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let i=ke.indexOf(this.data[s])*45;i+=ke.indexOf(this.data[s+1]),e.put(i,11)}this.data.length%2&&e.put(ke.indexOf(this.data[s]),6)};var dn=Q;const fn=K;function G(n){this.mode=fn.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}G.getBitsLength=function(e){return e*8};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(n){for(let e=0,s=this.data.length;e<s;e++)n.put(this.data[e],8)};var hn=G;const gn=K,mn=U;function X(n){this.mode=gn.KANJI,this.data=n}X.getBitsLength=function(e){return e*13};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let s=mn.toSJIS(this.data[e]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}};var pn=X,at={exports:{}};(function(n){var e={single_source_shortest_paths:function(s,i,o){var t={},a={};a[i]=0;var r=e.PriorityQueue.make();r.push(i,0);for(var l,d,u,_,f,h,w,m,v;!r.empty();){l=r.pop(),d=l.value,_=l.cost,f=s[d]||{};for(u in f)f.hasOwnProperty(u)&&(h=f[u],w=_+h,m=a[u],v=typeof a[u]>"u",(v||m>w)&&(a[u]=w,r.push(u,w),t[u]=d))}if(typeof o<"u"&&typeof a[o]>"u"){var c=["Could not find a path from ",i," to ",o,"."].join("");throw new Error(c)}return t},extract_shortest_path_from_predecessor_list:function(s,i){for(var o=[],t=i;t;)o.push(t),s[t],t=s[t];return o.reverse(),o},find_path:function(s,i,o){var t=e.single_source_shortest_paths(s,i,o);return e.extract_shortest_path_from_predecessor_list(t,o)},PriorityQueue:{make:function(s){var i=e.PriorityQueue,o={},t;s=s||{};for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);return o.queue=[],o.sorter=s.sorter||i.default_sorter,o},default_sorter:function(s,i){return s.cost-i.cost},push:function(s,i){var o={value:s,cost:i};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(at);var yn=at.exports;(function(n){const e=K,s=un,i=dn,o=hn,t=pn,a=z,r=U,l=yn;function d(c){return unescape(encodeURIComponent(c)).length}function u(c,E,k){const C=[];let S;for(;(S=c.exec(k))!==null;)C.push({data:S[0],index:S.index,mode:E,length:S[0].length});return C}function _(c){const E=u(a.NUMERIC,e.NUMERIC,c),k=u(a.ALPHANUMERIC,e.ALPHANUMERIC,c);let C,S;return r.isKanjiModeEnabled()?(C=u(a.BYTE,e.BYTE,c),S=u(a.KANJI,e.KANJI,c)):(C=u(a.BYTE_KANJI,e.BYTE,c),S=[]),E.concat(k,C,S).sort(function(P,g){return P.index-g.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function f(c,E){switch(E){case e.NUMERIC:return s.getBitsLength(c);case e.ALPHANUMERIC:return i.getBitsLength(c);case e.KANJI:return t.getBitsLength(c);case e.BYTE:return o.getBitsLength(c)}}function h(c){return c.reduce(function(E,k){const C=E.length-1>=0?E[E.length-1]:null;return C&&C.mode===k.mode?(E[E.length-1].data+=k.data,E):(E.push(k),E)},[])}function w(c){const E=[];for(let k=0;k<c.length;k++){const C=c[k];switch(C.mode){case e.NUMERIC:E.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:E.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:E.push([C,{data:C.data,mode:e.BYTE,length:d(C.data)}]);break;case e.BYTE:E.push([{data:C.data,mode:e.BYTE,length:d(C.data)}])}}return E}function m(c,E){const k={},C={start:{}};let S=["start"];for(let B=0;B<c.length;B++){const P=c[B],g=[];for(let b=0;b<P.length;b++){const T=P[b],M=""+B+b;g.push(M),k[M]={node:T,lastCount:0},C[M]={};for(let F=0;F<S.length;F++){const j=S[F];k[j]&&k[j].node.mode===T.mode?(C[j][M]=f(k[j].lastCount+T.length,T.mode)-f(k[j].lastCount,T.mode),k[j].lastCount+=T.length):(k[j]&&(k[j].lastCount=T.length),C[j][M]=f(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,E))}}S=g}for(let B=0;B<S.length;B++)C[S[B]].end=0;return{map:C,table:k}}function v(c,E){let k;const C=e.getBestModeForData(c);if(k=e.from(E,C),k!==e.BYTE&&k.bit<C.bit)throw new Error('"'+c+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(C));switch(k===e.KANJI&&!r.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new s(c);case e.ALPHANUMERIC:return new i(c);case e.KANJI:return new t(c);case e.BYTE:return new o(c)}}n.fromArray=function(E){return E.reduce(function(k,C){return typeof C=="string"?k.push(v(C,null)):C.data&&k.push(v(C.data,C.mode)),k},[])},n.fromString=function(E,k){const C=_(E,r.isKanjiModeEnabled()),S=w(C),B=m(S,k),P=l.find_path(B.map,"start","end"),g=[];for(let b=1;b<P.length-1;b++)g.push(B.table[P[b]].node);return n.fromArray(h(g))},n.rawSplit=function(E){return n.fromArray(_(E,r.isKanjiModeEnabled()))}})(st);const Ce=U,Ee=be,vn=Xt,bn=Zt,wn=Ge,_n=Xe,Ae=Ze,Ne=we,Cn=en,me=tt,kn=ot,En=K,xe=st;function xn(n,e){const s=n.size,i=_n.getPositions(e);for(let o=0;o<i.length;o++){const t=i[o][0],a=i[o][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||s<=t+r))for(let l=-1;l<=7;l++)a+l<=-1||s<=a+l||(r>=0&&r<=6&&(l===0||l===6)||l>=0&&l<=6&&(r===0||r===6)||r>=2&&r<=4&&l>=2&&l<=4?n.set(t+r,a+l,!0,!0):n.set(t+r,a+l,!1,!0))}}function Sn(n){const e=n.size;for(let s=8;s<e-8;s++){const i=s%2===0;n.set(s,6,i,!0),n.set(6,s,i,!0)}}function Tn(n,e){const s=wn.getPositions(e);for(let i=0;i<s.length;i++){const o=s[i][0],t=s[i][1];for(let a=-2;a<=2;a++)for(let r=-2;r<=2;r++)a===-2||a===2||r===-2||r===2||a===0&&r===0?n.set(o+a,t+r,!0,!0):n.set(o+a,t+r,!1,!0)}}function Bn(n,e){const s=n.size,i=me.getEncodedBits(e);let o,t,a;for(let r=0;r<18;r++)o=Math.floor(r/3),t=r%3+s-8-3,a=(i>>r&1)===1,n.set(o,t,a,!0),n.set(t,o,a,!0)}function Se(n,e,s){const i=n.size,o=kn.getEncodedBits(e,s);let t,a;for(t=0;t<15;t++)a=(o>>t&1)===1,t<6?n.set(t,8,a,!0):t<8?n.set(t+1,8,a,!0):n.set(i-15+t,8,a,!0),t<8?n.set(8,i-t-1,a,!0):t<9?n.set(8,15-t-1+1,a,!0):n.set(8,15-t-1,a,!0);n.set(i-8,8,1,!0)}function An(n,e){const s=n.size;let i=-1,o=s-1,t=7,a=0;for(let r=s-1;r>0;r-=2)for(r===6&&r--;;){for(let l=0;l<2;l++)if(!n.isReserved(o,r-l)){let d=!1;a<e.length&&(d=(e[a]>>>t&1)===1),n.set(o,r-l,d),t--,t===-1&&(a++,t=7)}if(o+=i,o<0||s<=o){o-=i,i=-i;break}}}function Nn(n,e,s){const i=new vn;s.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),En.getCharCountIndicator(l.mode,n)),l.write(i)});const o=Ce.getSymbolTotalCodewords(n),t=Ne.getTotalCodewordsCount(n,e),a=(o-t)*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const r=(a-i.getLengthInBits())/8;for(let l=0;l<r;l++)i.put(l%2?17:236,8);return Mn(i,n,e)}function Mn(n,e,s){const i=Ce.getSymbolTotalCodewords(e),o=Ne.getTotalCodewordsCount(e,s),t=i-o,a=Ne.getBlocksCount(e,s),r=i%a,l=a-r,d=Math.floor(i/a),u=Math.floor(t/a),_=u+1,f=d-u,h=new Cn(f);let w=0;const m=new Array(a),v=new Array(a);let c=0;const E=new Uint8Array(n.buffer);for(let P=0;P<a;P++){const g=P<l?u:_;m[P]=E.slice(w,w+g),v[P]=h.encode(m[P]),w+=g,c=Math.max(c,g)}const k=new Uint8Array(i);let C=0,S,B;for(S=0;S<c;S++)for(B=0;B<a;B++)S<m[B].length&&(k[C++]=m[B][S]);for(S=0;S<f;S++)for(B=0;B<a;B++)k[C++]=v[B][S];return k}function Pn(n,e,s,i){let o;if(Array.isArray(n))o=xe.fromArray(n);else if(typeof n=="string"){let d=e;if(!d){const u=xe.rawSplit(n);d=me.getBestVersionForData(u,s)}o=xe.fromString(n,d||40)}else throw new Error("Invalid data");const t=me.getBestVersionForData(o,s);if(!t)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=t;else if(e<t)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+t+`.
`);const a=Nn(e,s,o),r=Ce.getSymbolSize(e),l=new bn(r);return xn(l,e),Sn(l),Tn(l,e),Se(l,s,0),e>=7&&Bn(l,e),An(l,a),isNaN(i)&&(i=Ae.getBestMask(l,Se.bind(null,l,s))),Ae.applyMask(i,l),Se(l,s,i),{modules:l,version:e,errorCorrectionLevel:s,maskPattern:i,segments:o}}Ye.create=function(e,s){if(typeof e>"u"||e==="")throw new Error("No input text");let i=Ee.M,o,t;return typeof s<"u"&&(i=Ee.from(s.errorCorrectionLevel,Ee.M),o=me.from(s.version),t=Ae.from(s.maskPattern),s.toSJISFunc&&Ce.setToSJISFunction(s.toSJISFunc)),Pn(e,o,i,t)};var it={},De={};(function(n){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let i=s.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+s);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(t){return[t,t]}))),i.length===6&&i.push("F","F");const o=parseInt(i.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+i.slice(0,6).join("")}}n.getOptions=function(i){i||(i={}),i.color||(i.color={});const o=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,t=i.width&&i.width>=21?i.width:void 0,a=i.scale||4;return{width:t,scale:t?4:a,margin:o,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},n.getScale=function(i,o){return o.width&&o.width>=i+o.margin*2?o.width/(i+o.margin*2):o.scale},n.getImageWidth=function(i,o){const t=n.getScale(i,o);return Math.floor((i+o.margin*2)*t)},n.qrToImageData=function(i,o,t){const a=o.modules.size,r=o.modules.data,l=n.getScale(a,t),d=Math.floor((a+t.margin*2)*l),u=t.margin*l,_=[t.color.light,t.color.dark];for(let f=0;f<d;f++)for(let h=0;h<d;h++){let w=(f*d+h)*4,m=t.color.light;if(f>=u&&h>=u&&f<d-u&&h<d-u){const v=Math.floor((f-u)/l),c=Math.floor((h-u)/l);m=_[r[v*a+c]?1:0]}i[w++]=m.r,i[w++]=m.g,i[w++]=m.b,i[w]=m.a}}})(De);(function(n){const e=De;function s(o,t,a){o.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=a,t.width=a,t.style.height=a+"px",t.style.width=a+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(t,a,r){let l=r,d=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(d=i()),l=e.getOptions(l);const u=e.getImageWidth(t.modules.size,l),_=d.getContext("2d"),f=_.createImageData(u,u);return e.qrToImageData(f.data,t,l),s(_,d,u),_.putImageData(f,0,0),d},n.renderToDataURL=function(t,a,r){let l=r;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const d=n.render(t,a,l),u=l.type||"image/png",_=l.rendererOpts||{};return d.toDataURL(u,_.quality)}})(it);var lt={};const Ln=De;function je(n,e){const s=n.a/255,i=e+'="'+n.hex+'"';return s<1?i+" "+e+'-opacity="'+s.toFixed(2).slice(1)+'"':i}function Te(n,e,s){let i=n+e;return typeof s<"u"&&(i+=" "+s),i}function In(n,e,s){let i="",o=0,t=!1,a=0;for(let r=0;r<n.length;r++){const l=Math.floor(r%e),d=Math.floor(r/e);!l&&!t&&(t=!0),n[r]?(a++,r>0&&l>0&&n[r-1]||(i+=t?Te("M",l+s,.5+d+s):Te("m",o,0),o=0,t=!1),l+1<e&&n[r+1]||(i+=Te("h",a),a=0)):o++}return i}lt.render=function(e,s,i){const o=Ln.getOptions(s),t=e.modules.size,a=e.modules.data,r=t+o.margin*2,l=o.color.light.a?"<path "+je(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",d="<path "+je(o.color.dark,"stroke")+' d="'+In(a,t,o.margin)+'"/>',u='viewBox="0 0 '+r+" "+r+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof i=="function"&&i(null,f),f};const Rn=Qt,Me=Ye,ut=it,$n=lt;function Ue(n,e,s,i,o){const t=[].slice.call(arguments,1),a=t.length,r=typeof t[a-1]=="function";if(!r&&!Rn())throw new Error("Callback required as last argument");if(r){if(a<2)throw new Error("Too few arguments provided");a===2?(o=s,s=e,e=i=void 0):a===3&&(e.getContext&&typeof o>"u"?(o=i,i=void 0):(o=i,i=s,s=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(s=e,e=i=void 0):a===2&&!e.getContext&&(i=s,s=e,e=void 0),new Promise(function(l,d){try{const u=Me.create(s,i);l(n(u,e,i))}catch(u){d(u)}})}try{const l=Me.create(s,i);o(null,n(l,e,i))}catch(l){o(l)}}re.create=Me.create;re.toCanvas=Ue.bind(null,ut.render);re.toDataURL=Ue.bind(null,ut.renderToDataURL);re.toString=Ue.bind(null,function(n,e,s){return $n.render(n,s)});const ct={__name:"Dialog",setup(n){return(e,s)=>(x(),$(p(wt),null,{default:N(()=>[Z(e.$slots,"default")]),_:3}))}},dt={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(n,{emit:e}){const s=n,o=_t(e);return(t,a)=>(x(),$(p(St),null,{default:N(()=>[L(p(Ct),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),L(p(kt),oe({class:p(pe)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",s.class)},{...s,...p(o)}),{default:N(()=>[Z(t.$slots,"default"),L(p(Et),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:N(()=>[L(p(xt),{class:"w-4 h-4"}),a[0]||(a[0]=y("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}},Dn={class:"space-y-6 py-4"},Un={class:"flex flex-col items-center space-y-4"},Fn=["src","alt"],On={class:"flex flex-col gap-2"},zn={class:"flex-1 bg-gray-100 p-2 px-3 rounded-full text-sm max-w-80 overflow-auto"},jn={class:"flex items-center justify-center gap-2"},qn={__name:"QRCodeDialog",props:{visible:{type:Boolean,default:!1},shortUrl:{type:String,default:""}},emits:["update:visible"],setup(n,{emit:e}){const s=n,i=e,{toast:o}=Tt(),t=R(""),a=R(256),r=R(!1),l=async()=>{if(s.shortUrl){r.value=!0;try{const f={width:a.value,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"};t.value=await re.toDataURL(s.shortUrl,f)}catch(f){console.error("生成QR码失败:",f),o({title:"Generation failed",description:"QR code generation failed, please try again.",variant:"destructive",class:"rounded-2xl"})}finally{r.value=!1}}};fe(()=>s.shortUrl,l,{immediate:!0}),fe(()=>a.value,l);const d=()=>{if(!t.value)return;const f=document.createElement("a");f.download=`qrcode-${s.shortUrl.replace(/[^a-zA-Z0-9]/g,"_")}.png`,f.href=t.value,document.body.appendChild(f),f.click(),document.body.removeChild(f)},u=async()=>{try{await navigator.clipboard.writeText(s.shortUrl),o({title:"Copy successful.",description:"Short link copied to clipboard.",class:"rounded-2xl"})}catch(f){console.error("复制链接失败:",f),o({title:"Copy failed",description:"Link copy failed, please copy manually.",variant:"destructive",class:"rounded-2xl"})}},_=()=>{i("update:visible",!1)};return(f,h)=>(x(),$(p(ct),{open:n.visible,"onUpdate:open":_},{default:N(()=>[L(p(dt),{class:"max-w-xl shadow-none border-0 bg-transparent"},{default:N(()=>[y("div",Dn,[y("div",Un,[r.value?(x(),A("div",{key:0,class:"flex items-center justify-center",style:le({width:a.value+"px",height:a.value+"px"})},[...h[0]||(h[0]=[y("div",{class:"flex flex-col items-center gap-2"},[y("i",{class:"icon-[material-symbols--progress-activity] animate-spin text-2xl"}),y("span",{class:"text-sm text-gray-500"},"Generating...")],-1)])],4)):t.value?(x(),A("img",{key:1,src:t.value,alt:n.shortUrl,class:"block mx-auto transition-all",style:le({width:a.value+"px",height:a.value+"px"})},null,12,Fn)):(x(),A("div",{key:2,class:"flex items-center justify-center bg-gray-100 rounded",style:le({width:a.value+"px",height:a.value+"px"})},[...h[1]||(h[1]=[y("span",{class:"text-gray-500"},"No QR code available.",-1)])],4)),y("div",On,[y("code",zn,I(n.shortUrl),1),y("div",jn,[L(p(D),{variant:"outline",onClick:u,size:"sm",class:"rounded-full"},{default:N(()=>[...h[2]||(h[2]=[y("i",{class:"icon-[material-symbols--content-copy] mr-1"},null,-1),J(" 复制 ",-1)])]),_:1}),L(p(D),{variant:"outline",onClick:d,size:"sm",class:"rounded-full"},{default:N(()=>[...h[3]||(h[3]=[y("i",{class:"icon-[material-symbols--download] mr-1 text-lg"},null,-1),J(" 下载 ",-1)])]),_:1})])])])])]),_:1})]),_:1},8,["open"]))}},Vn={class:"p-5"},Hn={class:"flex flex-col space-y-2"},Jn={class:"flex flex-col space-y-1 min-w-0 flex-1"},Kn={class:"flex items-center justify-between"},Yn={class:"font-semibold truncate text-blue-500 hover:underline"},Qn={class:"flex items-center space-x-1 ml-3"},Gn={key:0,class:"icon-[material-symbols--content-copy-outline-rounded] h-4 w-4"},Xn={key:1,class:"icon-[material-symbols--check] h-4 w-4"},Zn={key:2,class:"icon-[material-symbols--close] h-4 w-4"},Wn={class:"flex items-center text-xs text-muted-foreground space-x-1"},eo={class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},to={key:0,class:"capitalize bg-secondary px-2 h-5 rounded-sm text-xs font-medium flex items-center"},no={__name:"SlugCard",props:{item:{type:Object,required:!0}},emits:["refresh"],setup(n,{emit:e}){const s=e,o=R(n.item),t=`${location.protocol}//${location.host}/${o.value.slug}`,a=R(null),r=async()=>{Vt(t,void 0,(f,h)=>{a.value=!f}),setTimeout(()=>{a.value=null},1e3)},l=R(!1),d=[{name:"Edit",icon:"icon-[material-symbols--edit-document-outline]",operate:"edit"},{name:"QR Code",icon:"icon-[material-symbols--qr-code]",operate:"qr-code"},{name:"Duplicate",icon:"icon-[material-symbols--file-copy-outline]",operate:"duplicate"},{name:"Delete",icon:"icon-[material-symbols--delete-outline]",operate:"delete",class:"!text-destructive hover:!bg-destructive hover:!text-destructive-foreground"}],u=()=>{s("refresh"),V({title:"操作成功",description:`短链接 ${o.value.slug} 已更新`,class:"rounded-2xl"})},_=async f=>{switch(f){case"edit":he({...o.value,value:void 0,key:void 0}).then(u).catch(()=>{});break;case"duplicate":he({...o.value,value:void 0,key:void 0,creation:void 0,slug:`${o.value.slug}-copy`}).then(u).catch(()=>{});break;case"qr-code":l.value=!0;break;case"delete":fetch("/api/?action=delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:o.value.slug})}).then(h=>h.json()).then(h=>{console.log(h),h.code===0?(V({title:"删除成功",description:`短链接 ${o.value.slug} 已删除`,class:"rounded-2xl"}),s("refresh")):V({title:"删除失败",description:h.msg||"删除操作失败，请重试",variant:"destructive",class:"rounded-2xl"})}).catch(()=>{V({title:"删除失败",description:"网络错误，请重试",variant:"destructive",class:"rounded-2xl"})});break;default:Bt({title:"Error",description:"Unknown operate"});break}};return(f,h)=>(x(),$(p(Dt),{class:"transition-all duration-200 rounded-2xl shadow-sm hover:shadow-md border-border"},{default:N(()=>[y("div",Vn,[y("div",Hn,[y("div",Jn,[y("div",Kn,[y("h3",Yn,[y("a",{href:t,target:"_blank"},I(o.value.displayName||o.value.slug),1)]),y("div",Qn,[L(p(D),{variant:"ghost",size:"icon",onClick:r,class:q(["h-6 w-6 shrink-0 text-muted-foreground",a.value&&"!text-green-600 !bg-green-50"])},{default:N(()=>[a.value==null?(x(),A("i",Gn)):a.value?(x(),A("i",Xn)):(x(),A("i",Zn))]),_:1},8,["class"]),L(p(Ht),null,{default:N(()=>[L(p(Jt),{"as-child":""},{default:N(()=>[L(p(D),{variant:"ghost",size:"icon",class:"h-6 w-6 shrink-0 text-muted-foreground hover:text-foreground"},{default:N(()=>[...h[2]||(h[2]=[y("i",{class:"icon-[material-symbols--more-vert] h-4 w-4"},null,-1)])]),_:1})]),_:1}),L(p(Kt),{align:"end",class:"rounded-2xl backdrop-blur-md bg-white/60"},{default:N(()=>[(x(),A(ye,null,ve(d,w=>L(p(Yt),{key:w.operate,class:q(["flex items-center gap-2 cursor-pointer text-muted-foreground rounded-full",w.class]),onClick:m=>_(w.operate)},{default:N(()=>[y("i",{class:q(w.icon+" h-4 w-4")},null,2),y("span",null,I(w.name),1)]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})])]),y("p",{class:"text-xs text-muted-foreground truncate",onClick:h[0]||(h[0]=w=>_("edit"))},I(o.value.url),1)]),y("div",Wn,[y("span",eo,I(o.value.mode),1),o.value.displayName?(x(),A("span",to,I(o.value.slug),1)):W("",!0)])])]),L(qn,{visible:l.value,"onUpdate:visible":h[1]||(h[1]=w=>l.value=w),"short-url":t},null,8,["visible"])]),_:1}))}},qe={__name:"Textarea",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(n,{emit:e}){const s=n,o=Ut(s,"modelValue",e,{passive:!0,defaultValue:s.defaultValue});return(t,a)=>At((x(),A("textarea",{"onUpdate:modelValue":a[0]||(a[0]=r=>Mt(o)?o.value=r:null),class:q(p(pe)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.$attrs.class??""))},null,2)),[[Nt,p(o)]])}},oo={class:"space-y-6"},ro={class:"relative"},so={class:"absolute bottom-2 left-2 right-2 flex"},ao={class:"flex gap-1 bg-white/60 backdrop-blur rounded-full overflow-auto"},io={key:0,class:"icon-[material-symbols--refresh] animate-spin"},lo={key:1,class:"icon-[material-symbols--flash-on] text-sm"},uo={class:"flex"},co={class:"flex w-full max-w-80 relative rounded-full border border-input shadow-sm bg-slate-100"},fo={key:0,class:"icon-[material-symbols--autorenew-outline-rounded] text-base"},ho={key:1,class:"icon-[material-symbols--progress-activity] animate-spin text-base"},go={class:"grid gap-4 grid-cols-1 sm:grid-cols-2"},mo={class:"space-y-2"},po={class:"space-y-2"},yo={class:"space-y-2"},vo={__name:"CreateLinkDialog",setup(n){const{t:e,locale:s}=Pe(),i=ee(()=>Le()),o=location.host,t=R({randomize:!1,create:!1}),a=R(!1),r=ee({get:()=>O.value.formData,set:m=>{O.value.formData=m}}),l=ee(()=>r.value.url&&r.value.url.trim()),d=async()=>{t.value.randomize=!0;try{const m=await fetch("/api/?action=randomize",{method:"POST",headers:{"Content-Type":"application/json"}}),{data:v}=await m.json();setTimeout(()=>{r.value={...r.value,slug:v}},500)}catch(m){console.error("Failed to generate slug:",m),V({title:e("messages.generateFailed"),description:e("messages.generateFailedDesc"),variant:"destructive",class:"rounded-2xl"})}finally{setTimeout(()=>{t.value.randomize=!1},500)}},u=m=>{r.value={...r.value,mode:m}},_=async()=>{if(l.value){t.value.create=!0;try{const v=await(await fetch("/api/?action=save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.value)})).json();v.code===0?(V({title:r.value.creation?e("messages.updateSuccess"):e("messages.createSuccess"),description:r.value.creation?e("messages.linkUpdated",{slug:r.value.slug}):e("messages.linkCreated",{slug:r.value.slug}),class:"rounded-2xl"}),Fe(!0)):V({title:r.value.creation?e("messages.updateFailed"):e("messages.createFailed"),description:v.msg||e("messages.operationFailed"),variant:"destructive",class:"rounded-2xl"})}catch(m){V({title:e("messages.operationFailed"),description:e("messages.networkError"),variant:"destructive",class:"rounded-2xl"}),console.error("Network error:",m)}finally{t.value.create=!1}}};let f=R(""),h=R(null);const w=()=>{if(!h.value)return;const m=h.value.scrollHeight;f.value=m+10,a.value=!a.value};return fe(()=>r.value,m=>{O.value.isCreate&&!m.creation&&!m.slug&&Pt(()=>{d()})},{immediate:!0}),(m,v)=>(x(),$(p(ct),{open:p(O).visible,"onUpdate:open":v[5]||(v[5]=c=>!c&&p(Fe)(!1))},{default:N(()=>[L(p(dt),{class:"max-w-2xl max-h-[90vh] overflow-y-auto shadow-none p-2 border-0 bg-transparent"},{default:N(()=>[y("form",{onSubmit:ue(_,["prevent"]),class:"space-y-6"},[y("div",oo,[y("div",ro,[(x(),$(p(qe),{id:"url",key:`url-${p(s)}`,"model-value":r.value.url,"onUpdate:modelValue":v[0]||(v[0]=c=>r.value={...r.value,url:c}),placeholder:p(e)("shortLink.urlPlaceholder"),class:"resize-none rounded-2xl pb-10",rows:4,disabled:t.value.create},null,8,["model-value","placeholder","disabled"])),y("div",so,[y("div",ao,[(x(!0),A(ye,null,ve(i.value,c=>(x(),$(p(D),{key:c.value,value:c.value,onClick:ue(E=>u(c.value),["prevent"]),variant:r.value.mode===c.value?"default":"outline",class:"rounded-full text-xs h-7 border-0 shadow-none shrink-0"},{default:N(()=>[J(I(c.label),1)]),_:2},1032,["value","onClick","variant"]))),128))]),v[6]||(v[6]=y("div",{class:"flex-1 mx-2"},null,-1)),L(p(D),{type:"submit",disabled:!l.value||t.value.create,class:"rounded-full h-7 self-end gap-2 shrink-0"},{default:N(()=>[t.value.create?(x(),A("i",io)):(x(),A("i",lo)),J(" "+I(r.value.creation?p(e)("common.update"):p(e)("common.create")),1)]),_:1},8,["disabled"])])]),y("div",uo,[y("div",co,[y("div",{class:q(["flex items-center h-9 px-3 pr-2 text-sm",r.value.creation&&"text-slate-500"])},I(p(o)),3),(x(),$(p(ce),{type:"text",key:`slug-${p(s)}`,class:q(["rounded-full shadow-none border-0 !bg-white !pl-2 pr-10",r.value.creation&&"!opacity-100 text-slate-500"]),"model-value":r.value.slug,"onUpdate:modelValue":v[1]||(v[1]=c=>r.value={...r.value,slug:c}),placeholder:p(e)("shortLink.slugPlaceholder"),disabled:r.value.creation,required:"",pattern:"[a-zA-Z0-9_\\-.]{1,24}"},null,8,["class","model-value","placeholder","disabled"])),L(p(D),{type:"button",variant:"outline",size:"icon",class:"rounded-full absolute top-1/2 right-2 -translate-y-1/2 w-6 h-6 flex-shrink-0 active:scale-95",disabled:r.value.creation,onClick:ue(d,["prevent"])},{default:N(()=>[t.value.randomize?(x(),A("i",ho)):(x(),A("i",fo))]),_:1},8,["disabled"])]),v[7]||(v[7]=y("div",{class:"flex-1"},null,-1)),L(p(D),{variant:"text",type:"button",class:"shrink-0 self-end text-xs rounded-full",onClick:w},{default:N(()=>[J(I(p(e)("shortLink.advancedSettings"))+" ",1),y("i",{class:q(["icon-[material-symbols--expand-more] transition-transform text-lg -mr-1",a.value&&"rotate-180"])},null,2)]),_:1})]),y("div",{ref_key:"advancedArea",ref:h,class:q(["space-y-4 overflow-hidden transition-all px-2 -mx-2",a.value&&"py-1"]),style:le({height:a.value?p(f)+"px":"0"})},[y("div",go,[y("div",mo,[(x(),$(p(ce),{id:"displayName",key:`displayName-${p(s)}`,class:"rounded-full","model-value":r.value.displayName,"onUpdate:modelValue":v[2]||(v[2]=c=>r.value={...r.value,displayName:c}),placeholder:p(e)("shortLink.displayNamePlaceholder"),disabled:t.value.create},null,8,["model-value","placeholder","disabled"]))]),y("div",po,[(x(),$(p(ce),{id:"passcode",key:`passcode-${p(s)}`,class:"rounded-full","model-value":r.value.passcode,"onUpdate:modelValue":v[3]||(v[3]=c=>r.value={...r.value,passcode:c}),placeholder:p(e)("shortLink.passcodePlaceholder"),type:"password",disabled:t.value.create},null,8,["model-value","placeholder","disabled"]))])]),y("div",yo,[(x(),$(p(qe),{id:"notes",key:`notes-${p(s)}`,"model-value":r.value.notes,"onUpdate:modelValue":v[4]||(v[4]=c=>r.value={...r.value,notes:c}),placeholder:p(e)("shortLink.notesPlaceholder"),class:"rounded-2xl resize-none",rows:"4",disabled:t.value.create},null,8,["model-value","placeholder","disabled"]))])],6)])],32)]),_:1})]),_:1},8,["open"]))}},bo={class:"w-full"},wo={key:0,class:"mb-6 p-4 bg-muted/50 rounded-lg"},_o={class:"flex items-center justify-between"},Co={class:"text-sm text-muted-foreground"},ko={key:0},Eo={key:1},xo={key:2},So={key:1,class:"mb-6 text-center text-muted-foreground"},To={class:"flex items-center justify-center gap-2"},Bo={key:2,class:"text-center py-24"},Ao={class:"max-w-md mx-auto space-y-6"},No={class:"space-y-2"},Mo={class:"text-xl font-semibold tracking-tight"},Po={class:"text-muted-foreground"},Lo={key:0},Io={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Ro={key:4,class:"mt-8 text-center"},$o={key:0,class:"flex items-center justify-center gap-2 py-4 text-muted-foreground"},Do={key:1,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Uo={key:2,class:"py-4 text-muted-foreground text-sm flex items-center justify-center"},Fo={__name:"SlugItems",setup(n,{expose:e}){const{t:s}=Pe(),i=R(!1),o=R(!1),t=R([]),a=R({count:0,page:1,rows:10}),r=R(""),l=R("all"),d=R(!0),u=async(v="",c="all")=>{const E=Math.random().toString(36).substring(2);i.value=!0,a.value.page=1,t.value=[],d.value=!0;const k={rows:a.value.rows,page:a.value.page};v&&(k.search=v),c&&c!=="all"&&(k.mode=c),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}).then(C=>C.json()).then(({data:C})=>{const{count:S,results:B}=C||{};a.value.count=S;const P=(B||[]).map(g=>{let b={};try{b=JSON.parse(g.value)}catch(T){console.log(T)}return{...g,...b,oid:E+g.key}});t.value=P,d.value=P.length===a.value.rows&&t.value.length<S}).finally(()=>{i.value=!1})},_=async()=>{if(o.value||!d.value)return;o.value=!0,a.value.page+=1;const v={rows:a.value.rows,page:a.value.page};r.value&&(v.search=r.value),l.value&&l.value!=="all"&&(v.mode=l.value),fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}).then(c=>c.json()).then(({data:c})=>{const{results:E}=c||{},k=Math.random().toString(36).substring(2),C=(E||[]).map(S=>{let B={};try{B=JSON.parse(S.value)}catch(P){console.log(P)}return{...S,...B,oid:k+S.key}});C.length>0?(t.value.push(...C),d.value=C.length===a.value.rows&&t.value.length<a.value.count):d.value=!1}).finally(()=>{o.value=!1})},f=(v,c="all")=>{r.value=v,l.value=c,u(v,c)},h=(v,c)=>{r.value=v,l.value=c,u(v,c)},w=ee(()=>v=>{const c=Le().find(E=>E.value===v);return c?c.label:v}),m=()=>{const{scrollTop:v,scrollHeight:c,clientHeight:E}=document.documentElement;v+E>=c-200&&d.value&&!o.value&&!i.value&&_()};return Lt(()=>{u(),window.addEventListener("scroll",m)}),It(()=>{window.removeEventListener("scroll",m)}),e({refresh:u,search:f,filter:h}),(v,c)=>(x(),A("div",bo,[r.value?(x(),A("div",wo,[y("div",_o,[y("div",Co,[r.value&&l.value!=="all"?(x(),A("span",ko,I(p(s)("table.searchInType",{query:r.value,type:w.value.value(l.value),count:a.value.count})),1)):r.value?(x(),A("span",Eo,I(p(s)("table.searchResults",{query:r.value,count:a.value.count})),1)):l.value!=="all"?(x(),A("span",xo,I(p(s)("table.filterResults",{type:w.value.value(l.value),count:a.value.count})),1)):W("",!0)])])])):W("",!0),i.value?(x(),A("div",So,[y("div",To,[c[1]||(c[1]=y("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"},null,-1)),y("span",null,I(p(s)("table.searching")),1)])])):t.value.length===0?(x(),A("div",Bo,[y("div",Ao,[c[3]||(c[3]=y("div",{class:"w-20 h-20 mx-auto rounded-full bg-muted flex items-center justify-center"},[y("i",{class:"icon-[material-symbols--link] h-10 w-10 text-muted-foreground"})],-1)),y("div",No,[y("h3",Mo,I(r.value||l.value!=="all"?p(s)("table.noResults"):p(s)("table.noData")),1),y("p",Po,I(r.value||l.value!=="all"?p(s)("table.tryAdjustFilters"):p(s)("table.createFirstLink")),1)]),r.value||l.value!=="all"?W("",!0):(x(),A("div",Lo,[L(p(D),{onClick:p(he),class:"gap-2"},{default:N(()=>[c[2]||(c[2]=y("i",{class:"icon-[material-symbols--add] h-4 w-4"},null,-1)),J(" "+I(p(s)("table.createLink")),1)]),_:1},8,["onClick"])]))])])):(x(),A("div",Io,[(x(!0),A(ye,null,ve(t.value,E=>(x(),$(no,oe({key:E.oid},{ref_for:!0},{item:E},{onRefresh:c[0]||(c[0]=()=>u(r.value,l.value))}),null,16))),128))])),t.value.length>0?(x(),A("div",Ro,[o.value?(x(),A("div",$o,[c[4]||(c[4]=y("i",{class:"icon-[material-symbols--progress-activity] animate-spin h-4 w-4"},null,-1)),y("span",null,I(p(s)("table.loadingMore")),1)])):d.value?(x(),A("div",Uo,[c[6]||(c[6]=y("i",{class:"icon-[material-symbols--keyboard-arrow-down] h-4 w-4 mr-1"},null,-1)),J(" "+I(p(s)("table.scrollToLoadMore")),1)])):(x(),A("div",Do,[c[5]||(c[5]=y("i",{class:"icon-[material-symbols--check-circle] h-4 w-4 mr-1"},null,-1)),J(" "+I(p(s)("table.allRecordsShown",{count:t.value.length})),1)]))])):W("",!0),L(vo)]))}},Oo={class:"min-h-screen bg-background"},zo={class:"border-b border-border"},jo={class:"container px-4 h-32 flex flex-col"},qo={class:"flex h-16 items-center justify-between"},Vo={class:"flex items-center gap-4"},Ho={class:"text-xl font-semibold tracking-tight"},Jo={class:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1"},Ko={class:"flex items-start gap-1"},Yo={class:"flex overflow-auto -ml-2"},Qo={class:"flex items-center gap-2"},Go={class:"flex items-center gap-2"},Xo={class:"container p-4"},tr={__name:"Manage",setup(n){const{t:e,locale:s}=Pe();$t();const i=location.host,o=R(null),t=R(!1),a=R(""),r=R(""),l=R("all"),d=()=>{he().then(()=>{o.value&&o.value.refresh(a.value.trim(),l.value)}).catch(()=>{})},u=()=>{o.value&&a.value.trim()!==r.value&&(r.value=a.value.trim(),o.value.search(r.value,l.value))},_=()=>{a.value="",r.value="",o.value&&o.value.search("",l.value)},f=w=>{l.value=w,o.value&&o.value.filter(a.value.trim(),w)};fe(a,w=>{!w.trim()&&r.value&&_()});const h=ee(()=>[{value:"all",label:e("common.all")},...Le()]);return(w,m)=>(x(),A("div",Oo,[y("div",zo,[y("div",jo,[y("div",qo,[y("div",Vo,[y("h1",Ho,I(p(i)),1),L(Ft)]),y("form",{class:"relative flex-1 ml-2 max-w-80",onSubmit:ue(u,["prevent"])},[(x(),$(p(ce),{id:"search",key:`search-${p(s)}`,modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=v=>a.value=v),onFocus:m[1]||(m[1]=v=>t.value=!0),onBlur:m[2]||(m[2]=v=>t.value=!1),onKeydown:Rt(u,["enter"]),placeholder:p(e)("shortLink.searchPlaceholder"),autocomplete:"off",class:"rounded-full pr-10"},null,8,["modelValue","placeholder"])),y("div",Jo,[a.value?(x(),$(p(D),{key:0,type:"button",variant:"ghost",size:"icon",class:"rounded-full h-6 w-6",onClick:_},{default:N(()=>[...m[3]||(m[3]=[y("i",{class:"icon-[material-symbols--close] h-4 w-4"},null,-1)])]),_:1})):(x(),$(p(D),{key:1,type:"button",variant:"ghost",size:"icon",class:"rounded-full h-6 w-6",onClick:u},{default:N(()=>[...m[4]||(m[4]=[y("i",{class:"icon-[material-symbols--search] h-5 w-5"},null,-1)])]),_:1}))])],32)]),m[7]||(m[7]=y("div",{class:"flex-1"},null,-1)),y("div",Ko,[y("div",Yo,[(x(!0),A(ye,null,ve(h.value,v=>(x(),A("div",{key:v.value,class:"shrink-0"},[L(p(D),{variant:"text",size:"sm",class:"gap-2 h-7 rounded-full shrink-0",onClick:c=>f(v.value)},{default:N(()=>[y("div",Qo,[y("span",null,I(v.label),1)])]),_:2},1032,["onClick"]),y("div",{class:q(["mt-1 h-0.5 w-0 mx-auto rounded-lg transition-all",{"bg-black !w-6":l.value==v.value}])},null,2)]))),128))]),m[6]||(m[6]=y("div",{class:"flex-1"},null,-1)),y("div",Go,[L(p(D),{onClick:d,size:"sm",class:"gap-1 h-7 rounded-full"},{default:N(()=>[m[5]||(m[5]=y("i",{class:"icon-[material-symbols--flash-on] text-sm"},null,-1)),y("span",null,I(p(e)("common.create")),1)]),_:1})])])])]),y("main",Xo,[L(Fo,{ref_key:"table",ref:o},null,512)])]))}};export{tr as default};
