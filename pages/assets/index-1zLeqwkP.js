import{a as L,h as m,T as I,B as Z,j as E,t as J,k as K,l as G,Z as Q,D as W,m as X,g as S,F as j,_ as M,b as V,d as F,e as T,f as O,L as A}from"./loader-2-kPl9rCWC.js";import{o as n,g as d,n as h,u as e,w as s,k as p,l as Y,p as ee,c as u,m as H,j as i,e as t,r as $,a as C,b as te,f as _,i as U,q as ae,F as D,t as P,s as B}from"./index-WG8Xe8iP.js";/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=L("PackagePlusIcon",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=L("PartyPopperIcon",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=L("ShuffleIcon",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),w={__name:"Separator",props:{orientation:{type:String,required:!1},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),d(e(I),{class:h([e(m)("shrink-0 bg-secondary",a.class),a.orientation==="vertical"?"w-px h-full":"h-px w-full"])},null,8,["class"]))}},ne={__name:"Dialog",setup(o){return(a,l)=>(n(),d(e(Z),null,{default:s(()=>[p(a.$slots,"default")]),_:3}))}},re={__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o;return(l,r)=>(n(),d(e(E),Y(ee(a)),{default:s(()=>[p(l.$slots,"default")]),_:3},16))}},ce={__name:"DialogHeader",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("div",{class:h(e(m)("flex flex-col space-y-2 text-center sm:text-left",a.class))},[p(l.$slots,"default")],2))}},ie={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),d(e(J),H(a,{class:e(m)("text-lg text-foreground font-semibold leading-none tracking-tight",a.class)}),{default:s(()=>[p(l.$slots,"default")]),_:3},16,["class"]))}};function ue(o,a){return n(),u("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})])}const de=i("span",{class:"sr-only"},"Close",-1),pe={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const l=o,c=K(a);return(y,b)=>(n(),d(e(X),null,{default:s(()=>[t(e(G),{class:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),t(e(Q),H({class:e(m)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",l.class)},{...l,...e(c)}),{default:s(()=>[p(y.$slots,"default"),t(e(W),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:s(()=>[t(e(ue),{class:"w-4 h-4"}),de]),_:1})]),_:3},16,["class"])]),_:3}))}},fe={__name:"DialogFooter",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("div",{class:h(e(m)("flex flex-col space-y-2 sm:space-y-0 mt-1.5 sm:flex-row sm:justify-end sm:space-x-2",a.class))},[p(l.$slots,"default")],2))}},_e={class:"flex"},me=i("div",{class:"relative my-5"},[i("div",{class:"absolute inset-0 flex items-center"},[i("span",{class:"w-full border-t"})]),i("div",{class:"relative flex justify-center text-xs uppercase"},[i("span",{class:"bg-background px-2 text-muted-foreground"}," Optional ")])],-1),he=i("h4",{class:"mb-4 text-sm font-medium leading-none"},"Tags",-1),ye={class:"text-sm"},ge={__name:"CreateLink",setup(o){const a=location.host,r=$({url:"",switch:{enabled:!0,proxy:!1,private:!1,expires:!1,password:!1,android:!1,ios:!1,download:!1,geo:!1},config:{expires:"",password:"",android:"",ios:"",geo:[],description:""}}),c=$({randomize:!1,create:!1}),y=async x=>{x.preventDefault(),c.value.randomize=!0,fetch("/api/?action=randomize",{method:"POST",headers:{"Content-Type":"application/json"}}).then(f=>f.json()).then(({data:f})=>{setTimeout(()=>{r.value.shorten=f},300)}).finally(()=>{setTimeout(()=>{c.value.randomize=!1},300)})},b=async()=>{if(c.value.create=!0,!r.value.url){alert("Destination URL is required");return}if(!r.value.shorten){alert("Short link is required");return}fetch("/api/?action=create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.value)}).then(x=>x.json()).then(({data:x})=>{console.log(x)}).finally(()=>{c.value.create=!1})},k=Array.from({length:20}).map((x,f,q)=>`v1.2.0-beta.${q.length-f}`);return(x,f)=>{const q=C("Form"),N=C("ScrollArea"),z=te("auto-animate");return n(),d(e(ne),null,{default:s(()=>[t(e(re),{"as-child":""},{default:s(()=>[t(e(S),{class:"mr-4"},{default:s(()=>[t(e(se),{class:"w-4 mr-2"}),_(" Create link ")]),_:1})]),_:1}),t(e(pe),{class:"sm:max-w-[480px]"},{default:s(()=>[t(e(ce),null,{default:s(()=>[t(e(ie),{class:"text-2xl"},{default:s(()=>[_("Create a new link")]),_:1})]),_:1}),t(e(w)),t(N,{class:"h-[300px] overflow-auto px-2 mx-[-8px]"},{default:s(()=>[t(q,null,{default:s(()=>[t(e(j),{name:"url"},{default:s(()=>[U((n(),d(e(M),{class:"mb-4"},{default:s(()=>[t(e(V),null,{default:s(()=>[_(" Destination URL ")]),_:1}),t(e(F),null,{default:s(()=>[t(e(T),{type:"text",placeholder:"https://example.com/post/long-url",class:"mt-2",modelValue:r.value.url,"onUpdate:modelValue":f[0]||(f[0]=g=>r.value.url=g)},null,8,["modelValue"])]),_:1}),t(e(O))]),_:1})),[[z]])]),_:1}),t(e(j),{name:"shorten"},{default:s(()=>[U((n(),d(e(M),null,{default:s(()=>[t(e(V),null,{default:s(()=>[_(" Short Link ")]),_:1}),t(e(F),null,{default:s(()=>[i("div",_e,[t(e(T),{type:"text",placeholder:"https://example.com",class:"w-[120px] rounded-r-none bg-slate-100",style:{"margin-top":"0"},modelValue:e(a),"onUpdate:modelValue":f[1]||(f[1]=g=>ae(a)?a.value=g:null),readonly:""},null,8,["modelValue"]),t(e(T),{type:"text",class:"rounded-l-none ml-[-1px]",style:{"margin-top":"0"},modelValue:r.value.shorten,"onUpdate:modelValue":f[2]||(f[2]=g=>r.value.shorten=g)},null,8,["modelValue"]),t(e(S),{type:"button",variant:"outline",size:"icon",class:"ml-2 flex-shrink-0",onClick:y},{default:s(()=>[c.value.randomize?(n(),d(e(A),{key:1,class:"w-4 h-4 animate-spin"})):(n(),d(e(oe),{key:0,class:"w-4 h-4"}))]),_:1})])]),_:1}),t(e(O))]),_:1})),[[z]])]),_:1})]),_:1}),me,he,(n(!0),u(D,null,B(e(k),g=>(n(),u("div",{key:g},[i("div",ye,P(g),1),t(e(w),{class:"my-2"})]))),128))]),_:1}),t(e(w)),t(e(fe),null,{default:s(()=>[t(e(S),{class:"mx-auto w-[200px]",onClick:b},{default:s(()=>[c.value.create?(n(),d(e(A),{key:1,class:"w-4 h-4 mr-2 animate-spin"})):(n(),d(e(le),{key:0,class:"w-4 h-4 mr-2"})),_(" Create link ")]),_:1})]),_:1})]),_:1})]),_:1})}}},xe={class:"w-full overflow-auto"},be={__name:"Table",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("div",xe,[i("table",{class:h(e(m)("w-full caption-bottom text-sm",a.class))},[p(l.$slots,"default")],2)]))}},ve={__name:"TableBody",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("tbody",{class:h(e(m)("[&_tr:last-child]:border-0",a.class))},[p(l.$slots,"default")],2))}},ke={__name:"TableCell",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("td",{class:h(e(m)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a.class))},[p(l.$slots,"default")],2))}},v={__name:"TableHead",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("th",{class:h(e(m)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a.class))},[p(l.$slots,"default")],2))}},we={__name:"TableHeader",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("thead",{class:h(e(m)("[&_tr]:border-b",a.class))},[p(l.$slots,"default")],2))}},R={__name:"TableRow",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("tr",{class:h(e(m)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a.class))},[p(l.$slots,"default")],2))}},$e={__name:"TableCaption",props:{class:{type:String,required:!1}},setup(o){const a=o;return(l,r)=>(n(),u("caption",{class:h(e(m)("mt-4 text-sm text-muted-foreground",a.class))},[p(l.$slots,"default")],2))}},Ce={__name:"ShortenTable",setup(o){const a=$(!1),l=$([]);return(async()=>{a.value=!0,fetch("/api/?action=get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rows:10,page:1})}).then(c=>c.json()).then(({data:c})=>{l.value=c.map(y=>({...y,shorten:location.origin+"/"+y.shorten}))}).finally(()=>{a.value=!1})})(),(c,y)=>(n(),d(e(be),null,{default:s(()=>[t(e($e),null,{default:s(()=>[_("A list of all your short url")]),_:1}),t(e(we),null,{default:s(()=>[t(e(R),null,{default:s(()=>[t(e(v),{class:"w-[200px]"},{default:s(()=>[_(" Shorten ")]),_:1}),t(e(v),{class:"w-[100px]"},{default:s(()=>[_("Status")]),_:1}),t(e(v),{class:"w-[100px]"},{default:s(()=>[_("222")]),_:1}),t(e(v),null,{default:s(()=>[_("Url")]),_:1}),t(e(v),{class:"text-right w-[200px]"},{default:s(()=>[_(" Action ")]),_:1})]),_:1})]),_:1}),t(e(ve),null,{default:s(()=>[(n(!0),u(D,null,B(l.value,b=>(n(),d(e(R),{key:b.id},{default:s(()=>[(n(),u(D,null,B(["shorten","switch","config","url","creation"],k=>t(e(ke),{key:k},{default:s(()=>[_(P(b[k]),1)]),_:2},1024)),64))]),_:2},1024))),128))]),_:1})]),_:1}))}},qe={class:"h-full flex-col flex"},Se={class:"container flex items-center justify-between py-4 md:h-32"},Te={class:"text-3xl font-semibold"},De={class:"ml-auto justify-end"},Be={class:"container h-full py-6"},ze={__name:"index",setup(o){const a=location.host;return(l,r)=>{const c=C("TabsContent"),y=C("Tabs");return n(),u("div",qe,[i("div",Se,[i("h2",Te,P(e(a)),1),i("div",De,[t(ge)])]),t(e(w)),t(y,{"default-value":"complete",class:"flex-1"},{default:s(()=>[i("div",Be,[t(c,{value:"complete",class:"mt-0 border-0 p-0"},{default:s(()=>[t(Ce)]),_:1})])]),_:1})])}}};export{ze as default};
